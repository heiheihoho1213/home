1:"$Sreact.fragment"
2:I[48226,["/_next/static/chunks/13d576de3999a9ec.js"],""]
122:I[99706,["/_next/static/chunks/b18da497cd71639c.js","/_next/static/chunks/a43937f87dbafba4.js"],"OutletBoundary"]
123:"$Sreact.suspense"
:HL["/img/posts/2023-10-26/2023-10-26-1.png","image"]
:HL["/img/posts/2023-10-26/2023-10-26-2.png","image"]
:HL["/img/posts/2023-10-26/2023-10-26-3.png","image"]
:HL["/img/posts/2023-10-26/2023-10-26-4.png","image"]
:HL["/img/posts/2023-10-26/2023-10-26-5.png","image"]
:HL["/img/posts/2023-10-26/2023-10-26-6.png","image"]
:HL["/img/posts/2023-10-26/2023-10-26-7.png","image"]
:HL["/img/posts/2023-10-26/2023-10-26-8.png","image"]
:HL["/img/posts/2023-10-26/2023-10-26-9.png","image"]
:HL["/img/posts/2023-10-26/2023-10-26-10.png","image"]
:HL["/img/posts/2023-10-26/2023-10-26-11.png","image"]
:HL["/img/posts/2023-10-26/2023-10-26-12.png","image"]
:HL["/img/posts/2023-10-26/2023-10-26-13.gif","image"]
:HL["/img/posts/2023-10-26/2023-10-26-14.png","image"]
:HL["/img/posts/2023-10-26/2023-10-26-15.png","image"]
:HL["/img/posts/2023-10-26/2023-10-26-16.png","image"]
:HL["/img/posts/2023-10-26/2023-10-26-17.png","image"]
:HL["/img/posts/2023-10-26/1.png","image"]
:HL["/img/posts/2023-10-26/2.png","image"]
:HL["/img/posts/2023-10-26/3.png","image"]
:HL["/img/posts/2023-10-26/2023-10-26-18.png","image"]
:HL["/img/posts/2023-10-26/2023-10-26-19.png","image"]
:HL["/img/posts/2023-10-26/2023-10-26-20.png","image"]
:HL["/img/posts/2023-10-26/2023-10-26-21.png","image"]
:HL["/img/posts/2023-10-26/2023-10-26-22.png","image"]
0:{"buildId":"gG-fcHfRh54-2G67d48NM","rsc":["$","$1","c",{"children":[["$","div",null,{"className":"max-w-4xl mx-auto","children":[["$","$L2",null,{"href":"/blog","children":["$","button",null,{"className":"\n        relative font-bold uppercase tracking-wider border-2 border-black transition-all duration-75 active:top-[4px] active:left-[4px] active:shadow-none \n        bg-white text-black hover:bg-gray-100 \n        shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]\n        py-3 px-6 \n         \n        mb-8\n      ","children":"← Back to Overview"}]}],["$","div",null,{"className":"\n      border-2 border-black \n      bg-white\n      shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]\n      \n      p-8 md:p-12 bg-white\n    ","children":[["$","div",null,{"className":"border-b-4 border-black pb-6 mb-8","children":[["$","div",null,{"className":"flex flex-wrap items-center gap-4 mb-4 text-sm font-bold uppercase tracking-wider text-gray-500","children":[["$","span",null,{"children":"2023-10-26"}],["$","span",null,{"children":"•"}],["$","span",null,{"children":["10 min"," ","read"]}],["$","span",null,{"className":"hidden sm:inline","children":"•"}],["$","div",null,{"className":"flex gap-2","children":[["$","span","浏览器",{"className":"bg-yellow-200 border border-black px-1.5 py-0.5 text-[10px] text-black","children":"浏览器"}]]}]]}],["$","h1",null,{"className":"text-4xl md:text-4xl font-black uppercase leading-none","children":"图解浏览器渲染原理"}]]}],["$","div",null,{"className":"prose prose-xl prose-black max-w-none font-medium markdown-content","children":[["$","p","p-0",{"className":"mb-4 text-lg leading-relaxed","children":"现代浏览器的底层原理特别的复杂，可以说是一个小型的操作系统。以 chrome 为例，他是多进程的浏览器，其中渲染页面是一个单独的进程，叫做渲染进程。目前用的最多的方式是一个 tab 页单独分配一个渲染进程来维护。每一个渲染进程中，有一个渲染主线程用于无阻塞地执行渲染任务。"}],"\n",["$","p","p-1",{"className":"mb-4 text-lg leading-relaxed","children":["渲染，通俗的解释就是",["$","strong","strong-0",{"className":"font-black","children":"将 html 字符串解析为图形像素信息"}],"的过程。你输入一个 url 地址后，会通过一系列解析，从目标服务器直接或间接获取到这个 html 字符串，而渲染进程要做的就是这个翻译为像素信息的过程。"]}],"\n",["$","p","p-2",{"className":"mb-4 text-lg leading-relaxed","children":"本文就通过图解来讲述浏览器的渲染主线程的工作过程。"}],"\n",["$","p","p-3",{"className":"mb-4 text-lg leading-relaxed","children":["$","a","a-0",{"href":"https://github.com/chromium/chromium","className":"text-blue-600 hover:underline font-bold whitespace-wrap break-words","target":"_blank","rel":"noopener noreferrer","children":"chromium 内核源码"}]}],"\n",["$","hr","hr-0",{}],"\n",["$","h2","h2-0",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"0. 渲染流水线"}],"\n",["$","p","p-4",{"className":"mb-4 text-lg leading-relaxed","children":"依据消息循环的概念，浏览器渲染主线程按照各个任务队列（微任务队列、交互队列，延时队列等）优先级，取用任务包并执行。那么，执行的这些包后的变更，何时会真正呈现在页面上呢？我们看图："}],"\n",["$","p","p-5",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-10-26/2023-10-26-1.png","alt":"无标题-2023-10-06-1925.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-10-26/2023-10-26-1.png","alt":"无标题-2023-10-06-1925.png"},"children":[],"position":{"start":{"line":16,"column":1,"offset":442},"end":{"line":16,"column":67,"offset":508}}}}]}],"\n",["$","p","p-6",{"className":"mb-4 text-lg leading-relaxed","children":"在浏览器向前端服务器请求到 html 字符串后，就打包为一个消息循环中的一个渲染任务，交由渲染主线程执行渲染工作。"}],"\n",["$","p","p-7",{"className":"mb-4 text-lg leading-relaxed","children":"那么浏览器是如何解析这个 html 字符串的呢？我们先来总览一下他的解析流水线，之后的小节再分步来讲解："}],"\n",["$","p","p-8",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-10-26/2023-10-26-2.png","alt":"无标题-2023-10-06-1925.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-10-26/2023-10-26-2.png","alt":"无标题-2023-10-06-1925.png"},"children":[],"position":{"start":{"line":23,"column":1,"offset":624},"end":{"line":23,"column":67,"offset":690}}}}]}],"\n",["$","h2","h2-1",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"1. 解析 HTML"}],"\n","$L3","\n","$L4","\n","$L5","\n","$L6","\n","$L7","\n","$L8","\n","$L9","\n","$La","\n","$Lb","\n","$Lc","\n","$Ld","\n","$Le","\n","$Lf","\n","$L10","\n","$L11","\n","$L12","\n","$L13","\n","$L14","\n","$L15","\n","$L16","\n","$L17","\n","$L18","\n","$L19","\n","$L1a","\n","$L1b","\n","$L1c","\n","$L1d","\n","$L1e","\n","$L1f","\n","$L20","\n","$L21","\n","$L22","\n","$L23","\n","$L24","\n","$L25","\n","$L26","\n","$L27","\n","$L28","\n","$L29","\n","$L2a","\n","$L2b","\n","$L2c","\n","$L2d","\n","$L2e","\n","$L2f","\n","$L30","\n","$L31","\n","$L32","\n","$L33","\n","$L34","\n","$L35","\n","$L36","\n","$L37","\n","$L38","\n","$L39","\n","$L3a","\n","$L3b","\n","$L3c","\n","$L3d","\n","$L3e","\n","$L3f","\n","$L40","\n","$L41","\n","$L42","\n","$L43","\n","$L44","\n","$L45","\n","$L46","\n","$L47","\n","$L48","\n","$L49","\n","$L4a","\n","$L4b","\n","$L4c","\n","$L4d","\n","$L4e","\n","$L4f","\n","$L50","\n","$L51","\n","$L52","\n","$L53","\n","$L54","\n","$L55","\n","$L56","\n","$L57","\n","$L58","\n","$L59","\n","$L5a","\n","$L5b","\n","$L5c","\n","$L5d","\n","$L5e","\n","$L5f","\n","$L60","\n","$L61","\n","$L62","\n","$L63","\n","$L64","\n","$L65","\n","$L66","\n","$L67","\n","$L68","\n","$L69","\n","$L6a","\n","$L6b","\n","$L6c","\n","$L6d","\n","$L6e","\n","$L6f","\n","$L70","\n","$L71","\n","$L72","\n","$L73","\n","$L74","\n","$L75","\n","$L76","\n","$L77","\n","$L78","\n","$L79"]}]]}]]}],null,"$L7a"]}],"loading":null,"isPartial":false}
3:["$","p","p-9",{"className":"mb-4 text-lg leading-relaxed","children":"我们获取一个页面，一般都是通过网络请求拿到 html 字符串本身的："}]
4:["$","p","p-10",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-10-26/2023-10-26-3.png","alt":"image.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-10-26/2023-10-26-3.png","alt":"image.png"},"children":[],"position":{"start":{"line":30,"column":1,"offset":744},"end":{"line":30,"column":53,"offset":796}}}}]}]
5:["$","p","p-11",{"className":"mb-4 text-lg leading-relaxed","children":["我们也可以加上 ",["$","code","code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"view-source","position":{"start":{"line":32,"column":9,"offset":806},"end":{"line":32,"column":22,"offset":819}}}],"position":{"start":{"line":32,"column":9,"offset":806},"end":{"line":32,"column":22,"offset":819}}},"children":"view-source"}]," 前缀来访问这个字符串：",["$","code","code-1",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"view-source:https://www.ucloud.cn","position":{"start":{"line":32,"column":34,"offset":831},"end":{"line":32,"column":69,"offset":866}}}],"position":{"start":{"line":32,"column":34,"offset":831},"end":{"line":32,"column":69,"offset":866}}},"children":"view-source:https://www.ucloud.cn"}]]}]
6:["$","p","p-12",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-10-26/2023-10-26-4.png","alt":"image.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-10-26/2023-10-26-4.png","alt":"image.png"},"children":[],"position":{"start":{"line":35,"column":1,"offset":869},"end":{"line":35,"column":53,"offset":921}}}}]}]
7:["$","p","p-13",{"className":"mb-4 text-lg leading-relaxed","children":"他与随后获取到的 css、js 文件共同影响了页面的渲染。"}]
8:["$","p","p-14",{"className":"mb-4 text-lg leading-relaxed","children":"浏览器获取到 HTML后，产生渲染任务，交给渲染主线程的消息队列。随后的渲染解析器会将这个结构解析为 DOM 树 和 CSSOM 树。"}]
9:["$","p","p-15",{"className":"mb-4 text-lg leading-relaxed","children":"先解释概念："}]
a:["$","ul","ul-0",{"className":"ml-4 list-disc mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"DOM树：文档对象模型，是网页中 html元素为根节点的一颗元素关联关系的集合"}],"\n"]}]
b:["$","p","p-16",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-10-26/2023-10-26-5.png","alt":"无标题-2023-10-06-1925.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-10-26/2023-10-26-5.png","alt":"无标题-2023-10-06-1925.png"},"children":[],"position":{"start":{"line":46,"column":1,"offset":1075},"end":{"line":46,"column":67,"offset":1141}}}}]}]
c:["$","ul","ul-1",{"className":"ml-4 list-disc mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"CSSOM树: 是网页CSS对象模型，描述页面DOM结构层集中的css样式"}],"\n"]}]
d:["$","p","p-17",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-10-26/2023-10-26-6.png","alt":"无标题-2023-10-06-1925.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-10-26/2023-10-26-6.png","alt":"无标题-2023-10-06-1925.png"},"children":[],"position":{"start":{"line":51,"column":1,"offset":1185},"end":{"line":51,"column":67,"offset":1251}}}}]}]
e:["$","p","p-18",{"className":"mb-4 text-lg leading-relaxed","children":"其中："}]
f:["$","ul","ul-2",{"className":"ml-4 list-disc mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"StyleSheetList 是页面 CSSOM 根节点，代表页面所有的样式表，其包含多套不同优先级的样式表"}],"\n",["$","li","li-1",{"className":"font-bold mb-2","children":["CSSStyleSheet 是页面样式表，有这几种：内联（",["$","code","code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"<div style=\"\">","position":{"start":{"line":56,"column":32,"offset":1347},"end":{"line":56,"column":48,"offset":1363}}}],"position":{"start":{"line":56,"column":32,"offset":1347},"end":{"line":56,"column":48,"offset":1363}}},"children":"<div style=\"\">"}],"）、外部（",["$","code","code-1",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"<link>","position":{"start":{"line":56,"column":53,"offset":1368},"end":{"line":56,"column":61,"offset":1376}}}],"position":{"start":{"line":56,"column":53,"offset":1368},"end":{"line":56,"column":61,"offset":1376}}},"children":"<link>"}],"）、内部（",["$","code","code-2",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"<style>","position":{"start":{"line":56,"column":66,"offset":1381},"end":{"line":56,"column":75,"offset":1390}}}],"position":{"start":{"line":56,"column":66,"offset":1381},"end":{"line":56,"column":75,"offset":1390}}},"children":"<style>"}],"）和默认样式表 （也叫用户代理样式表，每个浏览器内置样式），通过 ",["$","code","code-3",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"document.styleSheets","position":{"start":{"line":56,"column":108,"offset":1423},"end":{"line":56,"column":130,"offset":1445}}}],"position":{"start":{"line":56,"column":108,"offset":1423},"end":{"line":56,"column":130,"offset":1445}}},"children":"document.styleSheets"}]," 可以获取上下文中所有的样式表。"]}],"\n",["$","li","li-2",{"className":"font-bold mb-2","children":["CSSStyleRule：css 规则，比如：",["$","code","code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"body { margin: 0 }","position":{"start":{"line":57,"column":26,"offset":1487},"end":{"line":57,"column":46,"offset":1507}}}],"position":{"start":{"line":57,"column":26,"offset":1487},"end":{"line":57,"column":46,"offset":1507}}},"children":"body { margin: 0 }"}]," 就是一个规则"]}],"\n"]}]
10:["$","blockquote","blockquote-0",{"className":"bg-gray-100 p-4 border-l-4 border-black italic my-4","children":["\n",["$","p","p-0",{"className":"mb-4 text-lg leading-relaxed","children":"浏览器的 API 使用 C++ 实现，其使用 js 进行了封装，使得 DOM 操作可以使用 js 完成"}],"\n"]}]
11:["$","p","p-19",{"className":"mb-4 text-lg leading-relaxed","children":"知道了上述概念，我们来看一下浏览器解析 html 的过程："}]
12:["$","p","p-20",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-10-26/2023-10-26-7.png","alt":"无标题-2023-10-06-1925.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-10-26/2023-10-26-7.png","alt":"无标题-2023-10-06-1925.png"},"children":[],"position":{"start":{"line":64,"column":1,"offset":1603},"end":{"line":64,"column":67,"offset":1669}}}}]}]
13:["$","p","p-21",{"className":"mb-4 text-lg leading-relaxed","children":"我们来看图说话："}]
14:["$","ol","ol-0",{"className":"ml-4 list-decimal mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"渲染主线程无阻塞的读取 html 字符串"}],"\n",["$","li","li-1",{"className":"font-bold mb-2","children":"遇到css，交由预解析线程线程准备css资源，准备好后无阻塞解析，并推送任务。渲染主线程通过css构造CSSOM"}],"\n",["$","li","li-2",{"className":"font-bold mb-2","children":"遇到js，交由预解析线程准备js资源，准备好后开始执行js，js会影响CSSOM/DOM树的结构，所以主线程需要阻塞等待，执行完毕后，重新构建CSSOM/DOM树"}],"\n",["$","li","li-3",{"className":"font-bold mb-2","children":"渲染主线程继续向下执行，重复上面的步骤，直到结束。"}],"\n"]}]
15:["$","p","p-22",{"className":"mb-4 text-lg leading-relaxed","children":"这一步的产出：DOM/CSSOM"}]
16:["$","h2","h2-2",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"2. 样式计算"}]
17:["$","p","p-23",{"className":"mb-4 text-lg leading-relaxed","children":"这一步的目的是遍历 DOM树，找到页面各个元素的最终计算样式（Computed Style）："}]
18:["$","p","p-24",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-10-26/2023-10-26-8.png","alt":"image.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-10-26/2023-10-26-8.png","alt":"image.png"},"children":[],"position":{"start":{"line":80,"column":1,"offset":1960},"end":{"line":80,"column":53,"offset":2012}}}}]}]
19:["$","p","p-25",{"className":"mb-4 text-lg leading-relaxed","children":"在这个过程中："}]
1a:["$","ul","ul-3",{"className":"ml-4 list-disc mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"预设值会变为绝对值。比如 100% -> px，0.125rem -> px，red -> rgb(255, 0, 0)等"}],"\n",["$","li","li-1",{"className":"font-bold mb-2","children":"同一元素按照优先级层叠、继承等各种因素决定最终的样式"}],"\n",["$","li","li-2",{"className":"font-bold mb-2","children":"计算样式会展示所有的可能样式，即使没有设置过，也会是 none 或者 unset"}],"\n"]}]
1b:["$","p","p-26",{"className":"mb-4 text-lg leading-relaxed","children":["获取计算样式有哪些，可以使用 API：",["$","code","code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"getComputedStyle","position":{"start":{"line":88,"column":20,"offset":2179},"end":{"line":88,"column":38,"offset":2197}}}],"position":{"start":{"line":88,"column":20,"offset":2179},"end":{"line":88,"column":38,"offset":2197}}},"children":"getComputedStyle"}]]}]
1c:["$","p","p-27",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-10-26/2023-10-26-9.png","alt":"image.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-10-26/2023-10-26-9.png","alt":"image.png"},"children":[],"position":{"start":{"line":91,"column":1,"offset":2200},"end":{"line":91,"column":53,"offset":2252}}}}]}]
1d:["$","h2","h2-3",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"3. 布局"}]
1e:["$","p","p-28",{"className":"mb-4 text-lg leading-relaxed","children":"布局的过程，就是通过 CSSOM/DOM 树生成真正在页面展示的结构布局树。我们看图："}]
1f:["$","p","p-29",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-10-26/2023-10-26-10.png","alt":"无标题-2023-10-06-1925.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-10-26/2023-10-26-10.png","alt":"无标题-2023-10-06-1925.png"},"children":[],"position":{"start":{"line":98,"column":1,"offset":2310},"end":{"line":98,"column":68,"offset":2377}}}}]}]
20:["$","p","p-30",{"className":"mb-4 text-lg leading-relaxed","children":"上图这个例子就很好的说明了 DOM 树和布局树的区别。布局树中的各个节点都是会有自己的包含块的。"}]
21:["$","blockquote","blockquote-1",{"className":"bg-gray-100 p-4 border-l-4 border-black italic my-4","children":["\n",["$","p","p-0",{"className":"mb-4 text-lg leading-relaxed","children":"包含块：100% 计算的相对尺寸就是该元素的包含块。如果是 absolute 定位元素，其包含块是离他最近的设置了非 static 定位的祖先元素"}],"\n"]}]
22:["$","p","p-31",{"className":"mb-4 text-lg leading-relaxed","children":"其实在 chrome 源码中也规定了各个标签的内置样式，他们都会在布局阶段进行判断："}]
23:["$","p","p-32",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-10-26/2023-10-26-11.png","alt":"image.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-10-26/2023-10-26-11.png","alt":"image.png"},"children":[],"position":{"start":{"line":107,"column":1,"offset":2551},"end":{"line":107,"column":54,"offset":2604}}}}]}]
24:["$","p","p-33",{"className":"mb-4 text-lg leading-relaxed","children":["另外一个布局与 DOM 不一样的是：文本内容必须在行盒中，具名的行盒和块盒在布局树中不能相邻，比如一个 ",["$","code","code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"inline-block","position":{"start":{"line":109,"column":53,"offset":2658},"end":{"line":109,"column":67,"offset":2672}}}],"position":{"start":{"line":109,"column":53,"offset":2658},"end":{"line":109,"column":67,"offset":2672}}},"children":"inline-block"}]," 和一个 ",["$","code","code-1",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"flex","position":{"start":{"line":109,"column":72,"offset":2677},"end":{"line":109,"column":78,"offset":2683}}}],"position":{"start":{"line":109,"column":72,"offset":2677},"end":{"line":109,"column":78,"offset":2683}}},"children":"flex"}],"，他们肯定是分两行显示的，浏览器一种处理方式是插入一个或多个匿名的盒子来做间隔："]}]
25:["$","p","p-34",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-10-26/2023-10-26-12.png","alt":"无标题-2023-10-06-1925.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-10-26/2023-10-26-12.png","alt":"无标题-2023-10-06-1925.png"},"children":[],"position":{"start":{"line":112,"column":1,"offset":2726},"end":{"line":112,"column":68,"offset":2793}}}}]}]
26:["$","blockquote","blockquote-2",{"className":"bg-gray-100 p-4 border-l-4 border-black italic my-4","children":["\n",["$","p","p-0",{"className":"mb-4 text-lg leading-relaxed","children":"布局需要考虑的因素有很多，定位、样式、 BFC 等；同时在布局树里也会暴露一些常用信息，比如 clientHeight、offsetHeight 等"}],"\n"]}]
27:["$","blockquote","blockquote-3",{"className":"bg-gray-100 p-4 border-l-4 border-black italic my-4","children":["\n",["$","p","p-0",{"className":"mb-4 text-lg leading-relaxed","children":"布局的例子还有很多，上面的例子旨在说明 DOM 树（json）和 布局树的结构（c++ 对象）往往是不一样的"}],"\n"]}]
28:["$","h2","h2-4",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"4. 分层"}]
29:["$","p","p-35",{"className":"mb-4 text-lg leading-relaxed","children":"现代浏览器为了提升渲染效率，将二维提升到三维，增加维度，开辟新的空间。类似于 PS 中的图层，便于局部渲染。"}]
2a:["$","p","p-36",{"className":"mb-4 text-lg leading-relaxed","children":"在布局确定了元素的位置和样式以后，浏览器会根据渲染引擎的不同采用不同的分层方式。"}]
2b:["$","p","p-37",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-10-26/2023-10-26-13.gif","alt":"屏幕录制2023-10-26 下午4.29.57 (2).gif","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-10-26/2023-10-26-13.gif","alt":"屏幕录制2023-10-26 下午4.29.57 (2).gif"},"children":[],"position":{"start":{"line":126,"column":1,"offset":3041},"end":{"line":126,"column":77,"offset":3117}}}}]}]
2c:["$","blockquote","blockquote-4",{"className":"bg-gray-100 p-4 border-l-4 border-black italic my-4","children":["\n",["$","p","p-0",{"className":"mb-4 text-lg leading-relaxed","children":"上图中可以看到，是有分层的。至少滚动条是默认层级高于页面的。"}],"\n"]}]
2d:["$","p","p-38",{"className":"mb-4 text-lg leading-relaxed","children":"分层一般是跟 css 属性有关系，一般地，堆叠上下文相关的属性会影响分层。 比如 z-index 强制提高层级；whil-change 则适用于分层渲染的浏览器，告诉浏览器，根据实际情况将其单独分层。"}]
2e:["$","p","p-39",{"className":"mb-4 text-lg leading-relaxed","children":"分层的作用："}]
2f:["$","ul","ul-4",{"className":"ml-4 list-disc mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"提高渲染效率：适用于位置反复变化的元素，回流重绘只在同层出现，计算量会减少"}],"\n"]}]
30:["$","p","p-40",{"className":"mb-4 text-lg leading-relaxed","children":"分层不能滥用："}]
31:["$","ul","ul-5",{"className":"ml-4 list-disc mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"分层会增加内存消耗，过多的分层会导致浏览器遍历和计算的耗时变长。所以应该避免无意义的分层或者不合理的分层"}],"\n"]}]
32:["$","h2","h2-5",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"5. 绘制指令"}]
33:["$","p","p-41",{"className":"mb-4 text-lg leading-relaxed","children":["这一步是渲染主线程的最后一步操作，",["$","strong","strong-0",{"className":"font-black","children":"他针对每一层元素，生成对应的绘制指令：比如将笔移动到 (x, y)，绘制宽度100px的黑色直线..."}],"（类似 canvas）。"]}]
34:["$","p","p-42",{"className":"mb-4 text-lg leading-relaxed","children":"从这一步往后，渲染主线程的工作就完成了，渲染主线程会带着所有生成的绘制指令集，将任务交给其他线程完成。"}]
35:["$","p","p-43",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-10-26/2023-10-26-14.png","alt":"无标题-2023-10-11-1617.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-10-26/2023-10-26-14.png","alt":"无标题-2023-10-11-1617.png"},"children":[],"position":{"start":{"line":147,"column":1,"offset":3521},"end":{"line":147,"column":68,"offset":3588}}}}]}]
36:["$","h2","h2-6",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"6. 分块（tiling）"}]
37:["$","p","p-44",{"className":"mb-4 text-lg leading-relaxed","children":"到了这一步，浏览器会将每一层上的元素分成不同的块，确定各个块的优先级。一般靠近视口的块优先级会相对较高。"}]
38:["$","p","p-45",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-10-26/2023-10-26-15.png","alt":"无标题-2023-10-11-1617.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-10-26/2023-10-26-15.png","alt":"无标题-2023-10-11-1617.png"},"children":[],"position":{"start":{"line":155,"column":1,"offset":3664},"end":{"line":155,"column":68,"offset":3731}}}}]}]
39:["$","p","p-46",{"className":"mb-4 text-lg leading-relaxed","children":"分块一般是交给分块线程来完成的，他会维护很多个合成器来管理这些块的合并和展开。"}]
3a:["$","h2","h2-7",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"7. 光栅化（GPU计算为主）"}]
3b:["$","p","p-47",{"className":"mb-4 text-lg leading-relaxed","children":"光栅化（Raster）是图像处理的一个概念，他将按照每一个块的优先级，将各个块元素解析为位图格式。如图展示了一个像素点及其周边连通区域像素点的示意图："}]
3c:["$","p","p-48",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-10-26/2023-10-26-16.png","alt":"无标题-2023-10-11-1617.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-10-26/2023-10-26-16.png","alt":"无标题-2023-10-11-1617.png"},"children":[],"position":{"start":{"line":165,"column":1,"offset":3873},"end":{"line":165,"column":68,"offset":3940}}}}]}]
3d:["$","p","p-49",{"className":"mb-4 text-lg leading-relaxed","children":"我们所说的 GPU计算主要就是在这一个环节，GPU 比 CPU 更擅长光栅化计算，其本质是矩阵的运算。在浏览器中，这一过程将分配给 GPU 进程来处理。"}]
3e:["$","h2","h2-8",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"8. 最终绘制（GPU计算为主）"}]
3f:["$","p","p-50",{"className":"mb-4 text-lg leading-relaxed","children":"合成线程负责计算出每一个位图在屏幕上的位置，交给 GPU 进行最终呈现。"}]
40:["$","p","p-51",{"className":"mb-4 text-lg leading-relaxed","children":"这里来解释一下，渲染进程实际上是在沙盒里边运行的，其没有操作硬件的能力，所以这里必须要交给 GPU 进程过渡。"}]
41:["$","p","p-52",{"className":"mb-4 text-lg leading-relaxed","children":["比较神奇的是，css 样式 ",["$","strong","strong-0",{"className":"font-black","children":"transform"}]," 并不是在光栅化中生成像素点，而是在这一步真正要画的时候决定的，就是在 GPU 做一个矩阵变换。"]}]
42:["$","p","p-53",{"className":"mb-4 text-lg leading-relaxed","children":["我们举一个矩阵乘法 做 ",["$","strong","strong-0",{"className":"font-black","children":"skewX"}]," 的例子。我们将 google 首页的 logo 横向扭曲一下："]}]
43:["$","p","p-54",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-10-26/2023-10-26-17.png","alt":"image.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-10-26/2023-10-26-17.png","alt":"image.png"},"children":[],"position":{"start":{"line":181,"column":1,"offset":4270},"end":{"line":181,"column":54,"offset":4323}}}}]}]
44:["$","p","p-55",{"className":"mb-4 text-lg leading-relaxed","children":["我们用一个点 P(x, y, 1) 来说明问题，将其表示为齐次坐标形式 [x, y, 1]。（模型参考：",["$","a","a-0",{"href":"https://developer.mozilla.org/zh-CN/docs/Web/CSS/transform-function/skewX","className":"text-blue-600 hover:underline font-bold whitespace-wrap break-words","target":"_blank","rel":"noopener noreferrer","children":"skewX() - CSS：层叠样式表 | MDN (mozilla.org)"}],"）"]}]
45:["$","code","pre-0,code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"P = [x, y, 1] \n"}],"position":{"start":{"line":186,"column":1,"offset":4497},"end":{"line":188,"column":4,"offset":4519}}},"children":"P = [x, y, 1] \n"}]
46:["$","p","p-56",{"className":"mb-4 text-lg leading-relaxed","children":"使用乘法算子 T 表示转换矩阵："}]
47:["$","code","pre-1,code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"T = \\begin{bmatrix}  \n1 &  tan(25deg) & 0 \\\\  \n0 & 1 & 0 \\\\  \n0 & 0 & 1  \\\\  \n\\end{bmatrix}\n"}],"position":{"start":{"line":192,"column":1,"offset":4540},"end":{"line":198,"column":4,"offset":4639}}},"children":"T = \\begin{bmatrix}  \n1 &  tan(25deg) & 0 \\\\  \n0 & 1 & 0 \\\\  \n0 & 0 & 1  \\\\  \n\\end{bmatrix}\n"}]
48:["$","p","p-57",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-10-26/1.png","alt":"image.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-10-26/1.png","alt":"image.png"},"children":[],"position":{"start":{"line":199,"column":1,"offset":4640},"end":{"line":199,"column":42,"offset":4681}}}}]}]
49:["$","p","p-58",{"className":"mb-4 text-lg leading-relaxed","children":["现在，我们要将这个点应用 ",["$","code","code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"transform: skewX(25deg)","position":{"start":{"line":202,"column":14,"offset":4697},"end":{"line":202,"column":39,"offset":4722}}}],"position":{"start":{"line":202,"column":14,"offset":4697},"end":{"line":202,"column":39,"offset":4722}}},"children":"transform: skewX(25deg)"}]," 变换。"]}]
4a:["$","code","pre-2,code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"P' = T * P^{\\text{T}} = [x', y', z']\n"}],"position":{"start":{"line":204,"column":1,"offset":4728},"end":{"line":206,"column":4,"offset":4772}}},"children":"P' = T * P^{\\text{T}} = [x', y', z']\n"}]
4b:["$","p","p-59",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-10-26/2.png","alt":"image.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-10-26/2.png","alt":"image.png"},"children":[],"position":{"start":{"line":207,"column":1,"offset":4773},"end":{"line":207,"column":42,"offset":4814}}}}]}]
4c:["$","p","p-60",{"className":"mb-4 text-lg leading-relaxed","children":"计算后得："}]
4d:["$","code","pre-3,code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"x' = x + tan(25deg) * y  \n"}],"position":{"start":{"line":211,"column":1,"offset":4823},"end":{"line":213,"column":4,"offset":4856}}},"children":"x' = x + tan(25deg) * y  \n"}]
4e:["$","code","pre-4,code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"y' = y  \n"}],"position":{"start":{"line":214,"column":1,"offset":4857},"end":{"line":216,"column":4,"offset":4873}}},"children":"y' = y  \n"}]
4f:["$","code","pre-5,code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"z' = z = 1\n"}],"position":{"start":{"line":217,"column":1,"offset":4874},"end":{"line":219,"column":4,"offset":4892}}},"children":"z' = z = 1\n"}]
50:["$","p","p-61",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-10-26/3.png","alt":"image.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-10-26/3.png","alt":"image.png"},"children":[],"position":{"start":{"line":220,"column":1,"offset":4893},"end":{"line":220,"column":42,"offset":4934}}}}]}]
51:["$","p","p-62",{"className":"mb-4 text-lg leading-relaxed","children":["可以看到，skewX 后，纵坐标没有变，横坐标整体向右移动了 ",["$","code","code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"tan(25deg) * y","position":{"start":{"line":223,"column":32,"offset":4968},"end":{"line":223,"column":48,"offset":4984}}}],"position":{"start":{"line":223,"column":32,"offset":4968},"end":{"line":223,"column":48,"offset":4984}}},"children":"tan(25deg) * y"}]," 的距离，根据三角函数公式可以看出，确实是向右倾斜了 25 度。"]}]
52:["$","blockquote","blockquote-5",{"className":"bg-gray-100 p-4 border-l-4 border-black italic my-4","children":["\n",["$","p","p-0",{"className":"mb-4 text-lg leading-relaxed","children":"skewX 倾斜是根据图形的中心点进行的，下半部分向右平移，上半部分向左平移；上面的例子只举例了下半部分的情况。"}],"\n"]}]
53:["$","blockquote","blockquote-6",{"className":"bg-gray-100 p-4 border-l-4 border-black italic my-4","children":["\n",["$","p","p-0",{"className":"mb-4 text-lg leading-relaxed","children":["同类型的操作还有 缩放(",["$","code","code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"scale","position":{"start":{"line":227,"column":15,"offset":5092},"end":{"line":227,"column":22,"offset":5099}}}],"position":{"start":{"line":227,"column":15,"offset":5092},"end":{"line":227,"column":22,"offset":5099}}},"children":"scale"}],")，旋转(",["$","code","code-1",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"rotate","position":{"start":{"line":227,"column":27,"offset":5104},"end":{"line":227,"column":35,"offset":5112}}}],"position":{"start":{"line":227,"column":27,"offset":5104},"end":{"line":227,"column":35,"offset":5112}}},"children":"rotate"}],")以及位移(",["$","code","code-2",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"translate","position":{"start":{"line":227,"column":41,"offset":5118},"end":{"line":227,"column":52,"offset":5129}}}],"position":{"start":{"line":227,"column":41,"offset":5118},"end":{"line":227,"column":52,"offset":5129}}},"children":"translate"}],") 等"]}],"\n"]}]
54:["$","hr","hr-1",{}]
55:["$","p","p-63",{"className":"mb-4 text-lg leading-relaxed","children":"再来看一下完整的过程，帮助回忆："}]
56:["$","p","p-64",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-10-26/2023-10-26-18.png","alt":"无标题-2023-10-06-1925.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-10-26/2023-10-26-18.png","alt":"无标题-2023-10-06-1925.png"},"children":[],"position":{"start":{"line":233,"column":1,"offset":5168},"end":{"line":233,"column":68,"offset":5235}}}}]}]
57:["$","hr","hr-2",{}]
58:["$","h2","h2-9",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"9. Q & A"}]
59:["$","h4","h4-0",{"children":"什么是 reflow ？"}]
5a:["$","p","p-65",{"className":"mb-4 text-lg leading-relaxed","children":"回流的本质是重新计算布局树。我们来看一下回流的执行过程："}]
5b:["$","p","p-66",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-10-26/2023-10-26-19.png","alt":"无标题-2023-10-11-1617.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-10-26/2023-10-26-19.png","alt":"无标题-2023-10-11-1617.png"},"children":[],"position":{"start":{"line":244,"column":1,"offset":5307},"end":{"line":244,"column":68,"offset":5374}}}}]}]
5c:["$","p","p-67",{"className":"mb-4 text-lg leading-relaxed","children":"当进行了影响布局的操作后（cssom改变），会引发一次 layout。"}]
5d:["$","p","p-68",{"className":"mb-4 text-lg leading-relaxed","children":"浏览器有自己的优化策略，往往将多次回流合并执行（浏览器会在消息队列做优化），比如在 js 代码全部执行完毕后进行统一执行，所以 reflow 是异步执行的。所以，在某种场景下，js 可能不能实时获取（同步获取）最新的布局信息。（可以通过直接同步读取属性来强制触发回流）"}]
5e:["$","blockquote","blockquote-7",{"className":"bg-gray-100 p-4 border-l-4 border-black italic my-4","children":["\n",["$","p","p-0",{"className":"mb-4 text-lg leading-relaxed","children":"开发过程中，代码应该避免频繁修改布局树（height/width/margin/padding...）"}],"\n"]}]
5f:["$","h4","h4-1",{"children":"什么是 repaint ？"}]
60:["$","p","p-69",{"className":"mb-4 text-lg leading-relaxed","children":"重绘的本质是重新根据分层信息计算绘制的指令。他开始的节点一般是 paint，某种情况也会引起分层变化。"}]
61:["$","p","p-70",{"className":"mb-4 text-lg leading-relaxed","children":"回流一定会引起重绘。"}]
62:["$","p","p-71",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-10-26/2023-10-26-20.png","alt":"无标题-2023-10-11-1617.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-10-26/2023-10-26-20.png","alt":"无标题-2023-10-11-1617.png"},"children":[],"position":{"start":{"line":259,"column":1,"offset":5690},"end":{"line":259,"column":68,"offset":5757}}}}]}]
63:["$","h4","h4-2",{"children":"为什么 transform 效率高 ？"}]
64:["$","p","p-72",{"className":"mb-4 text-lg leading-relaxed","children":"因为计算 transform 是在最后一步（draw）时，针对本层级的元素，在 GPU 中执行变换的，不会引起回流和重绘。"}]
65:["$","p","p-73",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-10-26/2023-10-26-21.png","alt":"无标题-2023-10-11-1617.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-10-26/2023-10-26-21.png","alt":"无标题-2023-10-11-1617.png"},"children":[],"position":{"start":{"line":266,"column":1,"offset":5849},"end":{"line":266,"column":68,"offset":5916}}}}]}]
66:["$","p","p-74",{"className":"mb-4 text-lg leading-relaxed","children":"上图可以看到，transform 不在渲染主线程中执行任务，所以，即使页面 js 进入了死循环，动画也可以正确执行。"}]
67:["$","h2","h2-10",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"10. 附：requestAnimationFrame 与 requestIdleCallback"}]
68:["$","h4","h4-3",{"children":"渲染任务出现的时机"}]
69:["$","p","p-75",{"className":"mb-4 text-lg leading-relaxed","children":["视具体情况而定，并不是每一轮消息循环结束时都会产生一个",["$","strong","strong-0",{"className":"font-black","children":"渲染任务"}],"。这要根据屏幕刷新率、页面性能、页面是否在后台运行等来共同决定，通常来说这个渲染间隔是固定的。通常决定渲染时机的因素有如下几点："]}]
6a:["$","ol","ol-1",{"className":"ml-4 list-decimal mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"显示器一般帧率为 60fps（每 16.66ms 渲染一次），如果页面性能维持不了 60fps，浏览器会降到 30fps 以保证渲染能够进行下去。"}],"\n",["$","li","li-1",{"className":"font-bold mb-2","children":"如果浏览器上下文不可见，那么页面会降低到 4fps 左右甚至更低。"}],"\n",["$","li","li-2",{"className":"font-bold mb-2","children":["如果浏览器判定当前改动不会引起视觉变化或者 ",["$","strong","strong-0",{"className":"font-black","children":["$","code","code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"requestAnimationFrame","position":{"start":{"line":279,"column":28,"offset":6291},"end":{"line":279,"column":51,"offset":6314}}}],"position":{"start":{"line":279,"column":28,"offset":6291},"end":{"line":279,"column":51,"offset":6314}}},"children":"requestAnimationFrame"}]}]," 回调为空时，则会跳过渲染。"]}],"\n",["$","li","li-3",{"className":"font-bold mb-2","children":["在页面 resize、页面 scroll、",["$","strong","strong-0",{"className":"font-black","children":["$","code","code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"requestAnimationFrame","position":{"start":{"line":280,"column":27,"offset":6357},"end":{"line":280,"column":50,"offset":6380}}}],"position":{"start":{"line":280,"column":27,"offset":6357},"end":{"line":280,"column":50,"offset":6380}}},"children":"requestAnimationFrame"}]}]," 调用、IntersectionObserver 触发显示、元素显示、隐藏或结构变化时，一般在渲染间隔到来时会推送一个渲染任务。"]}],"\n"]}]
6b:["$","h4","h4-4",{"children":"requestAnimationFrame"}]
6c:["$","p","p-76",{"className":"mb-4 text-lg leading-relaxed","children":"requestAnimationFrame 的回调有两个特点："}]
6d:["$","ol","ol-2",{"className":"ml-4 list-decimal mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"在重新渲染前调用。"}],"\n",["$","li","li-1",{"className":"font-bold mb-2","children":"回调合并执行。"}],"\n"]}]
6e:["$","p","p-77",{"className":"mb-4 text-lg leading-relaxed","children":"第一条，保证了在渲染任务执行之前执行完想要改变的元素，保证了动画的流畅，不会拖延到下一帧再渲染。第二条我们可以看一段代码："}]
6f:["$","div","pre-6,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"// requestAnimationFrame 在渲染任务执行之前执行\nsetTimeout(() => {\n  console.log(1)\n  requestAnimationFrame(() => console.log(2))\n})\nsetTimeout(() => {\n  console.log(3)\n  requestAnimationFrame(() => console.log(4))\n})\n\nqueueMicrotask(() => console.log(5))\nqueueMicrotask(() => console.log(6))\n\n/** 输出\n5\n6\n1\n3\n2\n4\n*/\n"}],"position":{"start":{"line":291,"column":1,"offset":6599},"end":{"line":313,"column":4,"offset":6913}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// requestAnimationFrame 在渲染任务执行之前执行"]}],["$","span","code-segment-2",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-4",{"style":{},"children":[""]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["setTimeout"]}],["$","span","code-segment-6",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-7",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-8",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-9",{"style":{},"children":[" "]}],["$","span","code-segment-10",{"className":"token arrow","style":{"color":"hsl(221, 87%, 60%)"},"children":["=>"]}],["$","span","code-segment-11",{"style":{},"children":[" "]}],["$","span","code-segment-12",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-13",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-15",{"style":{},"children":["  "]}],["$","span","code-segment-16",{"className":"token console","style":{"color":"hsl(35, 99%, 36%)"},"children":["console"]}],["$","span","code-segment-17",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}],["$","span","code-segment-18",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["log"]}],["$","span","code-segment-19",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-20",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["1"]}],["$","span","code-segment-21",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-22",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],"$L7b","$L7c","$L7d","$L7e","$L7f","$L80","$L81","$L82","$L83","$L84","$L85","$L86","$L87","$L88","$L89","$L8a","$L8b","$L8c","$L8d","$L8e","$L8f","$L90","$L91","$L92","$L93","$L94","$L95","$L96","$L97","$L98","$L99","$L9a","$L9b","$L9c","$L9d","$L9e","$L9f","$La0","$La1","$La2","$La3","$La4","$La5","$La6","$La7","$La8","$La9","$Laa","$Lab","$Lac","$Lad","$Lae","$Laf","$Lb0","$Lb1","$Lb2","$Lb3","$Lb4","$Lb5","$Lb6","$Lb7","$Lb8","$Lb9","$Lba","\n","$Lbb","$Lbc","$Lbd","$Lbe","$Lbf","$Lc0","$Lc1","$Lc2","$Lc3","$Lc4","$Lc5","$Lc6","$Lc7","$Lc8","$Lc9","$Lca","$Lcb","$Lcc","$Lcd","$Lce","$Lcf","$Ld0","$Ld1","$Ld2","$Ld3","$Ld4","$Ld5","$Ld6","$Ld7","$Ld8","$Ld9","$Lda","$Ldb","$Ldc","$Ldd","\n","$Lde","$Ldf","$Le0","$Le1","$Le2","$Le3","$Le4","$Le5","$Le6","$Le7"]]}]}]}]
70:["$","blockquote","blockquote-8",{"className":"bg-gray-100 p-4 border-l-4 border-black italic my-4","children":["\n",["$","p","p-0",{"className":"mb-4 text-lg leading-relaxed","children":"queueMicrotask 是 web API，用于创建一个微任务"}],"\n"]}]
71:["$","h4","h4-5",{"children":"requestIdleCallback"}]
72:["$","p","p-78",{"className":"mb-4 text-lg leading-relaxed","children":"requestIdleCallback 是空闲调度算法，把一些计算量较大但是又没那么紧急（任务队列的优先级决定）的任务放到空闲时间去执行。不要去影响浏览器中优先级较高的任务，比如动画绘制、用户输入、微任务等等。"}]
73:["$","div","pre-7,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"// 定义你的计算密集型任务  \nfunction computeIntensiveTask() {  \n  // 执行一些复杂的计算...  \n}  \n  \n// 使用 requestIdleCallback 在空闲时执行任务  \nrequestIdleCallback(function() {  \n  computeIntensiveTask();  \n}, {  \n  timeout: 1000, // 设置超时时间，如果在这段时间内没有空闲时间，回调函数将被取消  \n  dependencies: [] // 可以设置依赖项，当所有依赖项都完成时，才会执行回调函数  \n});\n"}],"position":{"start":{"line":322,"column":1,"offset":7087},"end":{"line":335,"column":4,"offset":7392}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 定义你的计算密集型任务  "]}],["$","span","code-segment-2",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-4",{"style":{},"children":[""]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}],["$","span","code-segment-6",{"style":{},"children":[" "]}],["$","span","code-segment-7",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["computeIntensiveTask"]}],["$","span","code-segment-8",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-9",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-10",{"style":{},"children":[" "]}],["$","span","code-segment-11",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-12",{"style":{},"children":["  \n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-14",{"style":{},"children":["  "]}],["$","span","code-segment-15",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 执行一些复杂的计算...  "]}],["$","span","code-segment-16",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],["$","span","code-segment-18",{"style":{},"children":[""]}],["$","span","code-segment-19",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}],["$","span","code-segment-20",{"style":{},"children":["  \n"]}],["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}],"  \n",["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}],"$Le8","$Le9","$Lea","$Leb","$Lec","$Led","$Lee","$Lef","$Lf0","$Lf1","$Lf2","$Lf3","$Lf4","$Lf5","$Lf6","$Lf7","$Lf8","$Lf9","$Lfa","$Lfb","$Lfc","$Lfd","$Lfe","$Lff","$L100","$L101","$L102","$L103","$L104","$L105","$L106","$L107","$L108","$L109","$L10a","$L10b","$L10c","$L10d","$L10e","$L10f","$L110","$L111","$L112","$L113","$L114","$L115","$L116","$L117","$L118","$L119","$L11a","$L11b"]]}]}]}]
74:["$","p","p-79",{"className":"mb-4 text-lg leading-relaxed","children":"但是，其兼容性还不好，导致 React 的 fiber 不得不自己实现了一套这个 API。"}]
75:["$","p","p-80",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-10-26/2023-10-26-22.png","alt":"image.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-10-26/2023-10-26-22.png","alt":"image.png"},"children":[],"position":{"start":{"line":340,"column":1,"offset":7442},"end":{"line":340,"column":54,"offset":7495}}}}]}]
76:["$","h2","h2-11",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"11. 总结"}]
77:["$","h4","h4-6",{"children":"浏览器是如何渲染页面的？"}]
78:["$","ol","ol-3",{"className":"ml-4 list-decimal mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"接受 HTML，产生渲染任务，交给渲染主线程的消息队列"}],"\n",["$","li","li-1",{"className":"font-bold mb-2","children":"在消息循环机制下，渲染主线程依次取出任务并开始渲染"}],"\n",["$","li","li-2",{"className":"font-bold mb-2","children":"渲染任务分为多个阶段串行流水执行:"}],"\n"]}]
79:["$","div","pre-8,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"1. html解析\n2. 样式计算\n3. 布局\n4. 分层\n5. 绘制指令\n6. 分块\n7. 光栅化\n8. 画出像素点。\n"}],"position":{"start":{"line":351,"column":1,"offset":7610},"end":{"line":360,"column":4,"offset":7680}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["1."]}],["$","span","code-segment-2",{"style":{},"children":[" html解析\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-4",{"style":{},"children":[""]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["2."]}],["$","span","code-segment-6",{"style":{},"children":[" 样式计算\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-8",{"style":{},"children":[""]}],["$","span","code-segment-9",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["3."]}],["$","span","code-segment-10",{"style":{},"children":[" 布局\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],["$","span","code-segment-12",{"style":{},"children":[""]}],["$","span","code-segment-13",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["4."]}],["$","span","code-segment-14",{"style":{},"children":[" 分层\n"]}],["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}],["$","span","code-segment-16",{"style":{},"children":[""]}],["$","span","code-segment-17",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["5."]}],["$","span","code-segment-18",{"style":{},"children":[" 绘制指令\n"]}],["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}],["$","span","code-segment-20",{"style":{},"children":[""]}],["$","span","code-segment-21",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["6."]}],["$","span","code-segment-22",{"style":{},"children":[" 分块\n"]}],["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}],["$","span","code-segment-24",{"style":{},"children":[""]}],"$L11c","$L11d","$L11e","$L11f","$L120","$L121"]]}]}]}]
7a:["$","$L122",null,{"children":["$","$123",null,{"name":"Next.MetadataOutlet","children":"$@124"}]}]
7b:["$","span","code-segment-24",{"style":{},"children":["  "]}]
7c:["$","span","code-segment-25",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["requestAnimationFrame"]}]
7d:["$","span","code-segment-26",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
7e:["$","span","code-segment-27",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
7f:["$","span","code-segment-28",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
80:["$","span","code-segment-29",{"style":{},"children":[" "]}]
81:["$","span","code-segment-30",{"className":"token arrow","style":{"color":"hsl(221, 87%, 60%)"},"children":["=>"]}]
82:["$","span","code-segment-31",{"style":{},"children":[" "]}]
83:["$","span","code-segment-32",{"className":"token console","style":{"color":"hsl(35, 99%, 36%)"},"children":["console"]}]
84:["$","span","code-segment-33",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
85:["$","span","code-segment-34",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["log"]}]
86:["$","span","code-segment-35",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
87:["$","span","code-segment-36",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["2"]}]
88:["$","span","code-segment-37",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
89:["$","span","code-segment-38",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
8a:["$","span","code-segment-39",{"style":{},"children":["\n"]}]
8b:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
8c:["$","span","code-segment-41",{"style":{},"children":[""]}]
8d:["$","span","code-segment-42",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
8e:["$","span","code-segment-43",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
8f:["$","span","code-segment-44",{"style":{},"children":["\n"]}]
90:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
91:["$","span","code-segment-46",{"style":{},"children":[""]}]
92:["$","span","code-segment-47",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["setTimeout"]}]
93:["$","span","code-segment-48",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
94:["$","span","code-segment-49",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
95:["$","span","code-segment-50",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
96:["$","span","code-segment-51",{"style":{},"children":[" "]}]
97:["$","span","code-segment-52",{"className":"token arrow","style":{"color":"hsl(221, 87%, 60%)"},"children":["=>"]}]
98:["$","span","code-segment-53",{"style":{},"children":[" "]}]
99:["$","span","code-segment-54",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
9a:["$","span","code-segment-55",{"style":{},"children":["\n"]}]
9b:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
9c:["$","span","code-segment-57",{"style":{},"children":["  "]}]
9d:["$","span","code-segment-58",{"className":"token console","style":{"color":"hsl(35, 99%, 36%)"},"children":["console"]}]
9e:["$","span","code-segment-59",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
9f:["$","span","code-segment-60",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["log"]}]
a0:["$","span","code-segment-61",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
a1:["$","span","code-segment-62",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["3"]}]
a2:["$","span","code-segment-63",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
a3:["$","span","code-segment-64",{"style":{},"children":["\n"]}]
a4:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
a5:["$","span","code-segment-66",{"style":{},"children":["  "]}]
a6:["$","span","code-segment-67",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["requestAnimationFrame"]}]
a7:["$","span","code-segment-68",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
a8:["$","span","code-segment-69",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
a9:["$","span","code-segment-70",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
aa:["$","span","code-segment-71",{"style":{},"children":[" "]}]
ab:["$","span","code-segment-72",{"className":"token arrow","style":{"color":"hsl(221, 87%, 60%)"},"children":["=>"]}]
ac:["$","span","code-segment-73",{"style":{},"children":[" "]}]
ad:["$","span","code-segment-74",{"className":"token console","style":{"color":"hsl(35, 99%, 36%)"},"children":["console"]}]
ae:["$","span","code-segment-75",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
af:["$","span","code-segment-76",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["log"]}]
b0:["$","span","code-segment-77",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
b1:["$","span","code-segment-78",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["4"]}]
b2:["$","span","code-segment-79",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
b3:["$","span","code-segment-80",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
b4:["$","span","code-segment-81",{"style":{},"children":["\n"]}]
b5:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
b6:["$","span","code-segment-83",{"style":{},"children":[""]}]
b7:["$","span","code-segment-84",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
b8:["$","span","code-segment-85",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
b9:["$","span","code-segment-86",{"style":{},"children":["\n"]}]
ba:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
bb:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
bc:["$","span","code-segment-90",{"style":{},"children":[""]}]
bd:["$","span","code-segment-91",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["queueMicrotask"]}]
be:["$","span","code-segment-92",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
bf:["$","span","code-segment-93",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
c0:["$","span","code-segment-94",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
c1:["$","span","code-segment-95",{"style":{},"children":[" "]}]
c2:["$","span","code-segment-96",{"className":"token arrow","style":{"color":"hsl(221, 87%, 60%)"},"children":["=>"]}]
c3:["$","span","code-segment-97",{"style":{},"children":[" "]}]
c4:["$","span","code-segment-98",{"className":"token console","style":{"color":"hsl(35, 99%, 36%)"},"children":["console"]}]
c5:["$","span","code-segment-99",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
c6:["$","span","code-segment-100",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["log"]}]
c7:["$","span","code-segment-101",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
c8:["$","span","code-segment-102",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["5"]}]
c9:["$","span","code-segment-103",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
ca:["$","span","code-segment-104",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
cb:["$","span","code-segment-105",{"style":{},"children":["\n"]}]
cc:["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[12]}]
cd:["$","span","code-segment-107",{"style":{},"children":[""]}]
ce:["$","span","code-segment-108",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["queueMicrotask"]}]
cf:["$","span","code-segment-109",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
d0:["$","span","code-segment-110",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
d1:["$","span","code-segment-111",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
d2:["$","span","code-segment-112",{"style":{},"children":[" "]}]
d3:["$","span","code-segment-113",{"className":"token arrow","style":{"color":"hsl(221, 87%, 60%)"},"children":["=>"]}]
d4:["$","span","code-segment-114",{"style":{},"children":[" "]}]
d5:["$","span","code-segment-115",{"className":"token console","style":{"color":"hsl(35, 99%, 36%)"},"children":["console"]}]
d6:["$","span","code-segment-116",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
d7:["$","span","code-segment-117",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["log"]}]
d8:["$","span","code-segment-118",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
d9:["$","span","code-segment-119",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["6"]}]
da:["$","span","code-segment-120",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
db:["$","span","code-segment-121",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
dc:["$","span","code-segment-122",{"style":{},"children":["\n"]}]
dd:["$","span","line-number--13",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[13]}]
de:["$","span","line-number--14",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[14]}]
df:["$","span","code-segment-126",{"style":{},"children":[""]}]
e0:["$","span","code-segment-127",{"className":"token doc-comment","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["/** 输出\n"]}]
e1:["$","span","code-segment-128",{"className":"token doc-comment","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[["$","span","line-number--15",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[15]}],"5\n"]}]
e2:["$","span","code-segment-129",{"className":"token doc-comment","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[["$","span","line-number--16",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[16]}],"6\n"]}]
e3:["$","span","code-segment-130",{"className":"token doc-comment","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[["$","span","line-number--17",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[17]}],"1\n"]}]
e4:["$","span","code-segment-131",{"className":"token doc-comment","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[["$","span","line-number--18",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[18]}],"3\n"]}]
e5:["$","span","code-segment-132",{"className":"token doc-comment","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[["$","span","line-number--19",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[19]}],"2\n"]}]
e6:["$","span","code-segment-133",{"className":"token doc-comment","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[["$","span","line-number--20",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[20]}],"4\n"]}]
e7:["$","span","code-segment-134",{"className":"token doc-comment","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[["$","span","line-number--21",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[21]}],"*/"]}]
e8:["$","span","code-segment-24",{"style":{},"children":[""]}]
e9:["$","span","code-segment-25",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 使用 requestIdleCallback 在空闲时执行任务  "]}]
ea:["$","span","code-segment-26",{"style":{},"children":["\n"]}]
eb:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
ec:["$","span","code-segment-28",{"style":{},"children":[""]}]
ed:["$","span","code-segment-29",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["requestIdleCallback"]}]
ee:["$","span","code-segment-30",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
ef:["$","span","code-segment-31",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}]
f0:["$","span","code-segment-32",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
f1:["$","span","code-segment-33",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
f2:["$","span","code-segment-34",{"style":{},"children":[" "]}]
f3:["$","span","code-segment-35",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
f4:["$","span","code-segment-36",{"style":{},"children":["  \n"]}]
f5:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
f6:["$","span","code-segment-38",{"style":{},"children":["  "]}]
f7:["$","span","code-segment-39",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["computeIntensiveTask"]}]
f8:["$","span","code-segment-40",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
f9:["$","span","code-segment-41",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
fa:["$","span","code-segment-42",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
fb:["$","span","code-segment-43",{"style":{},"children":["  \n"]}]
fc:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
fd:["$","span","code-segment-45",{"style":{},"children":[""]}]
fe:["$","span","code-segment-46",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
ff:["$","span","code-segment-47",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
100:["$","span","code-segment-48",{"style":{},"children":[" "]}]
101:["$","span","code-segment-49",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
102:["$","span","code-segment-50",{"style":{},"children":["  \n"]}]
103:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
104:["$","span","code-segment-52",{"style":{},"children":["  "]}]
105:["$","span","code-segment-53",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["timeout"]}]
106:["$","span","code-segment-54",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
107:["$","span","code-segment-55",{"style":{},"children":[" "]}]
108:["$","span","code-segment-56",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["1000"]}]
109:["$","span","code-segment-57",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
10a:["$","span","code-segment-58",{"style":{},"children":[" "]}]
10b:["$","span","code-segment-59",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 设置超时时间，如果在这段时间内没有空闲时间，回调函数将被取消  "]}]
10c:["$","span","code-segment-60",{"style":{},"children":["\n"]}]
10d:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
10e:["$","span","code-segment-62",{"style":{},"children":["  "]}]
10f:["$","span","code-segment-63",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["dependencies"]}]
110:["$","span","code-segment-64",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
111:["$","span","code-segment-65",{"style":{},"children":[" "]}]
112:["$","span","code-segment-66",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["["]}]
113:["$","span","code-segment-67",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["]"]}]
114:["$","span","code-segment-68",{"style":{},"children":[" "]}]
115:["$","span","code-segment-69",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 可以设置依赖项，当所有依赖项都完成时，才会执行回调函数  "]}]
116:["$","span","code-segment-70",{"style":{},"children":["\n"]}]
117:["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[12]}]
118:["$","span","code-segment-72",{"style":{},"children":[""]}]
119:["$","span","code-segment-73",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
11a:["$","span","code-segment-74",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
11b:["$","span","code-segment-75",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
11c:["$","span","code-segment-25",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["7."]}]
11d:["$","span","code-segment-26",{"style":{},"children":[" 光栅化\n"]}]
11e:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
11f:["$","span","code-segment-28",{"style":{},"children":[""]}]
120:["$","span","code-segment-29",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["8."]}]
121:["$","span","code-segment-30",{"style":{},"children":[" 画出像素点。"]}]
124:null
