1:"$Sreact.fragment"
2:I[48226,["/_next/static/chunks/13d576de3999a9ec.js"],""]
43:I[99706,["/_next/static/chunks/b18da497cd71639c.js","/_next/static/chunks/a43937f87dbafba4.js"],"OutletBoundary"]
44:"$Sreact.suspense"
:HL["/img/posts/2022-12-25/2022-12-25-1.png","image"]
:HL["/img/posts/2022-12-25/2022-12-25-2.png","image"]
0:{"buildId":"gG-fcHfRh54-2G67d48NM","rsc":["$","$1","c",{"children":[["$","div",null,{"className":"max-w-4xl mx-auto","children":[["$","$L2",null,{"href":"/blog","children":["$","button",null,{"className":"\n        relative font-bold uppercase tracking-wider border-2 border-black transition-all duration-75 active:top-[4px] active:left-[4px] active:shadow-none \n        bg-white text-black hover:bg-gray-100 \n        shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]\n        py-3 px-6 \n         \n        mb-8\n      ","children":"← Back to Overview"}]}],["$","div",null,{"className":"\n      border-2 border-black \n      bg-white\n      shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]\n      \n      p-8 md:p-12 bg-white\n    ","children":[["$","div",null,{"className":"border-b-4 border-black pb-6 mb-8","children":[["$","div",null,{"className":"flex flex-wrap items-center gap-4 mb-4 text-sm font-bold uppercase tracking-wider text-gray-500","children":[["$","span",null,{"children":"2022-12-25"}],["$","span",null,{"children":"•"}],["$","span",null,{"children":["10 min"," ","read"]}],["$","span",null,{"className":"hidden sm:inline","children":"•"}],["$","div",null,{"className":"flex gap-2","children":[["$","span","工程化",{"className":"bg-yellow-200 border border-black px-1.5 py-0.5 text-[10px] text-black","children":"工程化"}]]}]]}],["$","h1",null,{"className":"text-4xl md:text-4xl font-black uppercase leading-none","children":"前端项目部署不同域名间共享cookie的方案"}]]}],["$","div",null,{"className":"prose prose-xl prose-black max-w-none font-medium markdown-content","children":[["$","p","p-0",{"className":"mb-4 text-lg leading-relaxed","children":"在部署前端服务的过程中，需要实现登录信息共享的功能，若各个服务是在同一个域名下的，则可以共享cookie。但是，公司对外产品往往都是单独部署域名的，比如产品页面、门户网站等，他们若需要拿到当前登录信息，就需要特殊配置了。"}],"\n",["$","p","p-1",{"className":"mb-4 text-lg leading-relaxed","children":"产品部署配置："}],"\n",["$","ul","ul-0",{"className":"ml-4 list-disc mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":["登录页面： ",["$","a","a-0",{"href":"https://passport.xxx.com","className":"text-blue-600 hover:underline font-bold whitespace-wrap break-words","target":"_blank","rel":"noopener noreferrer","children":"https://passport.xxx.com"}]]}],"\n",["$","li","li-1",{"className":"font-bold mb-2","children":["微服务产品系统：",["$","a","a-0",{"href":"https://console.xxx.com","className":"text-blue-600 hover:underline font-bold whitespace-wrap break-words","target":"_blank","rel":"noopener noreferrer","children":"https://console.xxx.com"}]]}],"\n",["$","li","li-2",{"className":"font-bold mb-2","children":["门户网站：",["$","a","a-0",{"href":"https://www.xxx.com","className":"text-blue-600 hover:underline font-bold whitespace-wrap break-words","target":"_blank","rel":"noopener noreferrer","children":"https://www.xxx.com"}]]}],"\n",["$","li","li-3",{"className":"font-bold mb-2","children":["产品文档：",["$","a","a-0",{"href":"https://docs.xxx.com","className":"text-blue-600 hover:underline font-bold whitespace-wrap break-words","target":"_blank","rel":"noopener noreferrer","children":"https://docs.xxx.com"}]]}],"\n"]}],"\n",["$","p","p-2",{"className":"mb-4 text-lg leading-relaxed","children":["可以看到线上部署后，公司产品的二级域名虽然是不一样，但是一级域名一样，把cookie的Domain设置为 ",["$","code","code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".xxx.com","position":{"start":{"line":10,"column":54,"offset":297},"end":{"line":10,"column":64,"offset":307}}}],"position":{"start":{"line":10,"column":54,"offset":297},"end":{"line":10,"column":64,"offset":307}}},"children":".xxx.com"}]," 就可以共享了。但是如果是本地开发就头疼了。本地开发，会先跳转到部署好的登录页：",["$","code","code-1",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"passport.xxx.admin.com","position":{"start":{"line":10,"column":104,"offset":347},"end":{"line":10,"column":128,"offset":371}}}],"position":{"start":{"line":10,"column":104,"offset":347},"end":{"line":10,"column":128,"offset":371}}},"children":"passport.xxx.admin.com"}],"，然后再跳转回 ",["$","code","code-2",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"localhost","position":{"start":{"line":10,"column":136,"offset":379},"end":{"line":10,"column":147,"offset":390}}}],"position":{"start":{"line":10,"column":136,"offset":379},"end":{"line":10,"column":147,"offset":390}}},"children":"localhost"}]," ，此时，来源的一级域名不一样，就会出现cookie没办法共享的问题了。"]}],"\n","$L3","\n","$L4","\n","$L5","\n","$L6","\n","$L7","\n","$L8","\n","$L9","\n","$La","\n","$Lb","\n","$Lc","\n","$Ld","\n","$Le","\n","$Lf","\n","$L10","\n","$L11","\n","$L12","\n","$L13","\n","$L14","\n","$L15","\n","$L16","\n","$L17","\n","$L18"]}]]}]]}],null,"$L19"]}],"loading":null,"isPartial":false}
3:["$","p","p-3",{"className":"mb-4 text-lg leading-relaxed","children":"这里提供三种跨域cookie方案供选择。"}]
4:["$","h2","h2-0",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"1. 后端配置"}]
5:["$","p","p-4",{"className":"mb-4 text-lg leading-relaxed","children":"我们知道 cookie 有几个属性："}]
6:["$","p","p-5",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2022-12-25/2022-12-25-1.png","alt":"image.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2022-12-25/2022-12-25-1.png","alt":"image.png"},"children":[],"position":{"start":{"line":18,"column":1,"offset":482},"end":{"line":18,"column":53,"offset":534}}}}]}]
7:["$","p","p-6",{"className":"mb-4 text-lg leading-relaxed","children":["HttpOnly 和 Secure 用于限制只能 https 传递不可读的安全 cookie；另外一个属性 SameSite 可以设置三个值：",["$","code","code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Strict","position":{"start":{"line":20,"column":72,"offset":607},"end":{"line":20,"column":80,"offset":615}}}],"position":{"start":{"line":20,"column":72,"offset":607},"end":{"line":20,"column":80,"offset":615}}},"children":"Strict"}],"、",["$","code","code-1",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Lax","position":{"start":{"line":20,"column":81,"offset":616},"end":{"line":20,"column":86,"offset":621}}}],"position":{"start":{"line":20,"column":81,"offset":616},"end":{"line":20,"column":86,"offset":621}}},"children":"Lax"}],"、",["$","code","code-2",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"None","position":{"start":{"line":20,"column":87,"offset":622},"end":{"line":20,"column":93,"offset":628}}}],"position":{"start":{"line":20,"column":87,"offset":622},"end":{"line":20,"column":93,"offset":628}}},"children":"None"}],"："]}]
8:["$","ul","ul-1",{"className":"ml-4 list-disc mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":[["$","code","code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Strict","position":{"start":{"line":22,"column":3,"offset":633},"end":{"line":22,"column":11,"offset":641}}}],"position":{"start":{"line":22,"column":3,"offset":633},"end":{"line":22,"column":11,"offset":641}}},"children":"Strict"}],"：完全禁止第三方获取cookie，跨站点时，任何情况下都不会发送cookie"]}],"\n",["$","li","li-1",{"className":"font-bold mb-2","children":[["$","code","code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Lax","position":{"start":{"line":23,"column":3,"offset":682},"end":{"line":23,"column":8,"offset":687}}}],"position":{"start":{"line":23,"column":3,"offset":682},"end":{"line":23,"column":8,"offset":687}}},"children":"Lax"}],"：防范跨站，大多数情况下禁止获取cookie，除非导航到目标网址的GET请求（链接、预加载、GET表单）"]}],"\n",["$","li","li-2",{"className":"font-bold mb-2","children":[["$","code","code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"None","position":{"start":{"line":24,"column":3,"offset":742},"end":{"line":24,"column":9,"offset":748}}}],"position":{"start":{"line":24,"column":3,"offset":742},"end":{"line":24,"column":9,"offset":748}}},"children":"None"}],"：没有限制。必须同时设置",["$","code","code-1",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Secure","position":{"start":{"line":24,"column":21,"offset":760},"end":{"line":24,"column":29,"offset":768}}}],"position":{"start":{"line":24,"column":21,"offset":760},"end":{"line":24,"column":29,"offset":768}}},"children":"Secure"}],"属性（Cookie 只能通过 HTTPS 协议发送），否则无效，需要 chrome > 80，兼容性有问题："]}],"\n"]}]
9:["$","p","p-7",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2022-12-25/2022-12-25-2.png","alt":"image.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2022-12-25/2022-12-25-2.png","alt":"image.png"},"children":[],"position":{"start":{"line":26,"column":1,"offset":824},"end":{"line":26,"column":53,"offset":876}}}}]}]
a:["$","p","p-8",{"className":"mb-4 text-lg leading-relaxed","children":"此时，只要设置 只支持https 且 samesite=None，便会在 https 下携带 cookie 了。但是这只适用于 https，开发环境大多是 http，不能用。"}]
b:["$","h2","h2-1",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"2. 前端配置"}]
c:["$","p","p-9",{"className":"mb-4 text-lg leading-relaxed","children":"前端也是可以设置 cookie 的，而且可以指定域名。在登录页面登录后设置 cookie："}]
d:["$","div","pre-0,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"let host = window.location.host;\n\nif (host.indexOf('passport.xxx.admin.com') > -1) {\n    host = '.xxx.admin.com';\n}\n\nwindow.document.cookie = `${name}=${value};domain=${host}`;\n"}],"position":{"start":{"line":34,"column":1,"offset":1026},"end":{"line":42,"column":4,"offset":1212}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["let"]}],["$","span","code-segment-2",{"style":{},"children":[" host "]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}],["$","span","code-segment-4",{"style":{},"children":[" "]}],["$","span","code-segment-5",{"className":"token dom","style":{"color":"hsl(221, 87%, 60%)"},"children":["window"]}],["$","span","code-segment-6",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}],["$","span","code-segment-7",{"className":"token property-access","style":{},"children":["location"]}],["$","span","code-segment-8",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}],["$","span","code-segment-9",{"className":"token property-access","style":{},"children":["host"]}],["$","span","code-segment-10",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],["$","span","code-segment-11",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],"\n",["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-15",{"style":{},"children":[""]}],["$","span","code-segment-16",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}],["$","span","code-segment-17",{"style":{},"children":[" "]}],["$","span","code-segment-18",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-19",{"style":{},"children":["host"]}],["$","span","code-segment-20",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}],["$","span","code-segment-21",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["indexOf"]}],["$","span","code-segment-22",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-23",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["'passport.xxx.admin.com'"]}],["$","span","code-segment-24",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-25",{"style":{},"children":[" "]}],["$","span","code-segment-26",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[">"]}],["$","span","code-segment-27",{"style":{},"children":[" "]}],["$","span","code-segment-28",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["-"]}],"$L1a","$L1b","$L1c","$L1d","$L1e","$L1f","$L20","$L21","$L22","$L23","$L24","$L25","$L26","$L27","$L28","$L29","$L2a","\n","$L2b","$L2c","$L2d","$L2e","$L2f","$L30","$L31","$L32","$L33","$L34","$L35","$L36","$L37","$L38","$L39","$L3a","$L3b","$L3c","$L3d","$L3e","$L3f","$L40","$L41","$L42"]]}]}]}]
e:["$","h2","h2-2",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"3. 跳转时设置回调参数"}]
f:["$","p","p-10",{"className":"mb-4 text-lg leading-relaxed","children":"针对前端配置的补充方案，此方法也适合 iframe 传参方式。"}]
10:["$","p","p-11",{"className":"mb-4 text-lg leading-relaxed","children":["在 ",["$","code","code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"localhost","position":{"start":{"line":49,"column":3,"offset":1267},"end":{"line":49,"column":14,"offset":1278}}}],"position":{"start":{"line":49,"column":3,"offset":1267},"end":{"line":49,"column":14,"offset":1278}}},"children":"localhost"}]," 进入开发页面，此时检测到没有 cookie 信息，会自动跳转到登录页面： ",["$","code","code-1",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"passport.xxx.admin.com","position":{"start":{"line":49,"column":52,"offset":1316},"end":{"line":49,"column":76,"offset":1340}}}],"position":{"start":{"line":49,"column":52,"offset":1316},"end":{"line":49,"column":76,"offset":1340}}},"children":"passport.xxx.admin.com"}],", 跳转时回带参数："]}]
11:["$","div","pre-1,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-shell"]},"children":[{"type":"text","value":"http://passport.xxx.admin.com?origin=localhost\n"}],"position":{"start":{"line":51,"column":1,"offset":1352},"end":{"line":53,"column":4,"offset":1411}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"style":{},"children":["http://passport.xxx.admin.com?origin"]}],["$","span","code-segment-2",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}],["$","span","code-segment-3",{"style":{},"children":["localhost"]}]]]}]}]}]
12:["$","p","p-12",{"className":"mb-4 text-lg leading-relaxed","children":"登录页面登录后，直接读取路由参数中的 origin，并设置带着 host 的 cookie："}]
13:["$","div","pre-2,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"window.document.cookie = `${name}=${value};domain=${origin}`;\n"}],"position":{"start":{"line":57,"column":1,"offset":1461},"end":{"line":59,"column":4,"offset":1532}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token dom","style":{"color":"hsl(221, 87%, 60%)"},"children":["window"]}],["$","span","code-segment-2",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}],["$","span","code-segment-3",{"className":"token property-access","style":{},"children":["document"]}],["$","span","code-segment-4",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}],["$","span","code-segment-5",{"className":"token property-access","style":{},"children":["cookie"]}],["$","span","code-segment-6",{"style":{},"children":[" "]}],["$","span","code-segment-7",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}],["$","span","code-segment-8",{"style":{},"children":[" "]}],["$","span","code-segment-9",{"className":"token template-string template-punctuation","style":{"color":"hsl(119, 34%, 47%)"},"children":["`"]}],["$","span","code-segment-10",{"className":"token template-string interpolation","style":{"color":"hsl(230, 8%, 24%)"},"children":["$${"]}],["$","span","code-segment-11",{"className":"token template-string interpolation","style":{},"children":["name"]}],["$","span","code-segment-12",{"className":"token template-string interpolation","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}],["$","span","code-segment-13",{"className":"token template-string","style":{"color":"hsl(119, 34%, 47%)"},"children":["="]}],["$","span","code-segment-14",{"className":"token template-string interpolation","style":{"color":"hsl(230, 8%, 24%)"},"children":["$${"]}],["$","span","code-segment-15",{"className":"token template-string interpolation","style":{},"children":["value"]}],["$","span","code-segment-16",{"className":"token template-string interpolation","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}],["$","span","code-segment-17",{"className":"token template-string","style":{"color":"hsl(119, 34%, 47%)"},"children":[";domain="]}],["$","span","code-segment-18",{"className":"token template-string interpolation","style":{"color":"hsl(230, 8%, 24%)"},"children":["$${"]}],["$","span","code-segment-19",{"className":"token template-string interpolation","style":{},"children":["origin"]}],["$","span","code-segment-20",{"className":"token template-string interpolation","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}],["$","span","code-segment-21",{"className":"token template-string template-punctuation","style":{"color":"hsl(119, 34%, 47%)"},"children":["`"]}],["$","span","code-segment-22",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]]]}]}]}]
14:["$","p","p-13",{"className":"mb-4 text-lg leading-relaxed","children":"设置完毕后重定向页面跳转回 origin 即可实现 cookie 携带。"}]
15:["$","h2","h2-3",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"4. 对比"}]
16:["$","ul","ul-2",{"className":"ml-4 list-disc mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"后端配置倾向于前后端传递 cookie 时使用，若只是前端共享 cookie，不需要告知后端时则不可用"}],"\n",["$","li","li-1",{"className":"font-bold mb-2","children":"前端配置可以实现后端无感的cookie传递，但是安全性不高，不可传递明文，尽量只用在开发环境。"}],"\n"]}]
17:["$","hr","hr-0",{}]
18:["$","p","p-14",{"className":"mb-4 text-lg leading-relaxed","children":"完 ！"}]
19:["$","$L43",null,{"children":["$","$44",null,{"name":"Next.MetadataOutlet","children":"$@45"}]}]
1a:["$","span","code-segment-29",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["1"]}]
1b:["$","span","code-segment-30",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1c:["$","span","code-segment-31",{"style":{},"children":[" "]}]
1d:["$","span","code-segment-32",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1e:["$","span","code-segment-33",{"style":{},"children":["\n"]}]
1f:["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}]
20:["$","span","code-segment-35",{"style":{},"children":["    host "]}]
21:["$","span","code-segment-36",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
22:["$","span","code-segment-37",{"style":{},"children":[" "]}]
23:["$","span","code-segment-38",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["'.xxx.admin.com'"]}]
24:["$","span","code-segment-39",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
25:["$","span","code-segment-40",{"style":{},"children":["\n"]}]
26:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
27:["$","span","code-segment-42",{"style":{},"children":[""]}]
28:["$","span","code-segment-43",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
29:["$","span","code-segment-44",{"style":{},"children":["\n"]}]
2a:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
2b:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
2c:["$","span","code-segment-48",{"style":{},"children":[""]}]
2d:["$","span","code-segment-49",{"className":"token dom","style":{"color":"hsl(221, 87%, 60%)"},"children":["window"]}]
2e:["$","span","code-segment-50",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
2f:["$","span","code-segment-51",{"className":"token property-access","style":{},"children":["document"]}]
30:["$","span","code-segment-52",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
31:["$","span","code-segment-53",{"className":"token property-access","style":{},"children":["cookie"]}]
32:["$","span","code-segment-54",{"style":{},"children":[" "]}]
33:["$","span","code-segment-55",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
34:["$","span","code-segment-56",{"style":{},"children":[" "]}]
35:["$","span","code-segment-57",{"className":"token template-string template-punctuation","style":{"color":"hsl(119, 34%, 47%)"},"children":["`"]}]
36:["$","span","code-segment-58",{"className":"token template-string interpolation","style":{"color":"hsl(230, 8%, 24%)"},"children":["$${"]}]
37:["$","span","code-segment-59",{"className":"token template-string interpolation","style":{},"children":["name"]}]
38:["$","span","code-segment-60",{"className":"token template-string interpolation","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
39:["$","span","code-segment-61",{"className":"token template-string","style":{"color":"hsl(119, 34%, 47%)"},"children":["="]}]
3a:["$","span","code-segment-62",{"className":"token template-string interpolation","style":{"color":"hsl(230, 8%, 24%)"},"children":["$${"]}]
3b:["$","span","code-segment-63",{"className":"token template-string interpolation","style":{},"children":["value"]}]
3c:["$","span","code-segment-64",{"className":"token template-string interpolation","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
3d:["$","span","code-segment-65",{"className":"token template-string","style":{"color":"hsl(119, 34%, 47%)"},"children":[";domain="]}]
3e:["$","span","code-segment-66",{"className":"token template-string interpolation","style":{"color":"hsl(230, 8%, 24%)"},"children":["$${"]}]
3f:["$","span","code-segment-67",{"className":"token template-string interpolation","style":{},"children":["host"]}]
40:["$","span","code-segment-68",{"className":"token template-string interpolation","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
41:["$","span","code-segment-69",{"className":"token template-string template-punctuation","style":{"color":"hsl(119, 34%, 47%)"},"children":["`"]}]
42:["$","span","code-segment-70",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
45:null
