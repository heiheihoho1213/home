1:"$Sreact.fragment"
2:I[48226,["/_next/static/chunks/13d576de3999a9ec.js"],""]
33:I[99706,["/_next/static/chunks/b18da497cd71639c.js","/_next/static/chunks/a43937f87dbafba4.js"],"OutletBoundary"]
34:"$Sreact.suspense"
:HL["/img/posts/2022-12-1/2022-12-1-1.png","image"]
:HL["/img/posts/2022-12-1/2022-12-1-2.png","image"]
:HL["/img/posts/2022-12-1/2022-12-1-3.png","image"]
:HL["/img/posts/2022-12-1/2022-12-1-4.png","image"]
:HL["/img/posts/2022-12-1/2022-12-1-5.png","image"]
:HL["/img/posts/2022-12-1/2022-12-1-6.png","image"]
:HL["/img/posts/2022-12-1/2022-12-1-7.png","image"]
:HL["/img/posts/2022-12-1/2022-12-1-8.png","image"]
:HL["/img/posts/2022-12-1/2022-12-1-9.png","image"]
0:{"buildId":"gG-fcHfRh54-2G67d48NM","rsc":["$","$1","c",{"children":[["$","div",null,{"className":"max-w-4xl mx-auto","children":[["$","$L2",null,{"href":"/blog","children":["$","button",null,{"className":"\n        relative font-bold uppercase tracking-wider border-2 border-black transition-all duration-75 active:top-[4px] active:left-[4px] active:shadow-none \n        bg-white text-black hover:bg-gray-100 \n        shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]\n        py-3 px-6 \n         \n        mb-8\n      ","children":"← Back to Overview"}]}],["$","div",null,{"className":"\n      border-2 border-black \n      bg-white\n      shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]\n      \n      p-8 md:p-12 bg-white\n    ","children":[["$","div",null,{"className":"border-b-4 border-black pb-6 mb-8","children":[["$","div",null,{"className":"flex flex-wrap items-center gap-4 mb-4 text-sm font-bold uppercase tracking-wider text-gray-500","children":[["$","span",null,{"children":"2022-12-01"}],["$","span",null,{"children":"•"}],["$","span",null,{"children":["10 min"," ","read"]}],["$","span",null,{"className":"hidden sm:inline","children":"•"}],["$","div",null,{"className":"flex gap-2","children":[["$","span","npm",{"className":"bg-yellow-200 border border-black px-1.5 py-0.5 text-[10px] text-black","children":"npm"}]]}]]}],["$","h1",null,{"className":"text-4xl md:text-4xl font-black uppercase leading-none","children":"如何使用npm发布包的测试版和正式版"}]]}],["$","div",null,{"className":"prose prose-xl prose-black max-w-none font-medium markdown-content","children":[["$","p","p-0",{"className":"mb-4 text-lg leading-relaxed","children":"最近在开发自己自建的类库和组件库，涉及到各种包版本的管理问题。在这里记录一下我是怎么管理自己自己开发库的版本的。"}],"\n",["$","h2","h2-0",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"1. 需要解决的问题"}],"\n",["$","ol","ol-0",{"className":"ml-4 list-decimal mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"同一套类库需要发布不同的可安装版本"}],"\n",["$","li","li-1",{"className":"font-bold mb-2","children":"需要区分稳定版和测试版"}],"\n"]}],"\n",["$","h2","h2-1",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"2. 建立一个库"}],"\n",["$","p","p-1",{"className":"mb-4 text-lg leading-relaxed","children":"我这个库是给内部微服务控制台提供公共依赖的，用于统一管理依赖的版本。目录一结构如下："}],"\n",["$","p","p-2",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2022-12-1/2022-12-1-1.png","alt":"image.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2022-12-1/2022-12-1-1.png","alt":"image.png"},"children":[],"position":{"start":{"line":14,"column":1,"offset":169},"end":{"line":14,"column":51,"offset":219}}}}]}],"\n",["$","p","p-3",{"className":"mb-4 text-lg leading-relaxed","children":"实现功能很简单，通过在项目中安装这个库，可以获得一套完整的依赖包和webpack配置文件，辅助以 cli 命令行工具加持，就可以起到同时管理 公共依赖和webpack公共配置的效果。"}],"\n",["$","p","p-4",{"className":"mb-4 text-lg leading-relaxed","children":"接下来看看在子应用中的使用："}],"\n",["$","p","p-5",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2022-12-1/2022-12-1-2.png","alt":"image.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2022-12-1/2022-12-1-2.png","alt":"image.png"},"children":[],"position":{"start":{"line":21,"column":1,"offset":331},"end":{"line":21,"column":51,"offset":381}}}}]}],"\n",["$","p","p-6",{"className":"mb-4 text-lg leading-relaxed","children":"接着只需 yarn 一下就可以安装上依赖了。由于本期讲的是这个包如何发布不同的版本，故上述配置不做详细说明，如果有对 前端命令行工具（cli）感兴趣的，可以期待我后期的文章。"}],"\n",["$","h2","h2-2",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"3. 打一个版本"}],"\n",["$","p","p-7",{"className":"mb-4 text-lg leading-relaxed","children":"执行如下指令："}],"\n",["$","div","pre-0,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-shell"]},"children":[{"type":"text","value":"# 可选 (minor / major)\nnpm version patch\n"}],"position":{"start":{"line":29,"column":1,"offset":494},"end":{"line":32,"column":4,"offset":545}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":"$L3"}]}],"\n","$L4","\n","$L5","\n","$L6","\n","$L7","\n","$L8","\n","$L9","\n","$La","\n","$Lb","\n","$Lc","\n","$Ld","\n","$Le","\n","$Lf","\n","$L10","\n","$L11","\n","$L12","\n","$L13","\n","$L14","\n","$L15","\n","$L16","\n","$L17","\n","$L18","\n","$L19","\n","$L1a","\n","$L1b","\n","$L1c","\n","$L1d","\n","$L1e","\n","$L1f","\n","$L20","\n","$L21","\n","$L22","\n","$L23","\n","$L24","\n","$L25","\n","$L26","\n","$L27","\n","$L28","\n","$L29","\n","$L2a","\n","$L2b","\n","$L2c","\n","$L2d","\n","$L2e","\n","$L2f","\n","$L30","\n","$L31"]}]]}]]}],null,"$L32"]}],"loading":null,"isPartial":false}
3:["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["# 可选 (minor / major)"]}],["$","span","code-segment-2",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-4",{"style":{},"children":[""]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["npm"]}],["$","span","code-segment-6",{"style":{},"children":[" version patch"]}]]]}]
4:["$","p","p-8",{"className":"mb-4 text-lg leading-relaxed","children":"这个想必大家都知道，npm 包的版本是三段式的，中间以 . 隔开，从左往右分别是 major(主版本)、minor（小版本）、patch（补丁包）。"}]
5:["$","p","p-9",{"className":"mb-4 text-lg leading-relaxed","children":"执行完指令后可以看到版本号的第三段自增了："}]
6:["$","p","p-10",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2022-12-1/2022-12-1-3.png","alt":"image.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2022-12-1/2022-12-1-3.png","alt":"image.png"},"children":[],"position":{"start":{"line":38,"column":1,"offset":646},"end":{"line":38,"column":51,"offset":696}}}}]}]
7:["$","p","p-11",{"className":"mb-4 text-lg leading-relaxed","children":"接下来发布npm，这里需要提前登录npm，大家都会，不做过多讨论，网上很多说明了："}]
8:["$","div","pre-1,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-shell"]},"children":[{"type":"text","value":"npm publish\n"}],"position":{"start":{"line":42,"column":1,"offset":741},"end":{"line":44,"column":4,"offset":765}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["npm"]}],["$","span","code-segment-2",{"style":{},"children":[" publish"]}]]]}]}]}]
9:["$","p","p-12",{"className":"mb-4 text-lg leading-relaxed","children":"发布完以后，你所配置的npm仓库里就有了你这个项目的版本了。"}]
a:["$","p","p-13",{"className":"mb-4 text-lg leading-relaxed","children":"接下来在其他项目根目录里："}]
b:["$","div","pre-2,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-shell"]},"children":[{"type":"text","value":"yarn add -D @xxx/xxx-console-dev-libs\n"}],"position":{"start":{"line":50,"column":1,"offset":814},"end":{"line":52,"column":4,"offset":864}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["yarn"]}],["$","span","code-segment-2",{"style":{},"children":[" "]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["add"]}],["$","span","code-segment-4",{"style":{},"children":[" "]}],["$","span","code-segment-5",{"className":"token parameter","style":{"color":"hsl(221, 87%, 60%)"},"children":["-D"]}],["$","span","code-segment-6",{"style":{},"children":[" @xxx/xxx-console-dev-libs"]}]]]}]}]}]
c:["$","p","p-14",{"className":"mb-4 text-lg leading-relaxed","children":"如此便安装了一个正式发布的版本了。"}]
d:["$","h2","h2-3",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"4. 正式版与测试版"}]
e:["$","h3","h3-0",{"className":"text-xl font-bold mt-4 mb-2","children":"正式版"}]
f:["$","p","p-15",{"className":"mb-4 text-lg leading-relaxed","children":"我们在一个新创建的纯净项目里执行如下指令查看当前项目全部npm版本："}]
10:["$","div","pre-3,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-shell"]},"children":[{"type":"text","value":"npm dist-tag ls\n"}],"position":{"start":{"line":61,"column":1,"offset":944},"end":{"line":63,"column":4,"offset":972}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["npm"]}],["$","span","code-segment-2",{"style":{},"children":[" dist-tag "]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["ls"]}]]]}]}]}]
11:["$","p","p-16",{"className":"mb-4 text-lg leading-relaxed","children":"可以看到如下显示："}]
12:["$","p","p-17",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2022-12-1/2022-12-1-4.png","alt":"image.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2022-12-1/2022-12-1-4.png","alt":"image.png"},"children":[],"position":{"start":{"line":66,"column":1,"offset":984},"end":{"line":66,"column":51,"offset":1034}}}}]}]
13:["$","p","p-18",{"className":"mb-4 text-lg leading-relaxed","children":"latest版本就是我们在上边发布的那种正式版，默认安装时不需要带着版本号，默认会去拿 latest。那如果需要安装往期的正式版本，可以如下："}]
14:["$","div","pre-4,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-shell"]},"children":[{"type":"text","value":"yarn add @xxx/xxx-console-dev-libs@1.0.8\n"}],"position":{"start":{"line":70,"column":1,"offset":1109},"end":{"line":72,"column":4,"offset":1162}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["yarn"]}],["$","span","code-segment-2",{"style":{},"children":[" "]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["add"]}],["$","span","code-segment-4",{"style":{},"children":[" @xxx/xxx-console-dev-libs@1.0.8"]}]]]}]}]}]
15:["$","h3","h3-1",{"className":"text-xl font-bold mt-4 mb-2","children":"测试版"}]
16:["$","p","p-19",{"className":"mb-4 text-lg leading-relaxed","children":["npm 会有内置的代表版本测试的名称符号。一个软件在正式发布前，都会有 ",["$","code","code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"alpha","position":{"start":{"line":76,"column":37,"offset":1209},"end":{"line":76,"column":44,"offset":1216}}}],"position":{"start":{"line":76,"column":37,"offset":1209},"end":{"line":76,"column":44,"offset":1216}}},"children":"alpha"}],", ",["$","code","code-1",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"beta","position":{"start":{"line":76,"column":46,"offset":1218},"end":{"line":76,"column":52,"offset":1224}}}],"position":{"start":{"line":76,"column":46,"offset":1218},"end":{"line":76,"column":52,"offset":1224}}},"children":"beta"}]," 版，分别代表内测版和公测版，npm包也是软件，也不例外。"]}]
17:["$","p","p-20",{"className":"mb-4 text-lg leading-relaxed","children":"如果类库开发到某一个程度，想让内部的人试一下，又不想影响自动化部署中安装的版本的话，可以这样："}]
18:["$","div","pre-5,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-shell"]},"children":[{"type":"text","value":"npm version 1.0.13-alpha.0\n\nnpm publish --tag alpha\n"}],"position":{"start":{"line":80,"column":1,"offset":1304},"end":{"line":84,"column":4,"offset":1368}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["npm"]}],["$","span","code-segment-2",{"style":{},"children":[" version "]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["1.0"]}],["$","span","code-segment-4",{"style":{},"children":[".13-alpha.0\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],"\n",["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-8",{"style":{},"children":[""]}],["$","span","code-segment-9",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["npm"]}],["$","span","code-segment-10",{"style":{},"children":[" publish "]}],["$","span","code-segment-11",{"className":"token parameter","style":{"color":"hsl(221, 87%, 60%)"},"children":["--tag"]}],["$","span","code-segment-12",{"style":{},"children":[" alpha"]}]]]}]}]}]
19:["$","p","p-21",{"className":"mb-4 text-lg leading-relaxed","children":"此时 package.json 中的版本会变成："}]
1a:["$","p","p-22",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2022-12-1/2022-12-1-5.png","alt":"image.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2022-12-1/2022-12-1-5.png","alt":"image.png"},"children":[],"position":{"start":{"line":88,"column":1,"offset":1396},"end":{"line":88,"column":51,"offset":1446}}}}]}]
1b:["$","p","p-23",{"className":"mb-4 text-lg leading-relaxed","children":"这便是一个内测版了，内测用户执行如下指令便可以安装 alpha 的最新测试版："}]
1c:["$","div","pre-6,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-shell"]},"children":[{"type":"text","value":"yarn add @xxx/xxx-console-dev-libs@alpha\n"}],"position":{"start":{"line":92,"column":1,"offset":1489},"end":{"line":94,"column":4,"offset":1542}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["yarn"]}],["$","span","code-segment-2",{"style":{},"children":[" "]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["add"]}],["$","span","code-segment-4",{"style":{},"children":[" @xxx/xxx-console-dev-libs@alpha"]}]]]}]}]}]
1d:["$","p","p-24",{"className":"mb-4 text-lg leading-relaxed","children":"内测版也可以更新："}]
1e:["$","div","pre-7,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-shell"]},"children":[{"type":"text","value":"npm version prerelease --preid alpha\n\nnpm publish --tag alpha\n"}],"position":{"start":{"line":98,"column":1,"offset":1555},"end":{"line":102,"column":4,"offset":1629}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["npm"]}],["$","span","code-segment-2",{"style":{},"children":[" version prerelease "]}],["$","span","code-segment-3",{"className":"token parameter","style":{"color":"hsl(221, 87%, 60%)"},"children":["--preid"]}],["$","span","code-segment-4",{"style":{},"children":[" alpha\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],"\n",["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-8",{"style":{},"children":[""]}],["$","span","code-segment-9",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["npm"]}],["$","span","code-segment-10",{"style":{},"children":[" publish "]}],["$","span","code-segment-11",{"className":"token parameter","style":{"color":"hsl(221, 87%, 60%)"},"children":["--tag"]}],["$","span","code-segment-12",{"style":{},"children":[" alpha"]}]]]}]}]}]
1f:["$","p","p-25",{"className":"mb-4 text-lg leading-relaxed","children":"可以看到版本也是递增的："}]
20:["$","p","p-26",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2022-12-1/2022-12-1-6.png","alt":"image.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2022-12-1/2022-12-1-6.png","alt":"image.png"},"children":[],"position":{"start":{"line":106,"column":1,"offset":1645},"end":{"line":106,"column":51,"offset":1695}}}}]}]
21:["$","p","p-27",{"className":"mb-4 text-lg leading-relaxed","children":"同理，公测版也一样："}]
22:["$","div","pre-8,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-shell"]},"children":[{"type":"text","value":"// 打版本\nnpm version 1.0.13-beta.0 \n// 打tag\nnpm publish --tag beta\n// 更新版本\nnpm version prerelease --preid beta\n"}],"position":{"start":{"line":110,"column":1,"offset":1709},"end":{"line":117,"column":4,"offset":1830}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"style":{},"children":["// 打版本\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-3",{"style":{},"children":[""]}],["$","span","code-segment-4",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["npm"]}],["$","span","code-segment-5",{"style":{},"children":[" version "]}],["$","span","code-segment-6",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["1.0"]}],["$","span","code-segment-7",{"style":{},"children":[".13-beta.0 \n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],"// 打tag\n",["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],["$","span","code-segment-11",{"style":{},"children":[""]}],["$","span","code-segment-12",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["npm"]}],["$","span","code-segment-13",{"style":{},"children":[" publish "]}],["$","span","code-segment-14",{"className":"token parameter","style":{"color":"hsl(221, 87%, 60%)"},"children":["--tag"]}],["$","span","code-segment-15",{"style":{},"children":[" beta\n"]}],["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}],"// 更新版本\n",["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}],["$","span","code-segment-19",{"style":{},"children":[""]}],["$","span","code-segment-20",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["npm"]}],["$","span","code-segment-21",{"style":{},"children":[" version prerelease "]}],["$","span","code-segment-22",{"className":"token parameter","style":{"color":"hsl(221, 87%, 60%)"},"children":["--preid"]}],["$","span","code-segment-23",{"style":{},"children":[" beta"]}]]]}]}]}]
23:["$","blockquote","blockquote-0",{"className":"bg-gray-100 p-4 border-l-4 border-black italic my-4","children":["\n",["$","p","p-0",{"className":"mb-4 text-lg leading-relaxed","children":"上面打 tag 是为了 npm dist-tag 能够查到对应的版本，以此来区分安装。参数 preid 表示预发的是alpha/bata的测试版"}],"\n"]}]
24:["$","p","p-28",{"className":"mb-4 text-lg leading-relaxed","children":"最后别忘了 git 推送的时候打上 tag，这样便于管理："}]
25:["$","div","pre-9,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-shell"]},"children":[{"type":"text","value":"git push --tags\n"}],"position":{"start":{"line":123,"column":1,"offset":1939},"end":{"line":125,"column":4,"offset":1967}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["git"]}],["$","span","code-segment-2",{"style":{},"children":[" push "]}],["$","span","code-segment-3",{"className":"token parameter","style":{"color":"hsl(221, 87%, 60%)"},"children":["--tags"]}]]]}]}]}]
26:["$","p","p-29",{"className":"mb-4 text-lg leading-relaxed","children":"看一下我实际开发的仓库里的版本(npm dist-tag ls)："}]
27:["$","p","p-30",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2022-12-1/2022-12-1-7.png","alt":"image.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2022-12-1/2022-12-1-7.png","alt":"image.png"},"children":[],"position":{"start":{"line":129,"column":1,"offset":2004},"end":{"line":129,"column":51,"offset":2054}}}}]}]
28:["$","blockquote","blockquote-1",{"className":"bg-gray-100 p-4 border-l-4 border-black italic my-4","children":["\n",["$","p","p-0",{"className":"mb-4 text-lg leading-relaxed","children":"测试版还可以 npm version prepatch 来发布，原理一样：1.0.1 --> 1.0.1-0"}],"\n"]}]
29:["$","p","p-31",{"className":"mb-4 text-lg leading-relaxed","children":"最后一个问题，一个测试版如果想要转正，可以执行如下指令："}]
2a:["$","div","pre-10,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-shell"]},"children":[{"type":"text","value":"npm version minor\n"}],"position":{"start":{"line":136,"column":1,"offset":2145},"end":{"line":138,"column":4,"offset":2175}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["npm"]}],["$","span","code-segment-2",{"style":{},"children":[" version minor"]}]]]}]}]}]
2b:["$","blockquote","blockquote-2",{"className":"bg-gray-100 p-4 border-l-4 border-black italic my-4","children":["\n",["$","p","p-0",{"className":"mb-4 text-lg leading-relaxed","children":"若你之前是在 12 版本直接升上的 13.beta, 这里可以 patch 就行"}],"\n"]}]
2c:["$","p","p-32",{"className":"mb-4 text-lg leading-relaxed","children":"之前："}]
2d:["$","p","p-33",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2022-12-1/2022-12-1-8.png","alt":"image.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2022-12-1/2022-12-1-8.png","alt":"image.png"},"children":[],"position":{"start":{"line":143,"column":1,"offset":2225},"end":{"line":143,"column":51,"offset":2275}}}}]}]
2e:["$","p","p-34",{"className":"mb-4 text-lg leading-relaxed","children":"之后："}]
2f:["$","p","p-35",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2022-12-1/2022-12-1-9.png","alt":"image.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2022-12-1/2022-12-1-9.png","alt":"image.png"},"children":[],"position":{"start":{"line":147,"column":1,"offset":2282},"end":{"line":147,"column":51,"offset":2332}}}}]}]
30:["$","hr","hr-0",{}]
31:["$","p","p-36",{"className":"mb-4 text-lg leading-relaxed","children":"完 ！"}]
32:["$","$L33",null,{"children":["$","$34",null,{"name":"Next.MetadataOutlet","children":"$@35"}]}]
35:null
