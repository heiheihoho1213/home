1:"$Sreact.fragment"
2:I[48226,["/_next/static/chunks/13d576de3999a9ec.js"],""]
1654:I[99706,["/_next/static/chunks/b18da497cd71639c.js","/_next/static/chunks/a43937f87dbafba4.js"],"OutletBoundary"]
1655:"$Sreact.suspense"
:HL["/img/posts/react/old-dom.png","image"]
:HL["/img/posts/react/diff-tree.png","image"]
:HL["/img/posts/react/fiber-1.jpeg","image"]
:HL["/img/posts/react/fiber-2.png","image"]
:HL["/img/posts/react/fiber.png","image"]
:HL["/img/posts/react/fiber-3.png","image"]
:HL["/img/posts/react/react-hooks-useReducer.jpg","image"]
:HL["/img/posts/react/react-hooks-useEffect.png","image"]
:HL["/img/posts/react/diff-1.png","image"]
:HL["/img/posts/react/diff-2.png","image"]
:HL["/img/posts/react/diff-3.png","image"]
:HL["/img/posts/react/diff-4.png","image"]
:HL["/img/posts/react/diff-5.png","image"]
0:{"buildId":"gG-fcHfRh54-2G67d48NM","rsc":["$","$1","c",{"children":[["$","div",null,{"className":"max-w-4xl mx-auto","children":[["$","$L2",null,{"href":"/blog","children":["$","button",null,{"className":"\n        relative font-bold uppercase tracking-wider border-2 border-black transition-all duration-75 active:top-[4px] active:left-[4px] active:shadow-none \n        bg-white text-black hover:bg-gray-100 \n        shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]\n        py-3 px-6 \n         \n        mb-8\n      ","children":"← Back to Overview"}]}],["$","div",null,{"className":"\n      border-2 border-black \n      bg-white\n      shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]\n      \n      p-8 md:p-12 bg-white\n    ","children":[["$","div",null,{"className":"border-b-4 border-black pb-6 mb-8","children":[["$","div",null,{"className":"flex flex-wrap items-center gap-4 mb-4 text-sm font-bold uppercase tracking-wider text-gray-500","children":[["$","span",null,{"children":"2024-04-25"}],["$","span",null,{"children":"•"}],["$","span",null,{"children":["10 min"," ","read"]}],["$","span",null,{"className":"hidden sm:inline","children":"•"}],["$","div",null,{"className":"flex gap-2","children":[["$","span","React",{"className":"bg-yellow-200 border border-black px-1.5 py-0.5 text-[10px] text-black","children":"React"}],["$","span","源码解读",{"className":"bg-yellow-200 border border-black px-1.5 py-0.5 text-[10px] text-black","children":"源码解读"}]]}]]}],["$","h1",null,{"className":"text-4xl md:text-4xl font-black uppercase leading-none","children":"React 源码解读"}]]}],["$","div",null,{"className":"prose prose-xl prose-black max-w-none font-medium markdown-content","children":[["$","h2","h2-0",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"1. 虚拟 DOM"}],"\n",["$","h4","h4-0",{"children":"为什么使用虚拟 DOM（vdom）"}],"\n",["$","ul","ul-0",{"className":"ml-4 list-disc mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"DOM 操作很慢，轻微的操作都可能导致页面重新排版，非常耗性能。相对于 DOM 对象，js 对象处理起来更快，而且更简单。通过 diff 算法对比新旧 vdom（js 对象） 之间的差异，可以批量的、最小化的执行 dom 操作，从而提升用户体验"}],"\n",["$","li","li-1",{"className":"font-bold mb-2","children":["DOM 内置属性太多，使用 vdom 可以只封装自己想要的属性来减少计算开销\n",["$","img","img-0",{"src":"/img/posts/react/old-dom.png","alt":"图片","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/react/old-dom.png","alt":"图片"},"children":[],"position":{"start":{"line":7,"column":3,"offset":206},"end":{"line":7,"column":38,"offset":241}}}}]]}],"\n"]}],"\n",["$","h4","h4-1",{"children":"react 渲染"}],"\n",["$","p","p-0",{"className":"mb-4 text-lg leading-relaxed","children":"在某一时间节点调用 React 的 render() 方法，会创建一棵由 React 元素组成的树。在下一次 state 或 props 更新时，相同的 render() 方法会返回一棵不同的树。React 需要基于这两棵树之间的差别来判断如何有效率的更新 UI 以保证当前 UI 与最新的树保持同步。这种算法起个名字，叫做 DIFF 算法，字面意思，就是对比差异。"}],"\n",["$","h4","h4-2",{"children":"DIFF"}],"\n",["$","p","p-1",{"className":"mb-4 text-lg leading-relaxed","children":"react 渲染树："}],"\n",["$","p","p-2",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/react/diff-tree.png","alt":"图片","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/react/diff-tree.png","alt":"图片"},"children":[],"position":{"start":{"line":17,"column":1,"offset":466},"end":{"line":17,"column":38,"offset":503}}}}]}],"\n",["$","p","p-3",{"className":"mb-4 text-lg leading-relaxed","children":"算法策略"}],"\n",["$","ul","ul-1",{"className":"ml-4 list-disc mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"深度优先遍历"}],"\n",["$","li","li-1",{"className":"font-bold mb-2","children":"同级比较"}],"\n",["$","li","li-2",{"className":"font-bold mb-2","children":"拥有不同类型的两个组件将会生成不同的树形结构。"}],"\n",["$","li","li-3",{"className":"font-bold mb-2","children":"使用 key 来保持稳定渲染"}],"\n"]}],"\n",["$","p","p-4",{"className":"mb-4 text-lg leading-relaxed","children":"diff 原则"}],"\n",["$","ul","ul-2",{"className":"ml-4 list-disc mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"删除：newVdom 不存在时"}],"\n","$L3","\n","$L4","\n"]}],"\n","$L5","\n","$L6","\n","$L7","\n","$L8","\n","$L9","\n","$La","\n","$Lb","\n","$Lc","\n","$Ld","\n","$Le","\n","$Lf","\n","$L10","\n","$L11","\n","$L12","\n","$L13","\n","$L14","\n","$L15","\n","$L16","\n","$L17","\n","$L18","\n","$L19","\n","$L1a","\n","$L1b","\n","$L1c","\n","$L1d","\n","$L1e","\n","$L1f","\n","$L20","\n","$L21","\n","$L22","\n","$L23","\n","$L24","\n","$L25","\n","$L26","\n","$L27","\n","$L28","\n","$L29","\n","$L2a","\n","$L2b","\n","$L2c","\n","$L2d","\n","$L2e","\n","$L2f","\n","$L30","\n","$L31","\n","$L32","\n","$L33","\n","$L34","\n","$L35","\n","$L36","\n","$L37","\n","$L38","\n","$L39","\n","$L3a","\n","$L3b","\n","$L3c","\n","$L3d","\n","$L3e","\n","$L3f","\n","$L40","\n","$L41","\n","$L42","\n","$L43","\n","$L44","\n","$L45","\n","$L46","\n","$L47","\n","$L48","\n","$L49","\n","$L4a","\n","$L4b","\n","$L4c","\n","$L4d","\n","$L4e","\n","$L4f","\n","$L50","\n","$L51","\n","$L52","\n","$L53","\n","$L54","\n","$L55","\n","$L56","\n","$L57","\n","$L58","\n","$L59","\n","$L5a","\n","$L5b","\n","$L5c","\n","$L5d","\n","$L5e","\n","$L5f","\n","$L60","\n","$L61","\n","$L62","\n","$L63","\n","$L64","\n","$L65","\n","$L66","\n","$L67","\n","$L68","\n","$L69","\n","$L6a","\n","$L6b","\n","$L6c","\n","$L6d","\n","$L6e","\n","$L6f","\n","$L70","\n","$L71","\n","$L72","\n","$L73","\n","$L74","\n","$L75","\n","$L76","\n","$L77","\n","$L78","\n","$L79","\n","$L7a","\n","$L7b","\n","$L7c","\n","$L7d","\n","$L7e","\n","$L7f","\n","$L80","\n","$L81","\n","$L82","\n","$L83","\n","$L84","\n","$L85","\n","$L86","\n","$L87","\n","$L88","\n","$L89","\n","$L8a","\n","$L8b","\n","$L8c","\n","$L8d","\n","$L8e","\n","$L8f","\n","$L90","\n","$L91","\n","$L92","\n","$L93","\n","$L94","\n","$L95","\n","$L96","\n","$L97","\n","$L98","\n","$L99","\n","$L9a","\n","$L9b","\n","$L9c","\n","$L9d","\n","$L9e","\n","$L9f","\n","$La0","\n","$La1","\n","$La2","\n","$La3","\n","$La4","\n","$La5","\n","$La6","\n","$La7","\n","$La8","\n","$La9","\n","$Laa","\n","$Lab","\n","$Lac","\n","$Lad","\n","$Lae","\n","$Laf","\n","$Lb0","\n","$Lb1","\n","$Lb2","\n","$Lb3","\n","$Lb4","\n","$Lb5"]}]]}]]}],null,"$Lb6"]}],"loading":null,"isPartial":false}
3:["$","li","li-1",{"className":"font-bold mb-2","children":"替换：vdom 和 newVdom 类型不同或 key 不同时"}]
4:["$","li","li-2",{"className":"font-bold mb-2","children":"更新：有相同类型和 key 但 vdom 和 newVdom 不同时"}]
5:["$","h2","h2-1",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"2. Fiber 结构"}]
6:["$","p","p-5",{"className":"mb-4 text-lg leading-relaxed","children":"为什么需要 fiber"}]
7:["$","p","p-6",{"className":"mb-4 text-lg leading-relaxed","children":"一个新的更新渲染结构，更好的遍历渲染树，提高性能。"}]
8:["$","ul","ul-3",{"className":"ml-4 list-disc mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"diff 算法采用深度优先遍历（递归）的方式，对于大型项目，组件树会很大，这个时候递归遍历的成本就会很高，会造成主线程被持续占用，结果就是主线程上的布局、动画等周期性任务就无法立即得到处理，造成视觉上的卡顿，影响用户体验。"}],"\n"]}]
9:["$","p","p-7",{"className":"mb-4 text-lg leading-relaxed","children":"fiber 核心思想"}]
a:["$","ol","ol-0",{"className":"ml-4 list-decimal mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"增量渲染，空闲更新（把渲染任务拆分成块，匀到多帧），使用链表循环代替递归来进行深度优先遍历，算法时间复杂度 O(n)"}],"\n",["$","li","li-1",{"className":"font-bold mb-2","children":"更新时能够暂停，终止，复用渲染任务"}],"\n",["$","li","li-2",{"className":"font-bold mb-2","children":"给不同类型的更新赋予优先级"}],"\n",["$","li","li-3",{"className":"font-bold mb-2","children":"给新版 react 提供并发的基础能力"}],"\n"]}]
b:["$","p","p-8",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/react/fiber-1.jpeg","alt":"图片","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/react/fiber-1.jpeg","alt":"图片"},"children":[],"position":{"start":{"line":47,"column":1,"offset":977},"end":{"line":47,"column":37,"offset":1013}}}}]}]
c:["$","p","p-9",{"className":"mb-4 text-lg leading-relaxed","children":"fiber 树(双向链表)："}]
d:["$","div","pre-0,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"// 参考 jsx\n<div>\n  <article>\n    <span></span>\n  </article>\n  <p>\n    <strong></strong>\n  </p>\n  <a></a>\n</div>\n"}],"position":{"start":{"line":51,"column":1,"offset":1031},"end":{"line":62,"column":4,"offset":1151}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 参考 jsx"]}],["$","span","code-segment-2",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-4",{"style":{},"children":[""]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["<"]}],["$","span","code-segment-6",{"style":{},"children":["div"]}],["$","span","code-segment-7",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[">"]}],["$","span","code-segment-8",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-10",{"style":{},"children":["  "]}],["$","span","code-segment-11",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["<"]}],["$","span","code-segment-12",{"style":{},"children":["article"]}],["$","span","code-segment-13",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[">"]}],["$","span","code-segment-14",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],["$","span","code-segment-16",{"style":{},"children":["    "]}],["$","span","code-segment-17",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["<"]}],["$","span","code-segment-18",{"style":{},"children":["span"]}],["$","span","code-segment-19",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[">"]}],["$","span","code-segment-20",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["<"]}],["$","span","code-segment-21",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["/"]}],["$","span","code-segment-22",{"style":{},"children":["span"]}],["$","span","code-segment-23",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[">"]}],["$","span","code-segment-24",{"style":{},"children":["\n"]}],["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}],["$","span","code-segment-26",{"style":{},"children":["  "]}],["$","span","code-segment-27",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["<"]}],"$Lb7","$Lb8","$Lb9","$Lba","$Lbb","$Lbc","$Lbd","$Lbe","$Lbf","$Lc0","$Lc1","$Lc2","$Lc3","$Lc4","$Lc5","$Lc6","$Lc7","$Lc8","$Lc9","$Lca","$Lcb","$Lcc","$Lcd","$Lce","$Lcf","$Ld0","$Ld1","$Ld2","$Ld3","$Ld4","$Ld5","$Ld6","$Ld7","$Ld8","$Ld9","$Lda","$Ldb","$Ldc","$Ldd","$Lde","$Ldf","$Le0","$Le1"]]}]}]}]
e:["$","p","p-10",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/react/fiber-2.png","alt":"图片","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/react/fiber-2.png","alt":"图片"},"children":[],"position":{"start":{"line":64,"column":1,"offset":1153},"end":{"line":64,"column":36,"offset":1188}}}}]}]
f:["$","p","p-11",{"className":"mb-4 text-lg leading-relaxed","children":"因为要借助 fiber，所以在 vdom 外需要包装一个 fiber node 的封装来参与调度。"}]
10:["$","h2","h2-2",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"3. 实现一个 mini-fiber"}]
11:["$","h3","h3-0",{"className":"text-xl font-bold mt-4 mb-2","children":"〇 流程图"}]
12:["$","p","p-12",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/react/fiber.png","alt":"图片","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/react/fiber.png","alt":"图片"},"children":[],"position":{"start":{"line":72,"column":1,"offset":1275},"end":{"line":72,"column":34,"offset":1308}}}}]}]
13:["$","h3","h3-1",{"className":"text-xl font-bold mt-4 mb-2","children":"① Tags"}]
14:["$","p","p-13",{"className":"mb-4 text-lg leading-relaxed","children":"由于要渲染不同的组件和原生标签，给各个类型打上标签："}]
15:["$","div","pre-1,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"// ReactWorkTags\nexport const FunctionComponent = 0;\nexport const ClassComponent = 1;\nexport const IndeterminateComponent = 2;\n...\nexport const HostComponent = 5;\nexport const HostText = 6;\nexport const Fragment = 7;\n"}],"position":{"start":{"line":78,"column":1,"offset":1350},"end":{"line":87,"column":4,"offset":1576}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// ReactWorkTags"]}],["$","span","code-segment-2",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-4",{"style":{},"children":[""]}],["$","span","code-segment-5",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}],["$","span","code-segment-6",{"style":{},"children":[" "]}],["$","span","code-segment-7",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}],["$","span","code-segment-8",{"style":{},"children":[" "]}],["$","span","code-segment-9",{"className":"token maybe-class-name","style":{},"children":["FunctionComponent"]}],["$","span","code-segment-10",{"style":{},"children":[" "]}],["$","span","code-segment-11",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}],["$","span","code-segment-12",{"style":{},"children":[" "]}],["$","span","code-segment-13",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["0"]}],["$","span","code-segment-14",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],["$","span","code-segment-15",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-17",{"style":{},"children":[""]}],["$","span","code-segment-18",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}],["$","span","code-segment-19",{"style":{},"children":[" "]}],["$","span","code-segment-20",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}],["$","span","code-segment-21",{"style":{},"children":[" "]}],["$","span","code-segment-22",{"className":"token maybe-class-name","style":{},"children":["ClassComponent"]}],["$","span","code-segment-23",{"style":{},"children":[" "]}],["$","span","code-segment-24",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}],["$","span","code-segment-25",{"style":{},"children":[" "]}],["$","span","code-segment-26",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["1"]}],["$","span","code-segment-27",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],["$","span","code-segment-28",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],"$Le2","$Le3","$Le4","$Le5","$Le6","$Le7","$Le8","$Le9","$Lea","$Leb","$Lec","$Led","$Lee","$Lef","$Lf0","$Lf1","$Lf2","$Lf3","$Lf4","$Lf5","$Lf6","$Lf7","$Lf8","$Lf9","$Lfa","$Lfb","$Lfc","$Lfd","$Lfe","$Lff","$L100","$L101","$L102","$L103","$L104","$L105","$L106","$L107","$L108","$L109","$L10a","$L10b","$L10c","$L10d","$L10e","$L10f","$L110","$L111","$L112","$L113","$L114","$L115","$L116","$L117"]]}]}]}]
16:["$","h3","h3-2",{"className":"text-xl font-bold mt-4 mb-2","children":"② Fiber 对象"}]
17:["$","p","p-14",{"className":"mb-4 text-lg leading-relaxed","children":"新建一个 fiber 封装类"}]
18:["$","div","pre-2,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"// ReactFiber\nexport function createFiber(vnode, returnFiber) {\n  const fiber = {\n    type: vnode.type, // 表示fiber的真实类型 这个和elementType大部分情况下是一样的 在使用了懒加载之类的功能时可能会不一样。 区别于 tag，type可以自定义，当是组件时 type可以是这个组件的构造函数，用户创建元素时使用\n    key: vnode.key,\n    props: vnode.props, // 属性\n    // 第一个子节点fiber\n    child: null,\n    // 下一个兄弟fiber\n    sibling: null,\n    // 父fiber\n    return: returnFiber,\n    // dom或实例\n    // 函数式组件为null，他的实例存在child里，这也是为什么render里只能有一个跟节点\n    stateNode: null,\n    // 节点下标\n    index: null,\n    // old fiber\n    alternate: null,\n    flags: Placement,\n    tag: null,\n  };\n\n  const { type } = vnode;\n\n  // 打 tag\n  if (isStr(type)) {\n    // 原生标签\n    fiber.tag = HostComponent; // 传入的是dom.nodeName\n  } else if (isFn(type)) {\n    // 函数组件 类组件\n    fiber.tag = type.prototype.isReactComponent\n      ? ClassComponent\n      : FunctionComponent;\n  } else if (isUndefined(type)) {\n    // 此时是纯文本或数字节点\n    fiber.tag = HostText;\n    fiber.props = { children: vnode };\n  } else {\n    fiber.tag = Fragment;\n  }\n\n  return fiber;\n}\n"}],"position":{"start":{"line":93,"column":1,"offset":1610},"end":{"line":138,"column":4,"offset":2637}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// ReactFiber"]}],["$","span","code-segment-2",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-4",{"style":{},"children":[""]}],["$","span","code-segment-5",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}],["$","span","code-segment-6",{"style":{},"children":[" "]}],["$","span","code-segment-7",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}],["$","span","code-segment-8",{"style":{},"children":[" "]}],["$","span","code-segment-9",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["createFiber"]}],["$","span","code-segment-10",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-11",{"className":"token parameter","style":{},"children":["vnode"]}],["$","span","code-segment-12",{"className":"token parameter","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}],["$","span","code-segment-13",{"className":"token parameter","style":{},"children":[" returnFiber"]}],["$","span","code-segment-14",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-15",{"style":{},"children":[" "]}],["$","span","code-segment-16",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-17",{"style":{},"children":["\n"]}],"$L118","$L119","$L11a","$L11b","$L11c","$L11d","$L11e","$L11f","$L120","$L121","$L122","$L123","$L124","$L125","$L126","$L127","$L128","$L129","$L12a","$L12b","$L12c","$L12d","$L12e","$L12f","$L130","$L131","$L132","$L133","$L134","$L135","$L136","$L137","$L138","$L139","$L13a","$L13b","$L13c","$L13d","$L13e","$L13f","$L140","$L141","$L142","$L143","$L144","$L145","$L146","$L147","$L148","$L149","$L14a","$L14b","$L14c","$L14d","$L14e","$L14f","$L150","$L151","$L152","$L153","$L154","$L155","$L156","$L157","$L158","$L159","$L15a","$L15b","$L15c","$L15d","$L15e","$L15f","$L160","$L161","$L162","$L163","$L164","$L165","$L166","$L167","$L168","$L169","$L16a","$L16b","$L16c","$L16d","$L16e","$L16f","$L170","$L171","$L172","$L173","$L174","$L175","$L176","$L177","$L178","$L179","$L17a","$L17b","$L17c","$L17d","$L17e","$L17f","$L180","$L181","$L182","$L183","$L184","$L185","$L186","$L187","$L188","$L189","$L18a","$L18b","$L18c","$L18d","$L18e","$L18f","$L190","$L191","$L192","$L193","$L194","$L195","$L196","$L197","$L198","$L199","$L19a","$L19b","$L19c","$L19d","$L19e","$L19f","\n","$L1a0","$L1a1","$L1a2","$L1a3","$L1a4","$L1a5","$L1a6","$L1a7","$L1a8","$L1a9","$L1aa","$L1ab","$L1ac","\n","$L1ad","$L1ae","$L1af","$L1b0","$L1b1","$L1b2","$L1b3","$L1b4","$L1b5","$L1b6","$L1b7","$L1b8","$L1b9","$L1ba","$L1bb","$L1bc","$L1bd","$L1be","$L1bf","$L1c0","$L1c1","$L1c2","$L1c3","$L1c4","$L1c5","$L1c6","$L1c7","$L1c8","$L1c9","$L1ca","$L1cb","$L1cc","$L1cd","$L1ce","$L1cf","$L1d0","$L1d1","$L1d2","$L1d3","$L1d4","$L1d5","$L1d6","$L1d7","$L1d8","$L1d9","$L1da","$L1db","$L1dc","$L1dd","$L1de","$L1df","$L1e0","$L1e1","$L1e2","$L1e3","$L1e4","$L1e5","$L1e6","$L1e7","$L1e8","$L1e9","$L1ea","$L1eb","$L1ec","$L1ed","$L1ee","$L1ef","$L1f0","$L1f1","$L1f2","$L1f3","$L1f4","$L1f5","$L1f6","$L1f7","$L1f8","$L1f9","$L1fa","$L1fb","$L1fc","$L1fd","$L1fe","$L1ff","$L200","$L201","$L202","$L203","$L204","$L205","$L206","$L207","$L208","$L209","$L20a","$L20b","$L20c","$L20d","$L20e","$L20f","$L210","$L211","$L212","$L213","$L214","$L215","$L216","$L217","$L218","$L219","$L21a","$L21b","$L21c","$L21d","$L21e","$L21f","$L220","$L221","$L222","$L223","$L224","$L225","$L226","$L227","$L228","$L229","$L22a","$L22b","$L22c","$L22d","$L22e","$L22f","$L230","$L231","$L232","$L233","$L234","$L235","$L236","$L237","$L238","$L239","$L23a","$L23b","$L23c","$L23d","$L23e","$L23f","$L240","\n","$L241","$L242","$L243","$L244","$L245","$L246","$L247","$L248","$L249"]]}]}]}]
19:["$","p","p-15",{"className":"mb-4 text-lg leading-relaxed","children":"其中 flags 用于区分接下来进行什么操作："}]
1a:["$","div","pre-3,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"export const Placement = /*                    */ 0b0000000000000000000010; // 2\nexport const Update = /*                       */ 0b0000000000000000000100; // 4\nexport const Deletion = /*                     */ 0b0000000000000000001000; // 8\n"}],"position":{"start":{"line":142,"column":1,"offset":2664},"end":{"line":146,"column":4,"offset":2916}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}],["$","span","code-segment-2",{"style":{},"children":[" "]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}],["$","span","code-segment-4",{"style":{},"children":[" "]}],["$","span","code-segment-5",{"className":"token maybe-class-name","style":{},"children":["Placement"]}],["$","span","code-segment-6",{"style":{},"children":[" "]}],["$","span","code-segment-7",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}],["$","span","code-segment-8",{"style":{},"children":[" "]}],["$","span","code-segment-9",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["/*                    */"]}],["$","span","code-segment-10",{"style":{},"children":[" "]}],["$","span","code-segment-11",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["0b0000000000000000000010"]}],["$","span","code-segment-12",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],["$","span","code-segment-13",{"style":{},"children":[" "]}],["$","span","code-segment-14",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 2"]}],["$","span","code-segment-15",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-17",{"style":{},"children":[""]}],["$","span","code-segment-18",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}],["$","span","code-segment-19",{"style":{},"children":[" "]}],["$","span","code-segment-20",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}],["$","span","code-segment-21",{"style":{},"children":[" "]}],["$","span","code-segment-22",{"className":"token maybe-class-name","style":{},"children":["Update"]}],["$","span","code-segment-23",{"style":{},"children":[" "]}],["$","span","code-segment-24",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}],["$","span","code-segment-25",{"style":{},"children":[" "]}],["$","span","code-segment-26",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["/*                       */"]}],["$","span","code-segment-27",{"style":{},"children":[" "]}],["$","span","code-segment-28",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["0b0000000000000000000100"]}],["$","span","code-segment-29",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],"$L24a","$L24b","$L24c","$L24d","$L24e","$L24f","$L250","$L251","$L252","$L253","$L254","$L255","$L256","$L257","$L258","$L259","$L25a","$L25b","$L25c"]]}]}]}]
1b:["$","blockquote","blockquote-0",{"className":"bg-gray-100 p-4 border-l-4 border-black italic my-4","children":["\n",["$","p","p-0",{"className":"mb-4 text-lg leading-relaxed","children":["知道为什么使用 二进制吗？考虑到即将进行的操作可能会有多个，为了提高可扩展性，使用二进制方便位运算，相加同样具有唯一性。判断：",["$","code","code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"state & Update === true","position":{"start":{"line":148,"column":66,"offset":2983},"end":{"line":148,"column":91,"offset":3008}}}],"position":{"start":{"line":148,"column":66,"offset":2983},"end":{"line":148,"column":91,"offset":3008}}},"children":"state & Update === true"}]]}],"\n"]}]
1c:["$","p","p-16",{"className":"mb-4 text-lg leading-relaxed","children":"区分 函数式组件和类式组件，需要额外加标志。我们都知道 类式组件最终都会继承 Component 组件，我能就在这个上边做手脚："}]
1d:["$","div","pre-4,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"export default function Component(props) {\n  this.props = props;\n}\n\n// 类组件标记\nComponent.prototype.isReactComponent = {};\n"}],"position":{"start":{"line":152,"column":1,"offset":3076},"end":{"line":159,"column":4,"offset":3205}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}],["$","span","code-segment-2",{"style":{},"children":[" "]}],["$","span","code-segment-3",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["default"]}],["$","span","code-segment-4",{"style":{},"children":[" "]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}],["$","span","code-segment-6",{"style":{},"children":[" "]}],["$","span","code-segment-7",{"className":"token maybe-class-name","style":{"color":"hsl(221, 87%, 60%)"},"children":["Component"]}],["$","span","code-segment-8",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-9",{"className":"token parameter","style":{},"children":["props"]}],["$","span","code-segment-10",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-11",{"style":{},"children":[" "]}],["$","span","code-segment-12",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-13",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-15",{"style":{},"children":["  "]}],["$","span","code-segment-16",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["this"]}],["$","span","code-segment-17",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}],["$","span","code-segment-18",{"className":"token property-access","style":{},"children":["props"]}],["$","span","code-segment-19",{"style":{},"children":[" "]}],["$","span","code-segment-20",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}],["$","span","code-segment-21",{"style":{},"children":[" props"]}],["$","span","code-segment-22",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],["$","span","code-segment-23",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-25",{"style":{},"children":[""]}],["$","span","code-segment-26",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}],["$","span","code-segment-27",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],"\n","$L25d","$L25e","$L25f","$L260","$L261","$L262","$L263","$L264","$L265","$L266","$L267","$L268","$L269","$L26a","$L26b","$L26c","$L26d"]]}]}]}]
1e:["$","p","p-17",{"className":"mb-4 text-lg leading-relaxed","children":"只要判断有没有 isReactComponent 就可以区分是否是函数式组件了。"}]
1f:["$","p","p-18",{"className":"mb-4 text-lg leading-relaxed","children":"如此就构建了一个对 react vdom 二次封装的 Fiber 对象。"}]
20:["$","h3","h3-3",{"className":"text-xl font-bold mt-4 mb-2","children":"③ 渲染容器"}]
21:["$","p","p-19",{"className":"mb-4 text-lg leading-relaxed","children":"我们都知道，React 17+ 的根组件渲染方式："}]
22:["$","div","pre-5,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"// 新的渲染方式，开放出了 root 对象单例，方便重复render\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render(jsx);\n\n...\nroot.render(jsx1);\n"}],"position":{"start":{"line":169,"column":1,"offset":3326},"end":{"line":176,"column":4,"offset":3480}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 新的渲染方式，开放出了 root 对象单例，方便重复render"]}],["$","span","code-segment-2",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-4",{"style":{},"children":[""]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}],["$","span","code-segment-6",{"style":{},"children":[" root "]}],["$","span","code-segment-7",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}],["$","span","code-segment-8",{"style":{},"children":[" "]}],["$","span","code-segment-9",{"className":"token maybe-class-name","style":{},"children":["ReactDOM"]}],["$","span","code-segment-10",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}],["$","span","code-segment-11",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["createRoot"]}],["$","span","code-segment-12",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-13",{"className":"token dom","style":{"color":"hsl(221, 87%, 60%)"},"children":["document"]}],["$","span","code-segment-14",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}],["$","span","code-segment-15",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["getElementById"]}],["$","span","code-segment-16",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-17",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["\"root\""]}],["$","span","code-segment-18",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-19",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-20",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],["$","span","code-segment-21",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-23",{"style":{},"children":["root"]}],["$","span","code-segment-24",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}],["$","span","code-segment-25",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["render"]}],"$L26e","$L26f","$L270","$L271","$L272","$L273","\n","$L274","$L275","$L276","$L277","$L278","$L279","$L27a","$L27b","$L27c","$L27d","$L27e","$L27f"]]}]}]}]
23:["$","p","p-20",{"className":"mb-4 text-lg leading-relaxed","children":"那不如就从这里入手，来看看 fiber 是怎么封装 dom 的。"}]
24:["$","div","pre-6,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"function createRoot(container) {\n  const root = {\n    containerInfo: container,\n  };\n\n  return new ReactDOMRoot(root);\n}\n\nfunction ReactDOMRoot(internalRoot) {\n  this._internalRoot = internalRoot;\n}\n"}],"position":{"start":{"line":180,"column":1,"offset":3516},"end":{"line":192,"column":4,"offset":3724}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}],["$","span","code-segment-2",{"style":{},"children":[" "]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["createRoot"]}],["$","span","code-segment-4",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-5",{"className":"token parameter","style":{},"children":["container"]}],["$","span","code-segment-6",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-7",{"style":{},"children":[" "]}],["$","span","code-segment-8",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-9",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-11",{"style":{},"children":["  "]}],["$","span","code-segment-12",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}],["$","span","code-segment-13",{"style":{},"children":[" root "]}],["$","span","code-segment-14",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}],["$","span","code-segment-15",{"style":{},"children":[" "]}],["$","span","code-segment-16",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-17",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-19",{"style":{},"children":["    "]}],["$","span","code-segment-20",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["containerInfo"]}],["$","span","code-segment-21",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}],["$","span","code-segment-22",{"style":{},"children":[" container"]}],["$","span","code-segment-23",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}],["$","span","code-segment-24",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],["$","span","code-segment-26",{"style":{},"children":["  "]}],["$","span","code-segment-27",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}],"$L280","$L281","$L282","\n","$L283","$L284","$L285","$L286","$L287","$L288","$L289","$L28a","$L28b","$L28c","$L28d","$L28e","$L28f","$L290","$L291","$L292","$L293","\n","$L294","$L295","$L296","$L297","$L298","$L299","$L29a","$L29b","$L29c","$L29d","$L29e","$L29f","$L2a0","$L2a1","$L2a2","$L2a3","$L2a4","$L2a5","$L2a6","$L2a7","$L2a8","$L2a9","$L2aa","$L2ab"]]}]}]}]
25:["$","p","p-21",{"className":"mb-4 text-lg leading-relaxed","children":"createRoot 返回了一个新的 ReactDOMRoot 对象:"}]
26:["$","div","pre-7,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"ReactDOMRoot.prototype.render = function (children) {\n  const root = this._internalRoot;\n\n  updateContainer(children, root);\n};\n\nfunction updateContainer(element, container) {\n  const { containerInfo } = container;\n\n  // 这里可以看到， react的容器根节点一定是原生的dom，不然不存在nodeName\n  const rootFiber = createFiber(element, {\n    type: containerInfo.nodeName.toLocaleLowerCase(),\n    stateNode: containerInfo,\n  });\n\n  scheduleUpdateOnFiber(rootFiber);\n}\n"}],"position":{"start":{"line":196,"column":1,"offset":3763},"end":{"line":214,"column":4,"offset":4208}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["ReactDOMRoot"]}],["$","span","code-segment-2",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}],["$","span","code-segment-3",{"className":"token property-access","style":{},"children":["prototype"]}],["$","span","code-segment-4",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}],["$","span","code-segment-5",{"className":"token method-variable function-variable method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["render"]}],["$","span","code-segment-6",{"style":{},"children":[" "]}],["$","span","code-segment-7",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}],["$","span","code-segment-8",{"style":{},"children":[" "]}],["$","span","code-segment-9",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}],["$","span","code-segment-10",{"style":{},"children":[" "]}],["$","span","code-segment-11",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-12",{"className":"token parameter","style":{},"children":["children"]}],["$","span","code-segment-13",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-14",{"style":{},"children":[" "]}],["$","span","code-segment-15",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-16",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-18",{"style":{},"children":["  "]}],["$","span","code-segment-19",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}],["$","span","code-segment-20",{"style":{},"children":[" root "]}],["$","span","code-segment-21",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}],["$","span","code-segment-22",{"style":{},"children":[" "]}],["$","span","code-segment-23",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["this"]}],["$","span","code-segment-24",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}],["$","span","code-segment-25",{"className":"token property-access","style":{},"children":["_internalRoot"]}],"$L2ac","$L2ad","$L2ae","\n","$L2af","$L2b0","$L2b1","$L2b2","$L2b3","$L2b4","$L2b5","$L2b6","$L2b7","$L2b8","$L2b9","$L2ba","$L2bb","$L2bc","$L2bd","$L2be","\n","$L2bf","$L2c0","$L2c1","$L2c2","$L2c3","$L2c4","$L2c5","$L2c6","$L2c7","$L2c8","$L2c9","$L2ca","$L2cb","$L2cc","$L2cd","$L2ce","$L2cf","$L2d0","$L2d1","$L2d2","$L2d3","$L2d4","$L2d5","$L2d6","$L2d7","$L2d8","\n","$L2d9","$L2da","$L2db","$L2dc","$L2dd","$L2de","$L2df","$L2e0","$L2e1","$L2e2","$L2e3","$L2e4","$L2e5","$L2e6","$L2e7","$L2e8","$L2e9","$L2ea","$L2eb","$L2ec","$L2ed","$L2ee","$L2ef","$L2f0","$L2f1","$L2f2","$L2f3","$L2f4","$L2f5","$L2f6","$L2f7","$L2f8","$L2f9","$L2fa","$L2fb","$L2fc","$L2fd","$L2fe","$L2ff","$L300","$L301","$L302","$L303","$L304","\n","$L305","$L306","$L307","$L308","$L309","$L30a","$L30b","$L30c","$L30d","$L30e","$L30f"]]}]}]}]
27:["$","p","p-22",{"className":"mb-4 text-lg leading-relaxed","children":"这个对象实现了 root 的 render 方法，调用了 updateContainer 方法。而这个方法创建了一个 Fiber 对象，通过 scheduleUpdateOnFiber 加入调度器："}]
28:["$","div","pre-8,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"export function scheduleUpdateOnFiber(fiber) {\n  // work in process\n  wip = fiber;\n  wipRoot = fiber;\n}\n"}],"position":{"start":{"line":218,"column":1,"offset":4311},"end":{"line":224,"column":4,"offset":4424}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}],["$","span","code-segment-2",{"style":{},"children":[" "]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}],["$","span","code-segment-4",{"style":{},"children":[" "]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["scheduleUpdateOnFiber"]}],["$","span","code-segment-6",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-7",{"className":"token parameter","style":{},"children":["fiber"]}],["$","span","code-segment-8",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-9",{"style":{},"children":[" "]}],["$","span","code-segment-10",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-11",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-13",{"style":{},"children":["  "]}],["$","span","code-segment-14",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// work in process"]}],["$","span","code-segment-15",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-17",{"style":{},"children":["  wip "]}],["$","span","code-segment-18",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}],["$","span","code-segment-19",{"style":{},"children":[" fiber"]}],["$","span","code-segment-20",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],["$","span","code-segment-21",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],["$","span","code-segment-23",{"style":{},"children":["  wipRoot "]}],["$","span","code-segment-24",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}],["$","span","code-segment-25",{"style":{},"children":[" fiber"]}],["$","span","code-segment-26",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],["$","span","code-segment-27",{"style":{},"children":["\n"]}],["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}],"$L310","$L311"]]}]}]}]
29:["$","p","p-23",{"className":"mb-4 text-lg leading-relaxed","children":"work in process 表示当前正在处理的 fiber 节点。"}]
2a:["$","p","p-24",{"className":"mb-4 text-lg leading-relaxed","children":"我们看到了，初始化工作完成后，似乎没有渲染的操作，只是 new 了一堆对象。所以需要创建一个调度任务。"}]
2b:["$","h3","h3-4",{"className":"text-xl font-bold mt-4 mb-2","children":"④ 调度器之一"}]
2c:["$","p","p-25",{"className":"mb-4 text-lg leading-relaxed","children":"浏览器有自己的调度工具："}]
2d:["$","blockquote","blockquote-1",{"className":"bg-gray-100 p-4 border-l-4 border-black italic my-4","children":["\n",["$","p","p-0",{"className":"mb-4 text-lg leading-relaxed","children":"这里我们暂且使用浏览器自带的空闲时间片调度工具。由于考虑到兼容性，React 自己实现了这个函数，放在 Scheduler 里，下边会讲到。"}],"\n"]}]
2e:["$","div","pre-9,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"// TODO：react scheduler 部分原生实现了一套：浏览器事件循环空闲时间段内调用函数排队\nrequestIdleCallback(workLoop);\n"}],"position":{"start":{"line":236,"column":1,"offset":4617},"end":{"line":239,"column":4,"offset":4711}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// TODO：react scheduler 部分原生实现了一套：浏览器事件循环空闲时间段内调用函数排队"]}],["$","span","code-segment-2",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-4",{"style":{},"children":[""]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["requestIdleCallback"]}],["$","span","code-segment-6",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-7",{"style":{},"children":["workLoop"]}],["$","span","code-segment-8",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-9",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]]]}]}]}]
2f:["$","p","p-26",{"className":"mb-4 text-lg leading-relaxed","children":"我们这里关注的重点还是在如何调度上："}]
30:["$","div","pre-10,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"function workLoop(IdleDeadLine) {\n  // 可以自己定义优先级来核实执行什么事件，这里判断只要空闲就排队\n  while (wip && IdleDeadLine.timeRemaining() > 0) {\n    // 执行任务：使用新的 O(n) 算法\n    performUnitOfWork();\n  }\n\n  // 确保调度器在运行\n  requestIdleCallback(workLoop);\n\n  // 如果所有的任务执行完毕，commit一下，就是说触发一次更新。从 root 开始刷新一遍渲染\n  if (!wip && wipRoot) {\n    commitRoot();\n  }\n}\n"}],"position":{"start":{"line":243,"column":1,"offset":4733},"end":{"line":259,"column":4,"offset":5068}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}],["$","span","code-segment-2",{"style":{},"children":[" "]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["workLoop"]}],["$","span","code-segment-4",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-5",{"className":"token parameter maybe-class-name","style":{},"children":["IdleDeadLine"]}],["$","span","code-segment-6",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-7",{"style":{},"children":[" "]}],["$","span","code-segment-8",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-9",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-11",{"style":{},"children":["  "]}],["$","span","code-segment-12",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 可以自己定义优先级来核实执行什么事件，这里判断只要空闲就排队"]}],["$","span","code-segment-13",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-15",{"style":{},"children":["  "]}],["$","span","code-segment-16",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["while"]}],["$","span","code-segment-17",{"style":{},"children":[" "]}],["$","span","code-segment-18",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-19",{"style":{},"children":["wip "]}],["$","span","code-segment-20",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["&&"]}],["$","span","code-segment-21",{"style":{},"children":[" "]}],["$","span","code-segment-22",{"className":"token maybe-class-name","style":{},"children":["IdleDeadLine"]}],["$","span","code-segment-23",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}],["$","span","code-segment-24",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["timeRemaining"]}],["$","span","code-segment-25",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],"$L312","$L313","$L314","$L315","$L316","$L317","$L318","$L319","$L31a","$L31b","$L31c","$L31d","$L31e","$L31f","$L320","$L321","$L322","$L323","$L324","$L325","$L326","$L327","$L328","$L329","$L32a","\n","$L32b","$L32c","$L32d","$L32e","$L32f","$L330","$L331","$L332","$L333","$L334","$L335","$L336","$L337","\n","$L338","$L339","$L33a","$L33b","$L33c","$L33d","$L33e","$L33f","$L340","$L341","$L342","$L343","$L344","$L345","$L346","$L347","$L348","$L349","$L34a","$L34b","$L34c","$L34d","$L34e","$L34f","$L350","$L351","$L352","$L353","$L354","$L355","$L356"]]}]}]}]
31:["$","p","p-27",{"className":"mb-4 text-lg leading-relaxed","children":"上边的代码是一个循环调度，反复调用 requestIdleCallback，让 CPU 在空闲时间片调用我们自己定义的调度函数来渲染界面。当有空闲时间时，执行 performUnitOfWork，当没有工作中的 fiber 实例，说明是渲染根节点，此时不能复用上边的更新逻辑，因为节点都还没有呢，谈不上更新，此时需调用 commitRoot。"}]
32:["$","p","p-28",{"className":"mb-4 text-lg leading-relaxed","children":"执行任务代码如下："}]
33:["$","div","pre-11,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"// performUnitOfWork\nconst { tag } = wip;\n\n// 通过 tag 区分渲染模式\nswitch (tag) {\n  case HostComponent:\n    updateHostComponent(wip);\n    break;\n\n  case FunctionComponent:\n    updateFunctionComponent(wip);\n    break;\n\n  case ClassComponent:\n    updateClassComponent(wip);\n    break;\n\n  case Fragment:\n    updateFragmentComponent(wip);\n    break;\n\n  case HostText:\n    updateTextComponent(wip);\n    break;\n\n  default:\n    break;\n}\n\n// 2. 更新wip 多叉树深度优先遍历\n// 优先找孩子，没有孩子就找兄弟，没有兄弟找父级的兄弟，直到找到根节点。时间复杂度：O(n)\nif (wip.child) {\n  wip = wip.child;\n  return;\n}\n\nlet next = wip;\n\nwhile (next) {\n  if (next.sibling) {\n    wip = next.sibling;\n    return;\n  }\n  next = next.return;\n}\nwip = null;\n"}],"position":{"start":{"line":265,"column":1,"offset":5254},"end":{"line":312,"column":4,"offset":5936}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// performUnitOfWork"]}],["$","span","code-segment-2",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-4",{"style":{},"children":[""]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}],["$","span","code-segment-6",{"style":{},"children":[" "]}],["$","span","code-segment-7",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-8",{"style":{},"children":[" tag "]}],["$","span","code-segment-9",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}],["$","span","code-segment-10",{"style":{},"children":[" "]}],["$","span","code-segment-11",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}],["$","span","code-segment-12",{"style":{},"children":[" wip"]}],["$","span","code-segment-13",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],["$","span","code-segment-14",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],"\n",["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],["$","span","code-segment-18",{"style":{},"children":[""]}],["$","span","code-segment-19",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 通过 tag 区分渲染模式"]}],["$","span","code-segment-20",{"style":{},"children":["\n"]}],"$L357","$L358","$L359","$L35a","$L35b","$L35c","$L35d","$L35e","$L35f","$L360","$L361","$L362","$L363","$L364","$L365","$L366","$L367","$L368","$L369","$L36a","$L36b","$L36c","$L36d","$L36e","$L36f","$L370","$L371","$L372","$L373","$L374","$L375","\n","$L376","$L377","$L378","$L379","$L37a","$L37b","$L37c","$L37d","$L37e","$L37f","$L380","$L381","$L382","$L383","$L384","$L385","$L386","$L387","$L388","$L389","$L38a","\n","$L38b","$L38c","$L38d","$L38e","$L38f","$L390","$L391","$L392","$L393","$L394","$L395","$L396","$L397","$L398","$L399","$L39a","$L39b","$L39c","$L39d","$L39e","$L39f","\n","$L3a0","$L3a1","$L3a2","$L3a3","$L3a4","$L3a5","$L3a6","$L3a7","$L3a8","$L3a9","$L3aa","$L3ab","$L3ac","$L3ad","$L3ae","$L3af","$L3b0","$L3b1","$L3b2","$L3b3","$L3b4","\n","$L3b5","$L3b6","$L3b7","$L3b8","$L3b9","$L3ba","$L3bb","$L3bc","$L3bd","$L3be","$L3bf","$L3c0","$L3c1","$L3c2","$L3c3","$L3c4","$L3c5","$L3c6","$L3c7","$L3c8","$L3c9","\n","$L3ca","$L3cb","$L3cc","$L3cd","$L3ce","$L3cf","$L3d0","$L3d1","$L3d2","$L3d3","$L3d4","$L3d5","$L3d6","$L3d7","$L3d8","\n","$L3d9","$L3da","$L3db","$L3dc","$L3dd","$L3de","$L3df","$L3e0","$L3e1","$L3e2","$L3e3","$L3e4","$L3e5","$L3e6","$L3e7","$L3e8","$L3e9","$L3ea","$L3eb","$L3ec","$L3ed","$L3ee","$L3ef","$L3f0","$L3f1","$L3f2","$L3f3","$L3f4","$L3f5","$L3f6","$L3f7","$L3f8","$L3f9","$L3fa","$L3fb","$L3fc","$L3fd","$L3fe","\n","$L3ff","$L400","$L401","$L402","$L403","$L404","$L405","$L406","$L407","\n","$L408","$L409","$L40a","$L40b","$L40c","$L40d","$L40e","$L40f","$L410","$L411","$L412","$L413","$L414","$L415","$L416","$L417","$L418","$L419","$L41a","$L41b","$L41c","$L41d","$L41e","$L41f","$L420","$L421","$L422","$L423","$L424","$L425","$L426","$L427","$L428","$L429","$L42a","$L42b","$L42c","$L42d","$L42e","$L42f","$L430","$L431","$L432","$L433","$L434","$L435","$L436","$L437","$L438","$L439","$L43a","$L43b","$L43c","$L43d","$L43e","$L43f","$L440"]]}]}]}]
34:["$","p","p-29",{"className":"mb-4 text-lg leading-relaxed","children":"commitRoot 代码如下："}]
441:T76a,// commitRoot
commitWorker(wipRoot);
// 防止被 多次执行
wipRoot = null;

// fiber 树创建的过程
function commitWorker(wip) {
  // 直到找不到 wip，退出
  if (!wip) {
    return;
  }
  // 自己
  const { stateNode, flags } = wip;
  // 父dom节点
  const parentNode = getParentNode(wip.return); //wip.return.stateNode;

  // 具体 flags 的设置，在 后边 diff 算法中实现

  // 即将创建的
  if (flags & Placement && stateNode) {
    parentNode.appendChild(stateNode);
  }

  // 即将更新的
  if (flags & Update && stateNode) {
    updateNode(stateNode, wip.alternate.props, wip.props);
  }

  // 即将删除的
  if (wip.deletions) {
    commitDeletions(wip.deletions, stateNode || parentNode);
  }

  // 2. 下一个孩子
  commitWorker(wip.child);
  // 3. 下一个兄弟
  commitWorker(wip.sibling);
}

function getParentNode(wip) {
  // 自定义组件没有实体，return里全是child，需往上找父组件
  let tem = wip;
  while (tem) {
    if (tem.stateNode) {
      return tem.stateNode;
    }
    tem = tem.return;
  }
}

// prev  {a: 1}
// next { b: 3}
export function updateNode(node, prevVal, nextVal) {
  Object.keys(nextVal).forEach((k) => {
    if (k === 'children') {
      // 有可能是文本，我们自己设置的文本节点 props.children
      if (isStringOrNumber(nextVal[k])) {
        node.textContent = nextVal[k] + '';
      }
    } else if (k.slice(0, 2) === 'on') {
      const eventName = k.slice(2).toLocaleLowerCase();
      node.addEventListener(eventName, nextVal[k]);
    } else {
      node[k] = nextVal[k];
    }
  });
}

function commitDeletions(deletions, parentNode) {
  for (let i = 0; i < deletions.length; i++) {
    parentNode.removeChild(getStateNode(deletions[i]));
  }
}

function getStateNode(fiber) {
  let tem = fiber;
  while (!tem.stateNode) {
    tem = tem.child;
  }

  return tem.stateNode;
}
35:["$","div","pre-12,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"$441"}],"position":{"start":{"line":316,"column":1,"offset":5956},"end":{"line":399,"column":4,"offset":7655}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// commitRoot"]}],["$","span","code-segment-2",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-4",{"style":{},"children":[""]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["commitWorker"]}],["$","span","code-segment-6",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-7",{"style":{},"children":["wipRoot"]}],"$L442","$L443","$L444","$L445","$L446","$L447","$L448","$L449","$L44a","$L44b","$L44c","$L44d","$L44e","$L44f","$L450","\n","$L451","$L452","$L453","$L454","$L455","$L456","$L457","$L458","$L459","$L45a","$L45b","$L45c","$L45d","$L45e","$L45f","$L460","$L461","$L462","$L463","$L464","$L465","$L466","$L467","$L468","$L469","$L46a","$L46b","$L46c","$L46d","$L46e","$L46f","$L470","$L471","$L472","$L473","$L474","$L475","$L476","$L477","$L478","$L479","$L47a","$L47b","$L47c","$L47d","$L47e","$L47f","$L480","$L481","$L482","$L483","$L484","$L485","$L486","$L487","$L488","$L489","$L48a","$L48b","$L48c","$L48d","$L48e","$L48f","$L490","$L491","$L492","$L493","$L494","$L495","$L496","$L497","$L498","$L499","$L49a","$L49b","$L49c","$L49d","$L49e","\n","$L49f","$L4a0","$L4a1","$L4a2","$L4a3","\n","$L4a4","$L4a5","$L4a6","$L4a7","$L4a8","$L4a9","$L4aa","$L4ab","$L4ac","$L4ad","$L4ae","$L4af","$L4b0","$L4b1","$L4b2","$L4b3","$L4b4","$L4b5","$L4b6","$L4b7","$L4b8","$L4b9","$L4ba","$L4bb","$L4bc","$L4bd","$L4be","$L4bf","$L4c0","$L4c1","$L4c2","$L4c3","$L4c4","$L4c5","\n","$L4c6","$L4c7","$L4c8","$L4c9","$L4ca","$L4cb","$L4cc","$L4cd","$L4ce","$L4cf","$L4d0","$L4d1","$L4d2","$L4d3","$L4d4","$L4d5","$L4d6","$L4d7","$L4d8","$L4d9","$L4da","$L4db","$L4dc","$L4dd","$L4de","$L4df","$L4e0","$L4e1","$L4e2","$L4e3","$L4e4","$L4e5","$L4e6","$L4e7","$L4e8","$L4e9","$L4ea","$L4eb","$L4ec","$L4ed","$L4ee","$L4ef","$L4f0","\n","$L4f1","$L4f2","$L4f3","$L4f4","$L4f5","$L4f6","$L4f7","$L4f8","$L4f9","$L4fa","$L4fb","$L4fc","$L4fd","$L4fe","$L4ff","$L500","$L501","$L502","$L503","$L504","$L505","$L506","$L507","$L508","$L509","$L50a","$L50b","$L50c","$L50d","$L50e","$L50f","$L510","$L511","$L512","$L513","\n","$L514","$L515","$L516","$L517","$L518","$L519","$L51a","$L51b","$L51c","$L51d","$L51e","$L51f","$L520","$L521","$L522","$L523","$L524","$L525","$L526","$L527","$L528","$L529","$L52a","$L52b","$L52c","$L52d","$L52e","$L52f","$L530","$L531","$L532","$L533","$L534","\n","$L535","$L536","$L537","$L538","$L539","$L53a","$L53b","$L53c","$L53d","$L53e","$L53f","$L540","$L541","$L542","$L543","$L544","$L545","$L546","$L547","$L548","$L549","$L54a","$L54b","$L54c","$L54d","$L54e","$L54f","$L550","$L551","$L552","$L553","$L554","$L555","$L556","$L557","$L558","$L559","$L55a","$L55b","$L55c","$L55d","$L55e","$L55f","$L560","$L561","$L562","$L563","$L564","$L565","$L566","$L567","$L568","$L569","$L56a","$L56b","$L56c","$L56d","$L56e","$L56f","$L570","$L571","$L572","$L573","$L574","$L575","$L576","$L577","$L578","$L579","$L57a","$L57b","$L57c","$L57d","$L57e","\n","$L57f","$L580","$L581","$L582","$L583","$L584","$L585","$L586","$L587","$L588","$L589","$L58a","$L58b","$L58c","$L58d","$L58e","$L58f","$L590","$L591","$L592","$L593","$L594","$L595","$L596","$L597","$L598","$L599","$L59a","$L59b","$L59c","$L59d","$L59e","$L59f","$L5a0","$L5a1","$L5a2","$L5a3","$L5a4","$L5a5","$L5a6","$L5a7","$L5a8","$L5a9","$L5aa","$L5ab","$L5ac","$L5ad","$L5ae","$L5af","$L5b0","$L5b1","$L5b2","$L5b3","$L5b4","$L5b5","$L5b6","$L5b7","$L5b8","$L5b9","$L5ba","$L5bb","$L5bc","$L5bd","$L5be","$L5bf","$L5c0","$L5c1","$L5c2","$L5c3","$L5c4","$L5c5","$L5c6","$L5c7","$L5c8","$L5c9","$L5ca","$L5cb","$L5cc","$L5cd","$L5ce","$L5cf","$L5d0","$L5d1","$L5d2","$L5d3","$L5d4","$L5d5","$L5d6","$L5d7","$L5d8","$L5d9","$L5da","$L5db","$L5dc","$L5dd","$L5de","$L5df","$L5e0","$L5e1","$L5e2","$L5e3","$L5e4","$L5e5","$L5e6","$L5e7","$L5e8","$L5e9","$L5ea","$L5eb","$L5ec","$L5ed","$L5ee","$L5ef","$L5f0","$L5f1","$L5f2","$L5f3","$L5f4","$L5f5","$L5f6","$L5f7","$L5f8","$L5f9","$L5fa","$L5fb","$L5fc","$L5fd","$L5fe","$L5ff","$L600","$L601","$L602","$L603","$L604","$L605","$L606","$L607","$L608","$L609","$L60a","$L60b","$L60c","$L60d","$L60e","$L60f","$L610","$L611","$L612","$L613","$L614","$L615","$L616","$L617","$L618","$L619","$L61a","$L61b","$L61c","$L61d","$L61e","$L61f","$L620","$L621","$L622","$L623","$L624","$L625","$L626","$L627","$L628","$L629","$L62a","$L62b","$L62c","$L62d","$L62e","$L62f","$L630","$L631","$L632","$L633","$L634","$L635","$L636","$L637","$L638","$L639","$L63a","$L63b","$L63c","\n","$L63d","$L63e","$L63f","$L640","$L641","$L642","$L643","$L644","$L645","$L646","$L647","$L648","$L649","$L64a","$L64b","$L64c","$L64d","$L64e","$L64f","$L650","$L651","$L652","$L653","$L654","$L655","$L656","$L657","$L658","$L659","$L65a","$L65b","$L65c","$L65d","$L65e","$L65f","$L660","$L661","$L662","$L663","$L664","$L665","$L666","$L667","$L668","$L669","$L66a","$L66b","$L66c","$L66d","$L66e","$L66f","$L670","$L671","$L672","$L673","$L674","$L675","$L676","$L677","$L678","\n","$L679","$L67a","$L67b","$L67c","$L67d","$L67e","$L67f","$L680","$L681","$L682","$L683","$L684","$L685","$L686","$L687","$L688","$L689","$L68a","$L68b","$L68c","$L68d","$L68e","$L68f","$L690","$L691","$L692","$L693","$L694","$L695","$L696","$L697","$L698","$L699","$L69a","$L69b","$L69c","$L69d","$L69e","$L69f","$L6a0","$L6a1","$L6a2","$L6a3","$L6a4","$L6a5","\n","$L6a6","$L6a7","$L6a8","$L6a9","$L6aa","$L6ab","$L6ac","$L6ad","$L6ae","$L6af","$L6b0"]]}]}]}]
36:["$","h3","h3-5",{"className":"text-xl font-bold mt-4 mb-2","children":"⑤ 渲染节点"}]
37:["$","p","p-30",{"className":"mb-4 text-lg leading-relaxed","children":"上边的 commit 操作我们看到了，是根据节点的 flags 和 stateNode 实例来更新的。在渲染的时候，需要写入这两份属性，"}]
38:["$","ol","ol-1",{"className":"ml-4 list-decimal mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"渲染原生节点："}],"\n"]}]
39:["$","p","p-31",{"className":"mb-4 text-lg leading-relaxed","children":"createElement 创建元素，props 通过 updateNode 更新"}]
3a:["$","div","pre-13,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"export function updateHostComponent(wip) {\n  // 初次加载，stateNode=null\n  if (!wip.stateNode) {\n    // type : dom.nodeName.toLowerCase()\n    wip.stateNode = document.createElement(wip.type);\n    // 最终都会归类到原生节点\n    // 初始化在这里commit，之后的更新在commitWorker里commit\n    updateNode(wip.stateNode, {}, wip.props);\n  }\n\n  // 协调子节点\n  reconcileChildren(wip, wip.props.children);\n}\n"}],"position":{"start":{"line":409,"column":1,"offset":7794},"end":{"line":423,"column":4,"offset":8165}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}],["$","span","code-segment-2",{"style":{},"children":[" "]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}],["$","span","code-segment-4",{"style":{},"children":[" "]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["updateHostComponent"]}],["$","span","code-segment-6",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-7",{"className":"token parameter","style":{},"children":["wip"]}],["$","span","code-segment-8",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-9",{"style":{},"children":[" "]}],["$","span","code-segment-10",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-11",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-13",{"style":{},"children":["  "]}],["$","span","code-segment-14",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 初次加载，stateNode=null"]}],["$","span","code-segment-15",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-17",{"style":{},"children":["  "]}],["$","span","code-segment-18",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}],["$","span","code-segment-19",{"style":{},"children":[" "]}],["$","span","code-segment-20",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-21",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["!"]}],["$","span","code-segment-22",{"style":{},"children":["wip"]}],["$","span","code-segment-23",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}],["$","span","code-segment-24",{"className":"token property-access","style":{},"children":["stateNode"]}],["$","span","code-segment-25",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],"$L6b1","$L6b2","$L6b3","$L6b4","$L6b5","$L6b6","$L6b7","$L6b8","$L6b9","$L6ba","$L6bb","$L6bc","$L6bd","$L6be","$L6bf","$L6c0","$L6c1","$L6c2","$L6c3","$L6c4","$L6c5","$L6c6","$L6c7","$L6c8","$L6c9","$L6ca","$L6cb","$L6cc","$L6cd","$L6ce","$L6cf","$L6d0","$L6d1","$L6d2","$L6d3","$L6d4","$L6d5","$L6d6","$L6d7","$L6d8","$L6d9","$L6da","$L6db","$L6dc","$L6dd","$L6de","$L6df","$L6e0","$L6e1","$L6e2","$L6e3","$L6e4","$L6e5","$L6e6","$L6e7","\n","$L6e8","$L6e9","$L6ea","$L6eb","$L6ec","$L6ed","$L6ee","$L6ef","$L6f0","$L6f1","$L6f2","$L6f3","$L6f4","$L6f5","$L6f6","$L6f7","$L6f8","$L6f9","$L6fa","$L6fb","$L6fc"]]}]}]}]
3b:["$","ol","ol-2",{"className":"ml-4 list-decimal mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"渲染文本节点"}],"\n"]}]
3c:["$","div","pre-14,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"export function updateTextComponent(wip) {\n  // 还记得上边原生节点放在了 props.children 中\n  wip.stateNode = document.createTextNode(wip.props.children);\n}\n"}],"position":{"start":{"line":427,"column":1,"offset":8178},"end":{"line":432,"column":4,"offset":8330}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}],["$","span","code-segment-2",{"style":{},"children":[" "]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}],["$","span","code-segment-4",{"style":{},"children":[" "]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["updateTextComponent"]}],["$","span","code-segment-6",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-7",{"className":"token parameter","style":{},"children":["wip"]}],["$","span","code-segment-8",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-9",{"style":{},"children":[" "]}],["$","span","code-segment-10",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-11",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-13",{"style":{},"children":["  "]}],["$","span","code-segment-14",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 还记得上边原生节点放在了 props.children 中"]}],["$","span","code-segment-15",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-17",{"style":{},"children":["  wip"]}],["$","span","code-segment-18",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}],["$","span","code-segment-19",{"className":"token property-access","style":{},"children":["stateNode"]}],["$","span","code-segment-20",{"style":{},"children":[" "]}],["$","span","code-segment-21",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}],["$","span","code-segment-22",{"style":{},"children":[" "]}],["$","span","code-segment-23",{"className":"token dom","style":{"color":"hsl(221, 87%, 60%)"},"children":["document"]}],["$","span","code-segment-24",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}],["$","span","code-segment-25",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["createTextNode"]}],["$","span","code-segment-26",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-27",{"style":{},"children":["wip"]}],["$","span","code-segment-28",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}],"$L6fd","$L6fe","$L6ff","$L700","$L701","$L702","$L703","$L704","$L705"]]}]}]}]
3d:["$","ol","ol-3",{"className":"ml-4 list-decimal mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"渲染类式组件"}],"\n"]}]
3e:["$","div","pre-15,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"export function updateClassComponent(wip) {\n  const { type, props } = wip;\n\n  // type 是类的构造器\n  const instance = new type(props);\n  const children = instance.render();\n\n  reconcileChildren(wip, children);\n}\n"}],"position":{"start":{"line":436,"column":1,"offset":8343},"end":{"line":446,"column":4,"offset":8558}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}],["$","span","code-segment-2",{"style":{},"children":[" "]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}],["$","span","code-segment-4",{"style":{},"children":[" "]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["updateClassComponent"]}],["$","span","code-segment-6",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-7",{"className":"token parameter","style":{},"children":["wip"]}],["$","span","code-segment-8",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-9",{"style":{},"children":[" "]}],["$","span","code-segment-10",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-11",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-13",{"style":{},"children":["  "]}],["$","span","code-segment-14",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}],["$","span","code-segment-15",{"style":{},"children":[" "]}],["$","span","code-segment-16",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-17",{"style":{},"children":[" type"]}],["$","span","code-segment-18",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}],["$","span","code-segment-19",{"style":{},"children":[" props "]}],["$","span","code-segment-20",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}],["$","span","code-segment-21",{"style":{},"children":[" "]}],["$","span","code-segment-22",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}],["$","span","code-segment-23",{"style":{},"children":[" wip"]}],["$","span","code-segment-24",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],["$","span","code-segment-25",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],"\n",["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],"$L706","$L707","$L708","$L709","$L70a","$L70b","$L70c","$L70d","$L70e","$L70f","$L710","$L711","$L712","$L713","$L714","$L715","$L716","$L717","$L718","$L719","$L71a","$L71b","$L71c","$L71d","$L71e","$L71f","$L720","$L721","$L722","$L723","\n","$L724","$L725","$L726","$L727","$L728","$L729","$L72a","$L72b","$L72c","$L72d","$L72e","$L72f","$L730"]]}]}]}]
3f:["$","ol","ol-4",{"className":"ml-4 list-decimal mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"渲染函数式组件"}],"\n"]}]
40:["$","div","pre-16,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"export function updateFunctionComponent(wip) {\n  // 读取 hook 的操作之后讲hook原理时会提到\n  // renderWithHooks(wip);\n  const { type, props } = wip;\n\n  const children = type(props);\n\n  reconcileChildren(wip, children);\n}\n"}],"position":{"start":{"line":450,"column":1,"offset":8572},"end":{"line":460,"column":4,"offset":8788}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}],["$","span","code-segment-2",{"style":{},"children":[" "]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}],["$","span","code-segment-4",{"style":{},"children":[" "]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["updateFunctionComponent"]}],["$","span","code-segment-6",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-7",{"className":"token parameter","style":{},"children":["wip"]}],["$","span","code-segment-8",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-9",{"style":{},"children":[" "]}],["$","span","code-segment-10",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-11",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-13",{"style":{},"children":["  "]}],["$","span","code-segment-14",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 读取 hook 的操作之后讲hook原理时会提到"]}],["$","span","code-segment-15",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-17",{"style":{},"children":["  "]}],["$","span","code-segment-18",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// renderWithHooks(wip);"]}],["$","span","code-segment-19",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],["$","span","code-segment-21",{"style":{},"children":["  "]}],["$","span","code-segment-22",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}],["$","span","code-segment-23",{"style":{},"children":[" "]}],["$","span","code-segment-24",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-25",{"style":{},"children":[" type"]}],["$","span","code-segment-26",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}],"$L731","$L732","$L733","$L734","$L735","$L736","$L737","$L738","\n","$L739","$L73a","$L73b","$L73c","$L73d","$L73e","$L73f","$L740","$L741","$L742","$L743","$L744","$L745","\n","$L746","$L747","$L748","$L749","$L74a","$L74b","$L74c","$L74d","$L74e","$L74f","$L750","$L751","$L752"]]}]}]}]
41:["$","ol","ol-5",{"className":"ml-4 list-decimal mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"渲染 Fragment"}],"\n"]}]
42:["$","div","pre-17,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"export function updateFragmentComponent(wip) {\n  reconcileChildren(wip, wip.props.children);\n}\n"}],"position":{"start":{"line":464,"column":1,"offset":8806},"end":{"line":468,"column":4,"offset":8910}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}],["$","span","code-segment-2",{"style":{},"children":[" "]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}],["$","span","code-segment-4",{"style":{},"children":[" "]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["updateFragmentComponent"]}],["$","span","code-segment-6",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-7",{"className":"token parameter","style":{},"children":["wip"]}],["$","span","code-segment-8",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-9",{"style":{},"children":[" "]}],["$","span","code-segment-10",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-11",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-13",{"style":{},"children":["  "]}],["$","span","code-segment-14",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["reconcileChildren"]}],["$","span","code-segment-15",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-16",{"style":{},"children":["wip"]}],["$","span","code-segment-17",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}],["$","span","code-segment-18",{"style":{},"children":[" wip"]}],["$","span","code-segment-19",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}],["$","span","code-segment-20",{"className":"token property-access","style":{},"children":["props"]}],["$","span","code-segment-21",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}],["$","span","code-segment-22",{"className":"token property-access","style":{},"children":["children"]}],["$","span","code-segment-23",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-24",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],["$","span","code-segment-25",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-27",{"style":{},"children":[""]}],["$","span","code-segment-28",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]]]}]}]}]
43:["$","p","p-32",{"className":"mb-4 text-lg leading-relaxed","children":"最后是调节子节点函数，这也是 diff 算法实现的地方，设置 flag 也在这里："}]
753:T619,function reconcileChildren(wip, children) {
  if (isStringOrNumber(children)) {
    return;
  }

  // 原生 dom 只有一个 child，会是一个对象，这里统一放在数组里
  const newChildren = isArray(children) ? children : [children];

  // 记录上一个fiber
  let previousNewFiber = null;
  let oldFiber = wip.alternate?.child;
  for (let i = 0; i < newChildren.length; i++) {
    const newChild = newChildren[i];
    if (!newChild) {
      // 规避这样的写法： {null}
      continue;
    }
    const newFiber = createFiber(newChild, wip);

    const same = sameNode(newFiber, oldFiber);

    if (same) {
      // 标记：更新节点
      Object.assign(newFiber, {
        stateNode: oldFiber.stateNode,
        alternate: oldFiber,
        flags: Update,
      });
    }

    if (!same && oldFiber) {
      // 与新的不一样，标记：删除
      deleteChild(wip, oldFiber);
    }

    if (oldFiber) {
      oldFiber = oldFiber.sibling;
    }

    // createFiber 默认的 flags就是标识：Placement 新建
    if (i === 0) {
      // 子节点中的第一个，把链表构建起来
      wip.child = newFiber;
    } else {
      previousNewFiber.sibling = newFiber;
    }

    previousNewFiber = newFiber;
  }
}

function deleteChild(returnFiber, childToDelete) {
  const deletions = returnFiber.deletions;

  if (deletions) {
    returnFiber.deletions.push(childToDelete);
  } else {
    returnFiber.deletions = [childToDelete];
  }
}

function sameNode(a, b) {
  return a && b && a.type === b.type && a.key === b.key;
}
44:["$","div","pre-18,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"$753"}],"position":{"start":{"line":472,"column":1,"offset":8955},"end":{"line":537,"column":4,"offset":10363}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}],["$","span","code-segment-2",{"style":{},"children":[" "]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["reconcileChildren"]}],["$","span","code-segment-4",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-5",{"className":"token parameter","style":{},"children":["wip"]}],["$","span","code-segment-6",{"className":"token parameter","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}],["$","span","code-segment-7",{"className":"token parameter","style":{},"children":[" children"]}],["$","span","code-segment-8",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-9",{"style":{},"children":[" "]}],["$","span","code-segment-10",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-11",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],"$L754","$L755","$L756","$L757","$L758","$L759","$L75a","$L75b","$L75c","$L75d","$L75e","$L75f","$L760","$L761","$L762","$L763","$L764","$L765","$L766","$L767","$L768","$L769","\n","$L76a","$L76b","$L76c","$L76d","$L76e","$L76f","$L770","$L771","$L772","$L773","$L774","$L775","$L776","$L777","$L778","$L779","$L77a","$L77b","$L77c","$L77d","$L77e","$L77f","$L780","$L781","$L782","\n","$L783","$L784","$L785","$L786","$L787","$L788","$L789","$L78a","$L78b","$L78c","$L78d","$L78e","$L78f","$L790","$L791","$L792","$L793","$L794","$L795","$L796","$L797","$L798","$L799","$L79a","$L79b","$L79c","$L79d","$L79e","$L79f","$L7a0","$L7a1","$L7a2","$L7a3","$L7a4","$L7a5","$L7a6","$L7a7","$L7a8","$L7a9","$L7aa","$L7ab","$L7ac","$L7ad","$L7ae","$L7af","$L7b0","$L7b1","$L7b2","$L7b3","$L7b4","$L7b5","$L7b6","$L7b7","$L7b8","$L7b9","$L7ba","$L7bb","$L7bc","$L7bd","$L7be","$L7bf","$L7c0","$L7c1","$L7c2","$L7c3","$L7c4","$L7c5","$L7c6","$L7c7","$L7c8","$L7c9","$L7ca","$L7cb","$L7cc","$L7cd","$L7ce","$L7cf","$L7d0","$L7d1","$L7d2","$L7d3","$L7d4","$L7d5","$L7d6","$L7d7","$L7d8","$L7d9","$L7da","$L7db","$L7dc","$L7dd","$L7de","$L7df","$L7e0","$L7e1","$L7e2","$L7e3","$L7e4","\n","$L7e5","$L7e6","$L7e7","$L7e8","$L7e9","$L7ea","$L7eb","$L7ec","$L7ed","$L7ee","$L7ef","$L7f0","$L7f1","$L7f2","$L7f3","\n","$L7f4","$L7f5","$L7f6","$L7f7","$L7f8","$L7f9","$L7fa","$L7fb","$L7fc","$L7fd","$L7fe","$L7ff","$L800","$L801","$L802","$L803","$L804","$L805","$L806","$L807","$L808","$L809","$L80a","$L80b","$L80c","$L80d","$L80e","$L80f","$L810","$L811","$L812","$L813","$L814","$L815","$L816","$L817","$L818","$L819","$L81a","$L81b","$L81c","$L81d","$L81e","$L81f","$L820","$L821","$L822","$L823","$L824","$L825","$L826","$L827","$L828","$L829","$L82a","$L82b","$L82c","$L82d","$L82e","$L82f","\n","$L830","$L831","$L832","$L833","$L834","$L835","$L836","$L837","$L838","$L839","$L83a","$L83b","$L83c","$L83d","$L83e","$L83f","$L840","$L841","$L842","$L843","$L844","$L845","$L846","$L847","$L848","$L849","$L84a","$L84b","$L84c","$L84d","$L84e","$L84f","\n","$L850","$L851","$L852","$L853","$L854","$L855","$L856","$L857","$L858","$L859","$L85a","$L85b","$L85c","$L85d","$L85e","$L85f","$L860","$L861","$L862","$L863","$L864","$L865","$L866","\n","$L867","$L868","$L869","$L86a","$L86b","$L86c","$L86d","$L86e","$L86f","$L870","$L871","$L872","$L873","$L874","$L875","$L876","$L877","$L878","$L879","$L87a","$L87b","$L87c","$L87d","$L87e","$L87f","$L880","$L881","$L882","$L883","$L884","$L885","$L886","$L887","$L888","$L889","$L88a","$L88b","$L88c","$L88d","$L88e","$L88f","$L890","$L891","$L892","$L893","$L894","$L895","$L896","$L897","$L898","$L899","$L89a","\n","$L89b","$L89c","$L89d","$L89e","$L89f","$L8a0","$L8a1","$L8a2","$L8a3","$L8a4","$L8a5","$L8a6","$L8a7","$L8a8","$L8a9","\n","$L8aa","$L8ab","$L8ac","$L8ad","$L8ae","$L8af","$L8b0","$L8b1","$L8b2","$L8b3","$L8b4","$L8b5","$L8b6","$L8b7","$L8b8","$L8b9","$L8ba","$L8bb","$L8bc","$L8bd","$L8be","$L8bf","$L8c0","$L8c1","\n","$L8c2","$L8c3","$L8c4","$L8c5","$L8c6","$L8c7","$L8c8","$L8c9","$L8ca","$L8cb","$L8cc","$L8cd","$L8ce","$L8cf","$L8d0","$L8d1","$L8d2","$L8d3","$L8d4","$L8d5","$L8d6","$L8d7","$L8d8","$L8d9","$L8da","$L8db","$L8dc","$L8dd","$L8de","$L8df","$L8e0","$L8e1","$L8e2","$L8e3","$L8e4","$L8e5","$L8e6","$L8e7","$L8e8","$L8e9","$L8ea","$L8eb","$L8ec","$L8ed","$L8ee","$L8ef","$L8f0","$L8f1","$L8f2","$L8f3","\n","$L8f4","$L8f5","$L8f6","$L8f7","$L8f8","$L8f9","$L8fa","$L8fb","$L8fc","$L8fd","$L8fe","$L8ff","$L900","$L901","$L902","$L903","$L904","$L905","$L906","$L907","$L908","$L909","$L90a","$L90b","$L90c","$L90d","$L90e","$L90f","$L910","$L911","$L912","$L913","$L914","$L915","$L916","$L917","$L918","$L919","$L91a","$L91b","$L91c","$L91d","$L91e"]]}]}]}]
45:["$","h3","h3-6",{"className":"text-xl font-bold mt-4 mb-2","children":"⑥ 调度器之二"}]
46:["$","p","p-33",{"className":"mb-4 text-lg leading-relaxed","children":"讲自定义调度 CPU 空闲时间片之前，先回顾一下之前加入调度器的函数："}]
47:["$","div","pre-19,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"// root节点调用\nexport function scheduleUpdateOnFiber(fiber) {\n  // work in process\n  wip = fiber;\n  wipRoot = fiber;\n\n  // 新建一个自定义的调度\n  scheduleCallback(workLoop);\n}\n"}],"position":{"start":{"line":543,"column":1,"offset":10415},"end":{"line":553,"column":4,"offset":10587}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// root节点调用"]}],["$","span","code-segment-2",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-4",{"style":{},"children":[""]}],["$","span","code-segment-5",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}],["$","span","code-segment-6",{"style":{},"children":[" "]}],["$","span","code-segment-7",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}],["$","span","code-segment-8",{"style":{},"children":[" "]}],["$","span","code-segment-9",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["scheduleUpdateOnFiber"]}],["$","span","code-segment-10",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-11",{"className":"token parameter","style":{},"children":["fiber"]}],["$","span","code-segment-12",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-13",{"style":{},"children":[" "]}],["$","span","code-segment-14",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-15",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-17",{"style":{},"children":["  "]}],["$","span","code-segment-18",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// work in process"]}],["$","span","code-segment-19",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],["$","span","code-segment-21",{"style":{},"children":["  wip "]}],["$","span","code-segment-22",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}],["$","span","code-segment-23",{"style":{},"children":[" fiber"]}],["$","span","code-segment-24",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],["$","span","code-segment-25",{"style":{},"children":["\n"]}],["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}],"$L91f","$L920","$L921","$L922","$L923","$L924","\n","$L925","$L926","$L927","$L928","$L929","$L92a","$L92b","$L92c","$L92d","$L92e","$L92f","$L930","$L931","$L932","$L933"]]}]}]}]
48:["$","p","p-34",{"className":"mb-4 text-lg leading-relaxed","children":"上边为了不使用 js 自带的调度器 requestIdleCallback，react 这里自定义了调度的实现。我们来简易实现一下这个调度器："}]
49:["$","hr","hr-0",{}]
4a:["$","p","p-35",{"className":"mb-4 text-lg leading-relaxed","children":"（调度器实现开始）"}]
934:T83a,// scheduler.js
// 牵扯到最小堆的算法，可以参考知识库中基础部分算法
import { push, pop, peek } from './minHeap';

// 任务队列
let taskQueue = [];
// 任务计数
let taskIdCounter = 1;

// 任务优先级 延迟时间
export function scheduleCallback(callback) {
  const currentTime = getCurrentTime();

  const timeout = -1; // 源码中还会有 priorityLevel 作为一个权重维度
  const expirationTime = currentTime + timeout;

  // 每次调度，id自增，push进堆
  const newTask = {
    id: taskIdCounter++,
    callback, // 回调函数
    expirationTime, // 任务开始时间
    sortIndex: expirationTime, // 任务排序，取决于过期时间（这里简单的任务过期时间越近，优先级越高）
  };
  push(taskQueue, newTask);

  // 请求调度
  requestHostCallback();
}

// MessageChannel允许我们在不同的浏览上下文，比如window.open()打开的窗口或者iframe等之间建立通信管道，并通过两端的端口（port1和port2）发送消息。MessageChannel以DOM Event的形式发送消息，所以它属于异步的宏任务。
const channel = new MessageChannel();
const port = channel.port2;
channel.port1.onmessage = function () {
  handleWorkMessage();
};

function requestHostCallback() {
  port.postMessage(null);
}

function handleWorkMessage() {
  // 每次取出堆顶最小的
  let currentTask = peek(taskQueue);
  while (currentTask) {
    // 暂不考虑执行进度以及中断执行
    const callback = currentTask.callback;
    currentTask.callback = null;
    callback();
    // 删除任务
    pop(taskQueue);
    // 拿当前等待时间最小的任务
    currentTask = peek(taskQueue);
  }
}

function getCurrentTime() {
  // Date.now()：返回的时间戳没有被限制在一毫秒的精确度内，小于 1ms 的测试不出来结果。
  // performance.now()：返回的时间戳以双精度浮点数 double 的形式表示时间，精度最高可达微秒级。不受系统影响。Date.now() 约等于 performance.timing.navigationStart + performance.now()
  return performance.now();
}
4b:["$","div","pre-20,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"$934"}],"position":{"start":{"line":561,"column":1,"offset":10678},"end":{"line":622,"column":4,"offset":12201}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// scheduler.js"]}],["$","span","code-segment-2",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-4",{"style":{},"children":[""]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 牵扯到最小堆的算法，可以参考知识库中基础部分算法"]}],["$","span","code-segment-6",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],"$L935","$L936","$L937","$L938","$L939","$L93a","$L93b","$L93c","$L93d","$L93e","$L93f","$L940","$L941","$L942","$L943","$L944","$L945","\n","$L946","$L947","$L948","$L949","$L94a","$L94b","$L94c","$L94d","$L94e","$L94f","$L950","$L951","$L952","$L953","$L954","$L955","$L956","$L957","$L958","$L959","$L95a","$L95b","$L95c","$L95d","$L95e","$L95f","$L960","$L961","\n","$L962","$L963","$L964","$L965","$L966","$L967","$L968","$L969","$L96a","$L96b","$L96c","$L96d","$L96e","$L96f","$L970","$L971","$L972","$L973","$L974","$L975","$L976","$L977","$L978","$L979","$L97a","$L97b","$L97c","$L97d","$L97e","\n","$L97f","$L980","$L981","$L982","$L983","$L984","$L985","$L986","$L987","$L988","$L989","$L98a","$L98b","$L98c","$L98d","$L98e","$L98f","$L990","$L991","$L992","$L993","$L994","$L995","\n","$L996","$L997","$L998","$L999","$L99a","$L99b","$L99c","$L99d","$L99e","$L99f","$L9a0","$L9a1","$L9a2","$L9a3","$L9a4","$L9a5","$L9a6","$L9a7","$L9a8","$L9a9","$L9aa","$L9ab","$L9ac","$L9ad","$L9ae","$L9af","$L9b0","$L9b1","$L9b2","$L9b3","$L9b4","$L9b5","$L9b6","$L9b7","$L9b8","$L9b9","$L9ba","$L9bb","$L9bc","$L9bd","$L9be","$L9bf","$L9c0","$L9c1","$L9c2","$L9c3","$L9c4","$L9c5","$L9c6","$L9c7","$L9c8","$L9c9","$L9ca","$L9cb","$L9cc","$L9cd","$L9ce","\n","$L9cf","$L9d0","$L9d1","$L9d2","$L9d3","$L9d4","$L9d5","$L9d6","$L9d7","$L9d8","$L9d9","$L9da","$L9db","$L9dc","$L9dd","$L9de","\n","$L9df","$L9e0","$L9e1","$L9e2","$L9e3","$L9e4","$L9e5","$L9e6","$L9e7","$L9e8","$L9e9","$L9ea","$L9eb","$L9ec","$L9ed","$L9ee","$L9ef","$L9f0","$L9f1","$L9f2","$L9f3","$L9f4","$L9f5","$L9f6","$L9f7","$L9f8","$L9f9","$L9fa","$L9fb","$L9fc","$L9fd","$L9fe","$L9ff","$La00","$La01","$La02","$La03","$La04","$La05","$La06","$La07","$La08","$La09","$La0a","$La0b","$La0c","$La0d","$La0e","$La0f","$La10","$La11","$La12","$La13","$La14","$La15","$La16","\n","$La17","$La18","$La19","$La1a","$La1b","$La1c","$La1d","$La1e","$La1f","$La20","$La21","$La22","$La23","$La24","$La25","$La26","$La27","$La28","$La29","$La2a","$La2b","$La2c","$La2d","$La2e","\n","$La2f","$La30","$La31","$La32","$La33","$La34","$La35","$La36","$La37","$La38","$La39","$La3a","$La3b","$La3c","$La3d","$La3e","$La3f","$La40","$La41","$La42","$La43","$La44","$La45","$La46","$La47","$La48","$La49","$La4a","$La4b","$La4c","$La4d","$La4e","$La4f","$La50","$La51","$La52","$La53","$La54","$La55","$La56","$La57","$La58","$La59","$La5a","$La5b","$La5c","$La5d","$La5e","$La5f","$La60","$La61","$La62","$La63","$La64","$La65","$La66","$La67","$La68","$La69","$La6a","$La6b","$La6c","$La6d","$La6e","$La6f","$La70","$La71","$La72","$La73","$La74","$La75","$La76","$La77","$La78","$La79","$La7a","$La7b","$La7c","$La7d","$La7e","$La7f","$La80","$La81","$La82","$La83","$La84","$La85","$La86","$La87","$La88","$La89","$La8a","$La8b","$La8c","$La8d","$La8e","$La8f","$La90","$La91","$La92","$La93","$La94","\n","$La95","$La96","$La97","$La98","$La99","$La9a","$La9b","$La9c","$La9d","$La9e","$La9f","$Laa0","$Laa1","$Laa2","$Laa3","$Laa4","$Laa5","$Laa6","$Laa7","$Laa8","$Laa9","$Laaa","$Laab","$Laac","$Laad","$Laae","$Laaf","$Lab0","$Lab1","$Lab2","$Lab3","$Lab4"]]}]}]}]
4c:["$","p","p-36",{"className":"mb-4 text-lg leading-relaxed","children":"（调度器实现结束）"}]
4d:["$","hr","hr-1",{}]
4e:["$","p","p-37",{"className":"mb-4 text-lg leading-relaxed","children":"此时调度器外边的 loop 函数就可以精简了："}]
4f:["$","div","pre-21,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"function workLoop() {\n  while (wip) {\n    performUnitOfWork();\n  }\n\n  // 确保调度器在运行\n  // requestIdleCallback(workLoop);\n\n  if (!wip && wipRoot) {\n    commitRoot();\n  }\n}\n"}],"position":{"start":{"line":630,"column":1,"offset":12244},"end":{"line":643,"column":4,"offset":12421}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}],["$","span","code-segment-2",{"style":{},"children":[" "]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["workLoop"]}],["$","span","code-segment-4",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-6",{"style":{},"children":[" "]}],["$","span","code-segment-7",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-8",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-10",{"style":{},"children":["  "]}],["$","span","code-segment-11",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["while"]}],["$","span","code-segment-12",{"style":{},"children":[" "]}],["$","span","code-segment-13",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-14",{"style":{},"children":["wip"]}],["$","span","code-segment-15",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-16",{"style":{},"children":[" "]}],["$","span","code-segment-17",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-18",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-20",{"style":{},"children":["    "]}],["$","span","code-segment-21",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["performUnitOfWork"]}],["$","span","code-segment-22",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-23",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-24",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],["$","span","code-segment-25",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],["$","span","code-segment-27",{"style":{},"children":["  "]}],"$Lab5","$Lab6","$Lab7","\n","$Lab8","$Lab9","$Laba","$Labb","$Labc","$Labd","$Labe","$Labf","$Lac0","\n","$Lac1","$Lac2","$Lac3","$Lac4","$Lac5","$Lac6","$Lac7","$Lac8","$Lac9","$Laca","$Lacb","$Lacc","$Lacd","$Lace","$Lacf","$Lad0","$Lad1","$Lad2","$Lad3","$Lad4","$Lad5","$Lad6","$Lad7","$Lad8","$Lad9","$Lada","$Ladb"]]}]}]}]
50:["$","h3","h3-7",{"className":"text-xl font-bold mt-4 mb-2","children":"〇 改进的流程图"}]
51:["$","p","p-38",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/react/fiber-3.png","alt":"图片","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/react/fiber-3.png","alt":"图片"},"children":[],"position":{"start":{"line":647,"column":1,"offset":12437},"end":{"line":647,"column":36,"offset":12472}}}}]}]
52:["$","h2","h2-3",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"4. Hooks"}]
53:["$","p","p-39",{"className":"mb-4 text-lg leading-relaxed","children":"写在前边：Hooks 严格来说也是 fiber 的一部分，也牵扯到 diff 和调度，单独拿出来是因为他确实是一个独立的概念，同时也避免上一个章节太过臃肿。"}]
54:["$","p","p-40",{"className":"mb-4 text-lg leading-relaxed","children":[["$","code","code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Hooks","position":{"start":{"line":653,"column":1,"offset":12567},"end":{"line":653,"column":8,"offset":12574}}}],"position":{"start":{"line":653,"column":1,"offset":12567},"end":{"line":653,"column":8,"offset":12574}}},"children":"Hooks"}]," 本质就是处理函数式组件的状态的集合。状态，是 react vdom 中自定义的一个属性，我们在 fiber 化之后也应该有，这里加上："]}]
55:["$","div","pre-22,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"export function createFiber(vnode, returnFiber) {\n  const fiber = {\n    ...\n    memorizedState: null\n  }\n}\n"}],"position":{"start":{"line":655,"column":1,"offset":12644},"end":{"line":662,"column":4,"offset":12760}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}],["$","span","code-segment-2",{"style":{},"children":[" "]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}],["$","span","code-segment-4",{"style":{},"children":[" "]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["createFiber"]}],["$","span","code-segment-6",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-7",{"className":"token parameter","style":{},"children":["vnode"]}],["$","span","code-segment-8",{"className":"token parameter","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}],["$","span","code-segment-9",{"className":"token parameter","style":{},"children":[" returnFiber"]}],["$","span","code-segment-10",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-11",{"style":{},"children":[" "]}],["$","span","code-segment-12",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-13",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-15",{"style":{},"children":["  "]}],["$","span","code-segment-16",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}],["$","span","code-segment-17",{"style":{},"children":[" fiber "]}],["$","span","code-segment-18",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}],["$","span","code-segment-19",{"style":{},"children":[" "]}],["$","span","code-segment-20",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-21",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-23",{"style":{},"children":["    "]}],["$","span","code-segment-24",{"className":"token spread","style":{"color":"hsl(221, 87%, 60%)"},"children":["..."]}],["$","span","code-segment-25",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],["$","span","code-segment-27",{"style":{},"children":["    "]}],["$","span","code-segment-28",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["memorizedState"]}],"$Ladc","$Ladd","$Lade","$Ladf","$Lae0","$Lae1","$Lae2","$Lae3","$Lae4","$Lae5","$Lae6"]]}]}]}]
56:["$","p","p-41",{"className":"mb-4 text-lg leading-relaxed","children":"memorizedState 属性对于类式组件存放的是 state 对象，对于函数式组件比较麻烦，因为 hooks 是一个一个的，所以这里又用了链式存储，memorizedState 存放第一个 hooks 指针即可。"}]
57:["$","p","p-42",{"className":"mb-4 text-lg leading-relaxed","children":"因为 hooks 是函数式组件特有的，所以只会在渲染函数式组件时使用："}]
58:["$","div","pre-23,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"export function updateFunctionComponent(wip) {\n  // 这里调用\n  renderWithHooks(wip);\n\n  const { type, props } = wip;\n  const children = type(props);\n  reconcileChildren(wip, children);\n}\n"}],"position":{"start":{"line":668,"column":1,"offset":12910},"end":{"line":677,"column":4,"offset":13102}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}],["$","span","code-segment-2",{"style":{},"children":[" "]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}],["$","span","code-segment-4",{"style":{},"children":[" "]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["updateFunctionComponent"]}],["$","span","code-segment-6",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-7",{"className":"token parameter","style":{},"children":["wip"]}],["$","span","code-segment-8",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-9",{"style":{},"children":[" "]}],["$","span","code-segment-10",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-11",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-13",{"style":{},"children":["  "]}],["$","span","code-segment-14",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 这里调用"]}],["$","span","code-segment-15",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-17",{"style":{},"children":["  "]}],["$","span","code-segment-18",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["renderWithHooks"]}],["$","span","code-segment-19",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-20",{"style":{},"children":["wip"]}],["$","span","code-segment-21",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-22",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],["$","span","code-segment-23",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],"\n",["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}],"$Lae7","$Lae8","$Lae9","$Laea","$Laeb","$Laec","$Laed","$Laee","$Laef","$Laf0","$Laf1","$Laf2","$Laf3","$Laf4","$Laf5","$Laf6","$Laf7","$Laf8","$Laf9","$Lafa","$Lafb","$Lafc","$Lafd","$Lafe","$Laff","$Lb00","$Lb01","$Lb02","$Lb03","$Lb04","$Lb05","$Lb06","$Lb07","$Lb08","$Lb09","$Lb0a","$Lb0b","$Lb0c"]]}]}]}]
59:["$","p","p-43",{"className":"mb-4 text-lg leading-relaxed","children":"我们新建一个 hooks.js 文件来同意处理 hook。"}]
5a:["$","p","p-44",{"className":"mb-4 text-lg leading-relaxed","children":"先处理 hooks 中的全局属性："}]
5b:["$","div","pre-24,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"let currentlyRenderingFiber = null;\n// 老hook, 在useEffect中使用\nlet currentHook = null;\n// 当前工作中的hook，同wip一样，hooks也是一个链表，需要一个当前的指针位置标识\nlet workInProgressHook = null;\n\nexport function renderWithHooks(wip) {\n  currentlyRenderingFiber = wip;\n  currentlyRenderingFiber.memorizedState = null;\n  workInProgressHook = null;\n}\n"}],"position":{"start":{"line":683,"column":1,"offset":13154},"end":{"line":695,"column":4,"offset":13478}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["let"]}],["$","span","code-segment-2",{"style":{},"children":[" currentlyRenderingFiber "]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}],["$","span","code-segment-4",{"style":{},"children":[" "]}],["$","span","code-segment-5",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}],["$","span","code-segment-6",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],["$","span","code-segment-7",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-9",{"style":{},"children":[""]}],["$","span","code-segment-10",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 老hook, 在useEffect中使用"]}],["$","span","code-segment-11",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-13",{"style":{},"children":[""]}],["$","span","code-segment-14",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["let"]}],["$","span","code-segment-15",{"style":{},"children":[" currentHook "]}],["$","span","code-segment-16",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}],["$","span","code-segment-17",{"style":{},"children":[" "]}],["$","span","code-segment-18",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}],["$","span","code-segment-19",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],["$","span","code-segment-20",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],["$","span","code-segment-22",{"style":{},"children":[""]}],["$","span","code-segment-23",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 当前工作中的hook，同wip一样，hooks也是一个链表，需要一个当前的指针位置标识"]}],["$","span","code-segment-24",{"style":{},"children":["\n"]}],"$Lb0d","$Lb0e","$Lb0f","$Lb10","$Lb11","$Lb12","$Lb13","$Lb14","$Lb15","$Lb16","\n","$Lb17","$Lb18","$Lb19","$Lb1a","$Lb1b","$Lb1c","$Lb1d","$Lb1e","$Lb1f","$Lb20","$Lb21","$Lb22","$Lb23","$Lb24","$Lb25","$Lb26","$Lb27","$Lb28","$Lb29","$Lb2a","$Lb2b","$Lb2c","$Lb2d","$Lb2e","$Lb2f","$Lb30","$Lb31","$Lb32","$Lb33","$Lb34","$Lb35","$Lb36","$Lb37","$Lb38","$Lb39","$Lb3a","$Lb3b","$Lb3c","$Lb3d"]]}]}]}]
5c:["$","p","p-45",{"className":"mb-4 text-lg leading-relaxed","children":"这里类比前面的 fiber 应该好理解，讲当前 wip 传入变量 currentlyRenderingFiber，并初始化。"}]
5d:["$","p","p-46",{"className":"mb-4 text-lg leading-relaxed","children":"接着写一个通用的方法来构造函数式组件中 hooks 的链表关系："}]
5e:["$","div","pre-25,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"function updateWorkInProgressHook() {\n  let hook;\n\n  // 拿到当前 fiber 在 diff 中的 old fiber\n  const current = currentlyRenderingFiber.alternate;\n\n  if (current) {\n    // 2.更新\n    currentlyRenderingFiber.memorizedState = current.memorizedState;\n\n    if (workInProgressHook) {\n      // 当前 hook 指针的位置\n      workInProgressHook = hook = workInProgressHook.next;\n      currentHook = currentHook.next;\n    } else {\n      // 没有指针，就从 hook0 开始\n      workInProgressHook = hook = currentlyRenderingFiber.memorizedState;\n      currentHook = current.memorizedState;\n    }\n  } else {\n    // currentHook 只有在 fiber 变更时才起作用，不然一直是 null\n    currentHook = null;\n\n    // 1.初次渲染\n    hook = {\n      memorizedState: null, // state\n      next: null, // 下一个hook\n    };\n\n    if (workInProgressHook) {\n      // 如果已经有hook，就找链表下一个，移动指针\n      workInProgressHook = workInProgressHook.next = hook;\n    } else {\n      // 不然就初始化memorizedState\n      workInProgressHook = currentlyRenderingFiber.memorizedState = hook;\n    }\n  }\n\n  return hook;\n}\n"}],"position":{"start":{"line":701,"column":1,"offset":13578},"end":{"line":742,"column":4,"offset":14591}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}],["$","span","code-segment-2",{"style":{},"children":[" "]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["updateWorkInProgressHook"]}],["$","span","code-segment-4",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-6",{"style":{},"children":[" "]}],["$","span","code-segment-7",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-8",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-10",{"style":{},"children":["  "]}],["$","span","code-segment-11",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["let"]}],["$","span","code-segment-12",{"style":{},"children":[" hook"]}],["$","span","code-segment-13",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],["$","span","code-segment-14",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],"\n",["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],"$Lb3e","$Lb3f","$Lb40","$Lb41","$Lb42","$Lb43","$Lb44","$Lb45","$Lb46","$Lb47","$Lb48","$Lb49","$Lb4a","$Lb4b","\n","$Lb4c","$Lb4d","$Lb4e","$Lb4f","$Lb50","$Lb51","$Lb52","$Lb53","$Lb54","$Lb55","$Lb56","$Lb57","$Lb58","$Lb59","$Lb5a","$Lb5b","$Lb5c","$Lb5d","$Lb5e","$Lb5f","$Lb60","$Lb61","$Lb62","$Lb63","$Lb64","$Lb65","\n","$Lb66","$Lb67","$Lb68","$Lb69","$Lb6a","$Lb6b","$Lb6c","$Lb6d","$Lb6e","$Lb6f","$Lb70","$Lb71","$Lb72","$Lb73","$Lb74","$Lb75","$Lb76","$Lb77","$Lb78","$Lb79","$Lb7a","$Lb7b","$Lb7c","$Lb7d","$Lb7e","$Lb7f","$Lb80","$Lb81","$Lb82","$Lb83","$Lb84","$Lb85","$Lb86","$Lb87","$Lb88","$Lb89","$Lb8a","$Lb8b","$Lb8c","$Lb8d","$Lb8e","$Lb8f","$Lb90","$Lb91","$Lb92","$Lb93","$Lb94","$Lb95","$Lb96","$Lb97","$Lb98","$Lb99","$Lb9a","$Lb9b","$Lb9c","$Lb9d","$Lb9e","$Lb9f","$Lba0","$Lba1","$Lba2","$Lba3","$Lba4","$Lba5","$Lba6","$Lba7","$Lba8","$Lba9","$Lbaa","$Lbab","$Lbac","$Lbad","$Lbae","$Lbaf","$Lbb0","$Lbb1","$Lbb2","$Lbb3","$Lbb4","$Lbb5","$Lbb6","$Lbb7","$Lbb8","$Lbb9","$Lbba","$Lbbb","\n","$Lbbc","$Lbbd","$Lbbe","$Lbbf","$Lbc0","$Lbc1","$Lbc2","$Lbc3","$Lbc4","$Lbc5","$Lbc6","$Lbc7","$Lbc8","$Lbc9","$Lbca","$Lbcb","$Lbcc","$Lbcd","$Lbce","$Lbcf","$Lbd0","$Lbd1","$Lbd2","$Lbd3","$Lbd4","$Lbd5","$Lbd6","$Lbd7","$Lbd8","$Lbd9","$Lbda","$Lbdb","$Lbdc","$Lbdd","$Lbde","$Lbdf","\n","$Lbe0","$Lbe1","$Lbe2","$Lbe3","$Lbe4","$Lbe5","$Lbe6","$Lbe7","$Lbe8","$Lbe9","$Lbea","$Lbeb","$Lbec","$Lbed","$Lbee","$Lbef","$Lbf0","$Lbf1","$Lbf2","$Lbf3","$Lbf4","$Lbf5","$Lbf6","$Lbf7","$Lbf8","$Lbf9","$Lbfa","$Lbfb","$Lbfc","$Lbfd","$Lbfe","$Lbff","$Lc00","$Lc01","$Lc02","$Lc03","$Lc04","$Lc05","$Lc06","$Lc07","$Lc08","$Lc09","$Lc0a","$Lc0b","$Lc0c","$Lc0d","$Lc0e","$Lc0f","$Lc10","$Lc11","$Lc12","$Lc13","$Lc14","$Lc15","$Lc16","$Lc17","$Lc18","\n","$Lc19","$Lc1a","$Lc1b","$Lc1c","$Lc1d","$Lc1e","$Lc1f","$Lc20","$Lc21"]]}]}]}]
5f:["$","p","p-47",{"className":"mb-4 text-lg leading-relaxed","children":"到这里，一个简单的 Hooks 就初始化完成啦。接下来看看具体的 hooks 怎么用吧。"}]
60:["$","h3","h3-8",{"className":"text-xl font-bold mt-4 mb-2","children":"① useReducer"}]
61:["$","p","p-48",{"className":"mb-4 text-lg leading-relaxed","children":"useReducer 是 useState 的替代品，使用的方式如下："}]
62:["$","div","pre-26,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"// 声明\nconst initialState = 1;\nconst reducer = (state: number, action: any | { type: string, value: any }) => {\n  return state + 1;\n};\n\nconst [count, dispatch] = useReducer(reducer, initialState);\n\n// 调用\ndispatch('add');\n"}],"position":{"start":{"line":750,"column":1,"offset":14694},"end":{"line":761,"column":4,"offset":14923}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 声明"]}],["$","span","code-segment-2",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-4",{"style":{},"children":[""]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}],["$","span","code-segment-6",{"style":{},"children":[" initialState "]}],["$","span","code-segment-7",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}],["$","span","code-segment-8",{"style":{},"children":[" "]}],["$","span","code-segment-9",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["1"]}],["$","span","code-segment-10",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],["$","span","code-segment-11",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-13",{"style":{},"children":[""]}],["$","span","code-segment-14",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}],["$","span","code-segment-15",{"style":{},"children":[" "]}],["$","span","code-segment-16",{"className":"token function-variable","style":{"color":"hsl(221, 87%, 60%)"},"children":["reducer"]}],["$","span","code-segment-17",{"style":{},"children":[" "]}],["$","span","code-segment-18",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}],["$","span","code-segment-19",{"style":{},"children":[" "]}],["$","span","code-segment-20",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-21",{"className":"token parameter literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["state"]}],["$","span","code-segment-22",{"className":"token parameter","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}],["$","span","code-segment-23",{"className":"token parameter","style":{},"children":[" number"]}],["$","span","code-segment-24",{"className":"token parameter","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}],["$","span","code-segment-25",{"className":"token parameter","style":{},"children":[" "]}],["$","span","code-segment-26",{"className":"token parameter literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["action"]}],"$Lc22","$Lc23","$Lc24","$Lc25","$Lc26","$Lc27","$Lc28","$Lc29","$Lc2a","$Lc2b","$Lc2c","$Lc2d","$Lc2e","$Lc2f","$Lc30","$Lc31","$Lc32","$Lc33","$Lc34","$Lc35","$Lc36","$Lc37","$Lc38","$Lc39","$Lc3a","$Lc3b","$Lc3c","$Lc3d","$Lc3e","$Lc3f","$Lc40","$Lc41","$Lc42","$Lc43","$Lc44","$Lc45","\n","$Lc46","$Lc47","$Lc48","$Lc49","$Lc4a","$Lc4b","$Lc4c","$Lc4d","$Lc4e","$Lc4f","$Lc50","$Lc51","$Lc52","$Lc53","$Lc54","$Lc55","$Lc56","$Lc57","$Lc58","$Lc59","$Lc5a","\n","$Lc5b","$Lc5c","$Lc5d","$Lc5e","$Lc5f","$Lc60","$Lc61","$Lc62","$Lc63","$Lc64","$Lc65"]]}]}]}]
63:["$","p","p-49",{"className":"mb-4 text-lg leading-relaxed","children":["分析一下，useReducer 也是一个函数，接受一个处理函数 reducer 和一个初始值；同事返回一个当前的最新值和触发 reducer 的函数 dispatch，这个 dispatch 可以接受一个 action 参数，action 可以是一个字符串也可以是 一个对象：",["$","code","code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"{ type, value }","position":{"start":{"line":763,"column":139,"offset":15063},"end":{"line":763,"column":156,"offset":15080}}}],"position":{"start":{"line":763,"column":139,"offset":15063},"end":{"line":763,"column":156,"offset":15080}}},"children":"{ type, value }"}],"。"]}]
64:["$","p","p-50",{"className":"mb-4 text-lg leading-relaxed","children":"我们定义这个函数："}]
65:["$","div","pre-27,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"export function useReducer(reducer, initalState) {\n  // 拿到当前的 workInProgressHook\n  const hook = updateWorkInProgressHook();\n  // 给初始值\n  if (!currentlyRenderingFiber.alternate) {\n    // 如果没有经过 diff 标记赋值 alternate，说明还没有初始化过 state。没有对比就不会存在 state 改变\n    hook.memorizedState = initalState;\n  }\n\n  ...\n}\n"}],"position":{"start":{"line":767,"column":1,"offset":15094},"end":{"line":779,"column":4,"offset":15402}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}],["$","span","code-segment-2",{"style":{},"children":[" "]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}],["$","span","code-segment-4",{"style":{},"children":[" "]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["useReducer"]}],["$","span","code-segment-6",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-7",{"className":"token parameter","style":{},"children":["reducer"]}],["$","span","code-segment-8",{"className":"token parameter","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}],["$","span","code-segment-9",{"className":"token parameter","style":{},"children":[" initalState"]}],["$","span","code-segment-10",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-11",{"style":{},"children":[" "]}],["$","span","code-segment-12",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-13",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-15",{"style":{},"children":["  "]}],["$","span","code-segment-16",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 拿到当前的 workInProgressHook"]}],["$","span","code-segment-17",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-19",{"style":{},"children":["  "]}],["$","span","code-segment-20",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}],["$","span","code-segment-21",{"style":{},"children":[" hook "]}],["$","span","code-segment-22",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}],["$","span","code-segment-23",{"style":{},"children":[" "]}],["$","span","code-segment-24",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["updateWorkInProgressHook"]}],["$","span","code-segment-25",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-26",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],"$Lc66","$Lc67","$Lc68","$Lc69","$Lc6a","$Lc6b","$Lc6c","$Lc6d","$Lc6e","$Lc6f","$Lc70","$Lc71","$Lc72","$Lc73","$Lc74","$Lc75","$Lc76","$Lc77","$Lc78","$Lc79","$Lc7a","$Lc7b","$Lc7c","$Lc7d","$Lc7e","$Lc7f","$Lc80","$Lc81","$Lc82","$Lc83","$Lc84","$Lc85","$Lc86","$Lc87","$Lc88","$Lc89","$Lc8a","\n","$Lc8b","$Lc8c","$Lc8d","$Lc8e","$Lc8f","$Lc90","$Lc91"]]}]}]}]
66:["$","p","p-51",{"className":"mb-4 text-lg leading-relaxed","children":"接下来就是实现 将 reducer 转变为 dispatch 了。"}]
67:["$","p","p-52",{"className":"mb-4 text-lg leading-relaxed","children":"我们声明一个转换函数："}]
68:["$","div","pre-28,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"function dispatchReducerAction(fiber, hook, reducer, action) {\n  // hook.memorizedState = reducer ? reducer(hook.memorizedState) : action;\n  if (reducer) {\n    hook.memorizedState = reducer(hook.memorizedState, action);\n  } else {\n    // useState: setState(1);\n    hook.memorizedState = action;\n  }\n\n  // 更新 alternate， fiber已经改变\n  fiber.alternate = { ...fiber };\n  // 兄弟节点置空，意思是只更新当前函数节点即可。这里不用担心链表断掉，reconcileChildren 中会重新构造链表关系。hook 更新只是据局部更新\n  fiber.sibling = null;\n  scheduleUpdateOnFiber(fiber);\n}\n"}],"position":{"start":{"line":785,"column":1,"offset":15452},"end":{"line":801,"column":4,"offset":15964}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}],["$","span","code-segment-2",{"style":{},"children":[" "]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["dispatchReducerAction"]}],["$","span","code-segment-4",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-5",{"className":"token parameter","style":{},"children":["fiber"]}],["$","span","code-segment-6",{"className":"token parameter","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}],["$","span","code-segment-7",{"className":"token parameter","style":{},"children":[" hook"]}],["$","span","code-segment-8",{"className":"token parameter","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}],["$","span","code-segment-9",{"className":"token parameter","style":{},"children":[" reducer"]}],["$","span","code-segment-10",{"className":"token parameter","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}],["$","span","code-segment-11",{"className":"token parameter","style":{},"children":[" action"]}],["$","span","code-segment-12",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-13",{"style":{},"children":[" "]}],["$","span","code-segment-14",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-15",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-17",{"style":{},"children":["  "]}],["$","span","code-segment-18",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// hook.memorizedState = reducer ? reducer(hook.memorizedState) : action;"]}],["$","span","code-segment-19",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-21",{"style":{},"children":["  "]}],"$Lc92","$Lc93","$Lc94","$Lc95","$Lc96","$Lc97","$Lc98","$Lc99","$Lc9a","$Lc9b","$Lc9c","$Lc9d","$Lc9e","$Lc9f","$Lca0","$Lca1","$Lca2","$Lca3","$Lca4","$Lca5","$Lca6","$Lca7","$Lca8","$Lca9","$Lcaa","$Lcab","$Lcac","$Lcad","$Lcae","$Lcaf","$Lcb0","$Lcb1","$Lcb2","$Lcb3","$Lcb4","$Lcb5","$Lcb6","$Lcb7","$Lcb8","$Lcb9","$Lcba","$Lcbb","$Lcbc","$Lcbd","$Lcbe","$Lcbf","$Lcc0","$Lcc1","$Lcc2","$Lcc3","$Lcc4","\n","$Lcc5","$Lcc6","$Lcc7","$Lcc8","$Lcc9","$Lcca","$Lccb","$Lccc","$Lccd","$Lcce","$Lccf","$Lcd0","$Lcd1","$Lcd2","$Lcd3","$Lcd4","$Lcd5","$Lcd6","$Lcd7","$Lcd8","$Lcd9","$Lcda","$Lcdb","$Lcdc","$Lcdd","$Lcde","$Lcdf","$Lce0","$Lce1","$Lce2","$Lce3","$Lce4","$Lce5","$Lce6","$Lce7","$Lce8","$Lce9","$Lcea","$Lceb","$Lcec","$Lced","$Lcee","$Lcef"]]}]}]}]
69:["$","p","p-53",{"className":"mb-4 text-lg leading-relaxed","children":"由于 参数 fiber, hook, reducer 是我们内部处理的，只有 action 是外部传的，所以，我们在 useReducer 这里 bind 一下："}]
6a:["$","div","pre-29,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"// useReducer 函数\n...\n\n// bind 到 null 上，是为了让 currentlyRenderingFiber 更新，直接调用 dispatchReducerAction，其指针指向没有变化，有多个函数式组件时，会产生渲染错乱。\n// currentlyRenderingFiber 作为一个形参存进来，形成了一个闭包。如果有多个函数式组件都有hooks的话，他们的currentlyRenderingFiber是各自的fiber，不会造成指针混乱。\nconst dispatch = dispatchReducerAction.bind(\n  null,\n  currentlyRenderingFiber,\n  hook,\n  reducer\n);\n\nreturn [hook.memorizedState, dispatch];\n"}],"position":{"start":{"line":805,"column":1,"offset":16049},"end":{"line":819,"column":4,"offset":16438}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// useReducer 函数"]}],["$","span","code-segment-2",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-4",{"style":{},"children":[""]}],["$","span","code-segment-5",{"className":"token spread","style":{"color":"hsl(221, 87%, 60%)"},"children":["..."]}],["$","span","code-segment-6",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],"\n",["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],["$","span","code-segment-10",{"style":{},"children":[""]}],["$","span","code-segment-11",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// bind 到 null 上，是为了让 currentlyRenderingFiber 更新，直接调用 dispatchReducerAction，其指针指向没有变化，有多个函数式组件时，会产生渲染错乱。"]}],["$","span","code-segment-12",{"style":{},"children":["\n"]}],["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}],["$","span","code-segment-14",{"style":{},"children":[""]}],["$","span","code-segment-15",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// currentlyRenderingFiber 作为一个形参存进来，形成了一个闭包。如果有多个函数式组件都有hooks的话，他们的currentlyRenderingFiber是各自的fiber，不会造成指针混乱。"]}],["$","span","code-segment-16",{"style":{},"children":["\n"]}],["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}],"$Lcf0","$Lcf1","$Lcf2","$Lcf3","$Lcf4","$Lcf5","$Lcf6","$Lcf7","$Lcf8","$Lcf9","$Lcfa","$Lcfb","$Lcfc","$Lcfd","$Lcfe","$Lcff","$Ld00","$Ld01","$Ld02","$Ld03","$Ld04","$Ld05","$Ld06","  reducer\n","$Ld07","$Ld08","$Ld09","$Ld0a","$Ld0b","$Ld0c","\n","$Ld0d","$Ld0e","$Ld0f","$Ld10","$Ld11","$Ld12","$Ld13","$Ld14","$Ld15","$Ld16","$Ld17","$Ld18"]]}]}]}]
6b:["$","h3","h3-9",{"className":"text-xl font-bold mt-4 mb-2","children":"② useState"}]
6c:["$","p","p-54",{"className":"mb-4 text-lg leading-relaxed","children":"useState 是 useReducer 的一个特殊形态，没有 reducer，每次只返回 action 里的值。"}]
6d:["$","div","pre-30,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"// reducer 为 null\nexport function useState(initialState) {\n  return useReducer(null, initialState);\n}\n"}],"position":{"start":{"line":825,"column":1,"offset":16516},"end":{"line":830,"column":4,"offset":16627}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// reducer 为 null"]}],["$","span","code-segment-2",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-4",{"style":{},"children":[""]}],["$","span","code-segment-5",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}],["$","span","code-segment-6",{"style":{},"children":[" "]}],["$","span","code-segment-7",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}],["$","span","code-segment-8",{"style":{},"children":[" "]}],["$","span","code-segment-9",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["useState"]}],["$","span","code-segment-10",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-11",{"className":"token parameter","style":{},"children":["initialState"]}],["$","span","code-segment-12",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-13",{"style":{},"children":[" "]}],["$","span","code-segment-14",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-15",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-17",{"style":{},"children":["  "]}],["$","span","code-segment-18",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}],["$","span","code-segment-19",{"style":{},"children":[" "]}],["$","span","code-segment-20",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["useReducer"]}],["$","span","code-segment-21",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-22",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}],["$","span","code-segment-23",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}],["$","span","code-segment-24",{"style":{},"children":[" initialState"]}],["$","span","code-segment-25",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-26",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],["$","span","code-segment-27",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],"$Ld19","$Ld1a"]]}]}]}]
6e:["$","h3","h3-10",{"className":"text-xl font-bold mt-4 mb-2","children":"③ useEffect / useLayoutEffect"}]
6f:["$","p","p-55",{"className":"mb-4 text-lg leading-relaxed","children":"useEffect 在页面渲染完成后进入调度队列执行，是异步的。useLayoutEffect 则是同步执行副作用操作，也就是说，它会在浏览器渲染之前运行。"}]
70:["$","p","p-56",{"className":"mb-4 text-lg leading-relaxed","children":"由于 useEffect 也可以有多个，所以，仍然是按照链表的方式存储的，这里为了便于大家理解，暂时用数组代替："}]
71:["$","div","pre-31,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"export function renderWithHooks(wip) {\n  // old\n  currentlyRenderingFiber = wip;\n  currentlyRenderingFiber.memorizedState = null;\n  workInProgressHook = null;\n\n  // 为了方便，useEffect与useLayoutEffect区分开，并且以数组管理\n  // 源码中是放一起的，并且是个链表\n  currentlyRenderingFiber.updateQueueOfEffect = [];\n  currentlyRenderingFiber.updateQueueOfLayout = [];\n}\n"}],"position":{"start":{"line":838,"column":1,"offset":16802},"end":{"line":850,"column":4,"offset":17145}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}],["$","span","code-segment-2",{"style":{},"children":[" "]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}],["$","span","code-segment-4",{"style":{},"children":[" "]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["renderWithHooks"]}],["$","span","code-segment-6",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-7",{"className":"token parameter","style":{},"children":["wip"]}],["$","span","code-segment-8",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-9",{"style":{},"children":[" "]}],["$","span","code-segment-10",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-11",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-13",{"style":{},"children":["  "]}],["$","span","code-segment-14",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// old"]}],["$","span","code-segment-15",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-17",{"style":{},"children":["  currentlyRenderingFiber "]}],["$","span","code-segment-18",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}],["$","span","code-segment-19",{"style":{},"children":[" wip"]}],["$","span","code-segment-20",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],["$","span","code-segment-21",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],["$","span","code-segment-23",{"style":{},"children":["  currentlyRenderingFiber"]}],["$","span","code-segment-24",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}],"$Ld1b","$Ld1c","$Ld1d","$Ld1e","$Ld1f","$Ld20","$Ld21","$Ld22","$Ld23","$Ld24","$Ld25","$Ld26","$Ld27","$Ld28","$Ld29","\n","$Ld2a","$Ld2b","$Ld2c","$Ld2d","$Ld2e","$Ld2f","$Ld30","$Ld31","$Ld32","$Ld33","$Ld34","$Ld35","$Ld36","$Ld37","$Ld38","$Ld39","$Ld3a","$Ld3b","$Ld3c","$Ld3d","$Ld3e","$Ld3f","$Ld40","$Ld41","$Ld42","$Ld43","$Ld44","$Ld45","$Ld46","$Ld47","$Ld48","$Ld49","$Ld4a"]]}]}]}]
72:["$","p","p-57",{"className":"mb-4 text-lg leading-relaxed","children":"由于 useEffect 和 useLayoutEffect 都是在组件加载的某个时机执行一段方法。我们把公共的实现提取出来："}]
d4b:T4ef,function updateEffectImp(hooksFlags, create, deps) {
  const hook = updateWorkInProgressHook();

  // 初始化时没有 currentHook，必然会走到下边执行函数，组件状态变更时，会赋值 currentHook，用于拦截是否要更新
  if (currentHook) {
    // 用于校验两次 依赖 是否有变化
    const prevEffect = currentHook.memorizedState;
    if (deps) {
      const prevDeps = prevEffect.deps;
      if (areHookInputsEqual(deps, prevDeps)) {
        return;
      }
    }
  }

  const effect = { hooksFlags, create, deps };

  hook.memorizedState = effect;

  // useEffect
  if (hooksFlags & HookPassive) {
    currentlyRenderingFiber.updateQueueOfEffect.push(effect);
    // useLayoutEffect
  } else if (hooksFlags & HookLayout) {
    currentlyRenderingFiber.updateQueueOfLayout.push(effect);
  }
}

// ! HookFlags
export const HookLayout = /*    */ 0b010;
export const HookPassive = /*   */ 0b100;

export function areHookInputsEqual(nextDeps, prevDeps) {
  if (prevDeps == null) {
    return false;
  }

  // 这里只是简单的按位置索引对比
  for (let i = 0; i < prevDeps.length && i < nextDeps.length; i++) {
    if (Object.is(nextDeps[i], prevDeps[i])) {
      continue;
    }
    return false;
  }

  return true;
}
73:["$","div","pre-32,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"$d4b"}],"position":{"start":{"line":854,"column":1,"offset":17212},"end":{"line":902,"column":4,"offset":18350}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}],["$","span","code-segment-2",{"style":{},"children":[" "]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["updateEffectImp"]}],["$","span","code-segment-4",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-5",{"className":"token parameter","style":{},"children":["hooksFlags"]}],["$","span","code-segment-6",{"className":"token parameter","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}],["$","span","code-segment-7",{"className":"token parameter","style":{},"children":[" create"]}],["$","span","code-segment-8",{"className":"token parameter","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}],["$","span","code-segment-9",{"className":"token parameter","style":{},"children":[" deps"]}],["$","span","code-segment-10",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-11",{"style":{},"children":[" "]}],["$","span","code-segment-12",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-13",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-15",{"style":{},"children":["  "]}],"$Ld4c","$Ld4d","$Ld4e","$Ld4f","$Ld50","$Ld51","$Ld52","$Ld53","$Ld54","$Ld55","\n","$Ld56","$Ld57","$Ld58","$Ld59","$Ld5a","$Ld5b","$Ld5c","$Ld5d","$Ld5e","$Ld5f","$Ld60","$Ld61","$Ld62","$Ld63","$Ld64","$Ld65","$Ld66","$Ld67","$Ld68","$Ld69","$Ld6a","$Ld6b","$Ld6c","$Ld6d","$Ld6e","$Ld6f","$Ld70","$Ld71","$Ld72","$Ld73","$Ld74","$Ld75","$Ld76","$Ld77","$Ld78","$Ld79","$Ld7a","$Ld7b","$Ld7c","$Ld7d","$Ld7e","$Ld7f","$Ld80","$Ld81","$Ld82","$Ld83","$Ld84","$Ld85","$Ld86","$Ld87","$Ld88","$Ld89","$Ld8a","$Ld8b","$Ld8c","$Ld8d","$Ld8e","$Ld8f","$Ld90","$Ld91","$Ld92","$Ld93","$Ld94","$Ld95","$Ld96","$Ld97","$Ld98","$Ld99","$Ld9a","$Ld9b","$Ld9c","$Ld9d","$Ld9e","$Ld9f","$Lda0","$Lda1","$Lda2","$Lda3","$Lda4","$Lda5","$Lda6","\n","$Lda7","$Lda8","$Lda9","$Ldaa","$Ldab","$Ldac","$Ldad","$Ldae","$Ldaf","$Ldb0","$Ldb1","$Ldb2","$Ldb3","$Ldb4","$Ldb5","$Ldb6","\n","$Ldb7","$Ldb8","$Ldb9","$Ldba","$Ldbb","$Ldbc","$Ldbd","$Ldbe","$Ldbf","$Ldc0","\n","$Ldc1","$Ldc2","$Ldc3","$Ldc4","$Ldc5","$Ldc6","$Ldc7","$Ldc8","$Ldc9","$Ldca","$Ldcb","$Ldcc","$Ldcd","$Ldce","$Ldcf","$Ldd0","$Ldd1","$Ldd2","$Ldd3","$Ldd4","$Ldd5","$Ldd6","$Ldd7","$Ldd8","$Ldd9","$Ldda","$Lddb","$Lddc","$Lddd","$Ldde","$Lddf","$Lde0","$Lde1","$Lde2","$Lde3","$Lde4","$Lde5","$Lde6","$Lde7","$Lde8","$Lde9","$Ldea","$Ldeb","$Ldec","$Lded","$Ldee","$Ldef","$Ldf0","$Ldf1","$Ldf2","$Ldf3","$Ldf4","$Ldf5","$Ldf6","$Ldf7","$Ldf8","$Ldf9","$Ldfa","$Ldfb","$Ldfc","$Ldfd","$Ldfe","$Ldff","$Le00","$Le01","$Le02","$Le03","$Le04","$Le05","\n","$Le06","$Le07","$Le08","$Le09","$Le0a","$Le0b","$Le0c","$Le0d","$Le0e","$Le0f","$Le10","$Le11","$Le12","$Le13","$Le14","$Le15","$Le16","$Le17","$Le18","$Le19","$Le1a","$Le1b","$Le1c","$Le1d","$Le1e","$Le1f","$Le20","$Le21","$Le22","$Le23","$Le24","$Le25","$Le26","$Le27","$Le28","\n","$Le29","$Le2a","$Le2b","$Le2c","$Le2d","$Le2e","$Le2f","$Le30","$Le31","$Le32","$Le33","$Le34","$Le35","$Le36","$Le37","$Le38","$Le39","$Le3a","$Le3b","$Le3c","$Le3d","$Le3e","$Le3f","$Le40","$Le41","$Le42","$Le43","$Le44","$Le45","$Le46","$Le47","$Le48","$Le49","$Le4a","$Le4b","$Le4c","$Le4d","$Le4e","$Le4f","$Le50","\n","$Le51","$Le52","$Le53","$Le54","$Le55","$Le56","$Le57","$Le58","$Le59","$Le5a","$Le5b","$Le5c","$Le5d","$Le5e","$Le5f","$Le60","$Le61","$Le62","$Le63","$Le64","$Le65","$Le66","$Le67","$Le68","$Le69","$Le6a","$Le6b","$Le6c","$Le6d","$Le6e","$Le6f","$Le70","$Le71","$Le72","$Le73","$Le74","$Le75","$Le76","$Le77","$Le78","$Le79","$Le7a","$Le7b","$Le7c","$Le7d","$Le7e","$Le7f","$Le80","$Le81","$Le82","$Le83","$Le84","$Le85","$Le86","$Le87","$Le88","$Le89","$Le8a","$Le8b","$Le8c","$Le8d","$Le8e","$Le8f","$Le90","$Le91","$Le92","$Le93","$Le94","$Le95","$Le96","$Le97","$Le98","$Le99","$Le9a","$Le9b","$Le9c","$Le9d","$Le9e","\n","$Le9f","$Lea0","$Lea1","$Lea2","$Lea3","$Lea4","$Lea5","$Lea6","$Lea7","$Lea8"]]}]}]}]
74:["$","p","p-58",{"className":"mb-4 text-lg leading-relaxed","children":"最外层的调用可以这样写："}]
75:["$","div","pre-33,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"export function useEffect(create, deps) {\n  return updateEffectImp(HookPassive, create, deps);\n}\n\nexport function useLayoutEffect(create, deps) {\n  return updateEffectImp(HookLayout, create, deps);\n}\n"}],"position":{"start":{"line":906,"column":1,"offset":18366},"end":{"line":914,"column":4,"offset":18575}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}],["$","span","code-segment-2",{"style":{},"children":[" "]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}],["$","span","code-segment-4",{"style":{},"children":[" "]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["useEffect"]}],["$","span","code-segment-6",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-7",{"className":"token parameter","style":{},"children":["create"]}],["$","span","code-segment-8",{"className":"token parameter","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}],["$","span","code-segment-9",{"className":"token parameter","style":{},"children":[" deps"]}],["$","span","code-segment-10",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-11",{"style":{},"children":[" "]}],["$","span","code-segment-12",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-13",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-15",{"style":{},"children":["  "]}],["$","span","code-segment-16",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}],["$","span","code-segment-17",{"style":{},"children":[" "]}],["$","span","code-segment-18",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["updateEffectImp"]}],["$","span","code-segment-19",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-20",{"className":"token maybe-class-name","style":{},"children":["HookPassive"]}],["$","span","code-segment-21",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}],["$","span","code-segment-22",{"style":{},"children":[" create"]}],["$","span","code-segment-23",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}],["$","span","code-segment-24",{"style":{},"children":[" deps"]}],["$","span","code-segment-25",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-26",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],["$","span","code-segment-27",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],"$Lea9","$Leaa","$Leab","$Leac","\n","$Lead","$Leae","$Leaf","$Leb0","$Leb1","$Leb2","$Leb3","$Leb4","$Leb5","$Leb6","$Leb7","$Leb8","$Leb9","$Leba","$Lebb","$Lebc","$Lebd","$Lebe","$Lebf","$Lec0","$Lec1","$Lec2","$Lec3","$Lec4","$Lec5","$Lec6","$Lec7","$Lec8","$Lec9","$Leca","$Lecb","$Lecc"]]}]}]}]
76:["$","p","p-59",{"className":"mb-4 text-lg leading-relaxed","children":"经过上面的函数后，组件内所有的 useEffect 就都收集在数组中了。接下来就是找个时机进度调度。分析一下，传递的函数需要在界面渲染前后调用，所以应该在 diff 之后，我们就把它加在 commit 函数中："}]
77:["$","div","pre-34,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"function commitWorker(wip) {\n  // ...\n\n  if (wip.tag === FunctionComponent) {\n    invokeHooks(wip);\n  }\n\n  // 2. 提交子节点\n  commitWorker(wip.child);\n  // 3. 提交兄弟\n  commitWorker(wip.sibling);\n}\n"}],"position":{"start":{"line":918,"column":1,"offset":18684},"end":{"line":931,"column":4,"offset":18883}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}],["$","span","code-segment-2",{"style":{},"children":[" "]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["commitWorker"]}],["$","span","code-segment-4",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-5",{"className":"token parameter","style":{},"children":["wip"]}],["$","span","code-segment-6",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-7",{"style":{},"children":[" "]}],["$","span","code-segment-8",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-9",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-11",{"style":{},"children":["  "]}],["$","span","code-segment-12",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// ..."]}],["$","span","code-segment-13",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],"\n",["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],["$","span","code-segment-17",{"style":{},"children":["  "]}],["$","span","code-segment-18",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}],["$","span","code-segment-19",{"style":{},"children":[" "]}],["$","span","code-segment-20",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-21",{"style":{},"children":["wip"]}],["$","span","code-segment-22",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}],["$","span","code-segment-23",{"className":"token property-access","style":{},"children":["tag"]}],["$","span","code-segment-24",{"style":{},"children":[" "]}],["$","span","code-segment-25",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["==="]}],["$","span","code-segment-26",{"style":{},"children":[" "]}],["$","span","code-segment-27",{"className":"token maybe-class-name","style":{},"children":["FunctionComponent"]}],["$","span","code-segment-28",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],"$Lecd","$Lece","$Lecf","$Led0","$Led1","$Led2","$Led3","$Led4","$Led5","$Led6","$Led7","$Led8","$Led9","$Leda","$Ledb","$Ledc","\n","$Ledd","$Lede","$Ledf","$Lee0","$Lee1","$Lee2","$Lee3","$Lee4","$Lee5","$Lee6","$Lee7","$Lee8","$Lee9","$Leea","$Leeb","$Leec","$Leed","$Leee","$Leef","$Lef0","$Lef1","$Lef2","$Lef3","$Lef4","$Lef5","$Lef6","$Lef7","$Lef8","$Lef9","$Lefa","$Lefb"]]}]}]}]
78:["$","p","p-60",{"className":"mb-4 text-lg leading-relaxed","children":"在当前节点变化更新完之后，还没有渲染子节点之前，检查一下是否有 useEffect 和 useLayoutEffect："}]
79:["$","div","pre-35,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"// 之前写的调度函数\nimport { scheduleCallback } from './scheduler';\n\n// 核心调用代码示例\nfunction invokeHooks(wip) {\n  const { updateQueueOfEffect, updateQueueOfLayout } = wip;\n\n  // 同步，阻塞了 commitWorker\n  for (let i = 0; i < updateQueueOfLayout.length; i++) {\n    const effect = updateQueueOfLayout[i];\n    // 未处理其返回值\n    effect.create();\n  }\n\n  // 加入调度，一般会在渲染结束后执行\n  for (let i = 0; i < updateQueueOfEffect.length; i++) {\n    const effect = updateQueueOfEffect[i];\n\n    scheduleCallback(() => {\n      effect.create();\n    });\n  }\n}\n"}],"position":{"start":{"line":935,"column":1,"offset":18947},"end":{"line":959,"column":4,"offset":19473}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 之前写的调度函数"]}],["$","span","code-segment-2",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-4",{"style":{},"children":[""]}],["$","span","code-segment-5",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["import"]}],["$","span","code-segment-6",{"style":{},"children":[" "]}],["$","span","code-segment-7",{"className":"token imports","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-8",{"className":"token imports","style":{},"children":[" scheduleCallback "]}],["$","span","code-segment-9",{"className":"token imports","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}],["$","span","code-segment-10",{"style":{},"children":[" "]}],["$","span","code-segment-11",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["from"]}],["$","span","code-segment-12",{"style":{},"children":[" "]}],["$","span","code-segment-13",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["'./scheduler'"]}],["$","span","code-segment-14",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],["$","span","code-segment-15",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],"\n",["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],["$","span","code-segment-19",{"style":{},"children":[""]}],["$","span","code-segment-20",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 核心调用代码示例"]}],["$","span","code-segment-21",{"style":{},"children":["\n"]}],["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}],"$Lefc","$Lefd","$Lefe","$Leff","$Lf00","$Lf01","$Lf02","$Lf03","$Lf04","$Lf05","$Lf06","$Lf07","$Lf08","$Lf09","$Lf0a","$Lf0b","$Lf0c","$Lf0d","$Lf0e","$Lf0f","$Lf10","$Lf11","$Lf12","$Lf13","$Lf14","\n","$Lf15","$Lf16","$Lf17","$Lf18","$Lf19","$Lf1a","$Lf1b","$Lf1c","$Lf1d","$Lf1e","$Lf1f","$Lf20","$Lf21","$Lf22","$Lf23","$Lf24","$Lf25","$Lf26","$Lf27","$Lf28","$Lf29","$Lf2a","$Lf2b","$Lf2c","$Lf2d","$Lf2e","$Lf2f","$Lf30","$Lf31","$Lf32","$Lf33","$Lf34","$Lf35","$Lf36","$Lf37","$Lf38","$Lf39","$Lf3a","$Lf3b","$Lf3c","$Lf3d","$Lf3e","$Lf3f","$Lf40","$Lf41","$Lf42","$Lf43","$Lf44","$Lf45","$Lf46","$Lf47","$Lf48","$Lf49","$Lf4a","$Lf4b","\n","$Lf4c","$Lf4d","$Lf4e","$Lf4f","$Lf50","$Lf51","$Lf52","$Lf53","$Lf54","$Lf55","$Lf56","$Lf57","$Lf58","$Lf59","$Lf5a","$Lf5b","$Lf5c","$Lf5d","$Lf5e","$Lf5f","$Lf60","$Lf61","$Lf62","$Lf63","$Lf64","$Lf65","$Lf66","$Lf67","$Lf68","$Lf69","$Lf6a","$Lf6b","$Lf6c","$Lf6d","$Lf6e","$Lf6f","$Lf70","$Lf71","$Lf72","\n","$Lf73","$Lf74","$Lf75","$Lf76","$Lf77","$Lf78","$Lf79","$Lf7a","$Lf7b","$Lf7c","$Lf7d","$Lf7e","$Lf7f","$Lf80","$Lf81","$Lf82","$Lf83","$Lf84","$Lf85","$Lf86","$Lf87","$Lf88","$Lf89","$Lf8a","$Lf8b","$Lf8c","$Lf8d","$Lf8e","$Lf8f","$Lf90","$Lf91","$Lf92"]]}]}]}]
7a:["$","blockquote","blockquote-2",{"className":"bg-gray-100 p-4 border-l-4 border-black italic my-4","children":["\n",["$","p","p-0",{"className":"mb-4 text-lg leading-relaxed","children":["思考：还记得 Effect 的函数有 return 么？在副作用消失时调用。这里，effect.create() 的返回值就是那个 return 的函数，所以，这里也应该加入调度队列，只是要控制调用时机，",["$","strong","strong-0",{"className":"font-black","children":"因为其只在组件被 delete 时调用"}],"。"]}],"\n"]}]
7b:["$","h3","h3-11",{"className":"text-xl font-bold mt-4 mb-2","children":"〇 渲染流程图"}]
7c:["$","p","p-61",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/react/react-hooks-useReducer.jpg","alt":"图片","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/react/react-hooks-useReducer.jpg","alt":"图片"},"children":[],"position":{"start":{"line":965,"column":1,"offset":19618},"end":{"line":965,"column":51,"offset":19668}}}}]}]
7d:["$","p","p-62",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/react/react-hooks-useEffect.png","alt":"图片","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/react/react-hooks-useEffect.png","alt":"图片"},"children":[],"position":{"start":{"line":967,"column":1,"offset":19670},"end":{"line":967,"column":50,"offset":19719}}}}]}]
7e:["$","p","p-63",{"className":"mb-4 text-lg leading-relaxed","children":"接下来，我们抛开 fiber，简化一下源码逻辑，同时换一种思路来看 hook 本身，使用 preact 中的实现来讲解："}]
7f:["$","h3","h3-12",{"className":"text-xl font-bold mt-4 mb-2","children":"④ useMemo / useCallback"}]
80:["$","p","p-64",{"className":"mb-4 text-lg leading-relaxed","children":"我们把 react 内置的 hook 都编上号，便于 devtool 解析，比如 useState 是 1，useCallback 是 8，useMemo 是 7 等等。于是有了下表："}]
81:["$","div","table-0",{"className":"my-6 overflow-x-auto border-4 border-black shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","table",null,{"className":"w-full border-collapse text-left","children":[["$","thead","thead-0",{"className":"bg-yellow-200 border-b-2 border-black uppercase tracking-wider text-sm","children":["$","tr","tr-0",{"className":"border-b border-black last:border-b-0","children":[["$","th","th-0",{"className":"px-4 py-3 text-base font-black border-r border-black last:border-r-0","children":"hook"}],["$","th","th-1",{"className":"px-4 py-3 text-base font-black border-r border-black last:border-r-0","children":"编号（currentHook）"}]]}]}],["$","tbody","tbody-0",{"className":"[&>tr:nth-child(odd)]:bg-white [&>tr:nth-child(even)]:bg-neutral-50","children":[["$","tr","tr-0",{"className":"border-b border-black last:border-b-0","children":[["$","td","td-0",{"className":"px-4 py-3 text-sm font-semibold border-r border-black last:border-r-0","children":"useState"}],["$","td","td-1",{"className":"px-4 py-3 text-sm font-semibold border-r border-black last:border-r-0","children":"1"}]]}],["$","tr","tr-1",{"className":"border-b border-black last:border-b-0","children":[["$","td","td-0",{"className":"px-4 py-3 text-sm font-semibold border-r border-black last:border-r-0","children":"useReducer"}],["$","td","td-1",{"className":"px-4 py-3 text-sm font-semibold border-r border-black last:border-r-0","children":"2"}]]}],["$","tr","tr-2",{"className":"border-b border-black last:border-b-0","children":[["$","td","td-0",{"className":"px-4 py-3 text-sm font-semibold border-r border-black last:border-r-0","children":"useEffect"}],["$","td","td-1",{"className":"px-4 py-3 text-sm font-semibold border-r border-black last:border-r-0","children":"3"}]]}],["$","tr","tr-3",{"className":"border-b border-black last:border-b-0","children":[["$","td","td-0",{"className":"px-4 py-3 text-sm font-semibold border-r border-black last:border-r-0","children":"useLayoutEffect"}],["$","td","td-1",{"className":"px-4 py-3 text-sm font-semibold border-r border-black last:border-r-0","children":"4"}]]}],["$","tr","tr-4",{"className":"border-b border-black last:border-b-0","children":[["$","td","td-0",{"className":"px-4 py-3 text-sm font-semibold border-r border-black last:border-r-0","children":"useRef"}],["$","td","td-1",{"className":"px-4 py-3 text-sm font-semibold border-r border-black last:border-r-0","children":"5"}]]}],["$","tr","tr-5",{"className":"border-b border-black last:border-b-0","children":[["$","td","td-0",{"className":"px-4 py-3 text-sm font-semibold border-r border-black last:border-r-0","children":"useImperativeHandle"}],["$","td","td-1",{"className":"px-4 py-3 text-sm font-semibold border-r border-black last:border-r-0","children":"6"}]]}],["$","tr","tr-6",{"className":"border-b border-black last:border-b-0","children":[["$","td","td-0",{"className":"px-4 py-3 text-sm font-semibold border-r border-black last:border-r-0","children":"useMemo"}],["$","td","td-1",{"className":"px-4 py-3 text-sm font-semibold border-r border-black last:border-r-0","children":"7"}]]}],["$","tr","tr-7",{"className":"border-b border-black last:border-b-0","children":[["$","td","td-0",{"className":"px-4 py-3 text-sm font-semibold border-r border-black last:border-r-0","children":"useCallback"}],["$","td","td-1",{"className":"px-4 py-3 text-sm font-semibold border-r border-black last:border-r-0","children":"8"}]]}],["$","tr","tr-8",{"className":"border-b border-black last:border-b-0","children":[["$","td","td-0",{"className":"px-4 py-3 text-sm font-semibold border-r border-black last:border-r-0","children":"useContext"}],["$","td","td-1",{"className":"px-4 py-3 text-sm font-semibold border-r border-black last:border-r-0","children":"9"}]]}],["$","tr","tr-9",{"className":"border-b border-black last:border-b-0","children":[["$","td","td-0",{"className":"px-4 py-3 text-sm font-semibold border-r border-black last:border-r-0","children":"useErrorBoundary"}],"$Lf93"]}],"$Lf94"]}]]}]}]
82:["$","p","p-65",{"className":"mb-4 text-lg leading-relaxed","children":"我们可以通过 getHookState 方法获取到这个 hook 的状态："}]
83:["$","div","pre-36,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"function getHookState(index, type) {\n  // 通过 type 记录 state 类型，便于 devTool 解析\n  ...\n  // 通过 index 获取当前 hook\n  const hooks =\n\t\tcurrentComponent.__hooks ||\n\t\t(currentComponent.__hooks = {\n\t\t\t_list: [],\n\t\t\t_pendingEffects: []\n\t\t});\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({ _pendingValue: EMPTY });\n\t}\n\treturn hooks._list[index];\n}\n"}],"position":{"start":{"line":991,"column":1,"offset":20540},"end":{"line":1008,"column":4,"offset":20892}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}],["$","span","code-segment-2",{"style":{},"children":[" "]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["getHookState"]}],["$","span","code-segment-4",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-5",{"className":"token parameter","style":{},"children":["index"]}],["$","span","code-segment-6",{"className":"token parameter","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}],["$","span","code-segment-7",{"className":"token parameter","style":{},"children":[" type"]}],["$","span","code-segment-8",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-9",{"style":{},"children":[" "]}],["$","span","code-segment-10",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-11",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-13",{"style":{},"children":["  "]}],["$","span","code-segment-14",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 通过 type 记录 state 类型，便于 devTool 解析"]}],["$","span","code-segment-15",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-17",{"style":{},"children":["  "]}],["$","span","code-segment-18",{"className":"token spread","style":{"color":"hsl(221, 87%, 60%)"},"children":["..."]}],["$","span","code-segment-19",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],["$","span","code-segment-21",{"style":{},"children":["  "]}],["$","span","code-segment-22",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 通过 index 获取当前 hook"]}],["$","span","code-segment-23",{"style":{},"children":["\n"]}],"$Lf95","$Lf96","$Lf97","$Lf98","$Lf99","$Lf9a","$Lf9b","$Lf9c","$Lf9d","$Lf9e","$Lf9f","$Lfa0","$Lfa1","$Lfa2","$Lfa3","$Lfa4","$Lfa5","$Lfa6","$Lfa7","$Lfa8","$Lfa9","$Lfaa","$Lfab","$Lfac","$Lfad","$Lfae","$Lfaf","$Lfb0","$Lfb1","$Lfb2","$Lfb3","$Lfb4","$Lfb5","$Lfb6","$Lfb7","$Lfb8","$Lfb9","$Lfba","$Lfbb","$Lfbc","$Lfbd","$Lfbe","$Lfbf","$Lfc0","$Lfc1","$Lfc2","$Lfc3","$Lfc4","\n","$Lfc5","$Lfc6","$Lfc7","$Lfc8","$Lfc9","$Lfca","$Lfcb","$Lfcc","$Lfcd","$Lfce","$Lfcf","$Lfd0","$Lfd1","$Lfd2","$Lfd3","$Lfd4","$Lfd5","$Lfd6","$Lfd7","$Lfd8","$Lfd9","$Lfda","$Lfdb","$Lfdc","$Lfdd","$Lfde","$Lfdf","$Lfe0","$Lfe1","$Lfe2","$Lfe3","$Lfe4","$Lfe5","$Lfe6","$Lfe7","$Lfe8","$Lfe9","$Lfea","$Lfeb","$Lfec","$Lfed","$Lfee","$Lfef","$Lff0","$Lff1","$Lff2","$Lff3","$Lff4","$Lff5","$Lff6","$Lff7","$Lff8"]]}]}]}]
84:["$","p","p-66",{"className":"mb-4 text-lg leading-relaxed","children":["给当前的 vnode（currentComponent）设置",["$","code","code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__hooks","position":{"start":{"line":1010,"column":31,"offset":20924},"end":{"line":1010,"column":40,"offset":20933}}}],"position":{"start":{"line":1010,"column":31,"offset":20924},"end":{"line":1010,"column":40,"offset":20933}}},"children":"__hooks"}],"属性，每一个 hook 呢，又有自己的",["$","code","code-1",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"_list","position":{"start":{"line":1010,"column":59,"offset":20952},"end":{"line":1010,"column":66,"offset":20959}}}],"position":{"start":{"line":1010,"column":59,"offset":20952},"end":{"line":1010,"column":66,"offset":20959}}},"children":"_list"}],"来放置 hook 们的状态，以 useMemo 为例："]}]
85:["$","div","pre-37,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-ts"]},"children":[{"type":"text","value":"export interface MemoHookState {\n  _value?: any;\n  _pendingValue?: any;\n  _args?: any[];\n  _pendingArgs?: any[];\n  _factory?: () => any;\n}\n"}],"position":{"start":{"line":1012,"column":1,"offset":20988},"end":{"line":1020,"column":4,"offset":21136}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}],["$","span","code-segment-2",{"style":{},"children":[" "]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["interface"]}],["$","span","code-segment-4",{"style":{},"children":[" "]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["MemoHookState"]}],["$","span","code-segment-6",{"style":{},"children":[" "]}],["$","span","code-segment-7",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-8",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-10",{"style":{},"children":["  _value"]}],["$","span","code-segment-11",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["?"]}],["$","span","code-segment-12",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}],["$","span","code-segment-13",{"style":{},"children":[" "]}],["$","span","code-segment-14",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["any"]}],["$","span","code-segment-15",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],["$","span","code-segment-16",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-18",{"style":{},"children":["  _pendingValue"]}],["$","span","code-segment-19",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["?"]}],["$","span","code-segment-20",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}],["$","span","code-segment-21",{"style":{},"children":[" "]}],["$","span","code-segment-22",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["any"]}],["$","span","code-segment-23",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],["$","span","code-segment-24",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],["$","span","code-segment-26",{"style":{},"children":["  _args"]}],["$","span","code-segment-27",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["?"]}],["$","span","code-segment-28",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}],"$Lff9","$Lffa","$Lffb","$Lffc","$Lffd","$Lffe","$Lfff","$L1000","$L1001","$L1002","$L1003","$L1004","$L1005","$L1006","$L1007","$L1008","$L1009","$L100a","$L100b","$L100c","$L100d","$L100e","$L100f","$L1010","$L1011","$L1012","$L1013","$L1014","$L1015","$L1016","$L1017","$L1018"]]}]}]}]
86:["$","p","p-67",{"className":"mb-4 text-lg leading-relaxed","children":"同时每一个 hook 还有自己的 _pendingEffects："}]
87:["$","div","pre-38,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-ts"]},"children":[{"type":"text","value":"export interface EffectHookState {\n  _value?: Effect;\n  _args?: any[];\n  _pendingArgs?: any[];\n  _cleanup?: Cleanup | void;\n}\n"}],"position":{"start":{"line":1024,"column":1,"offset":21174},"end":{"line":1031,"column":4,"offset":21309}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}],["$","span","code-segment-2",{"style":{},"children":[" "]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["interface"]}],["$","span","code-segment-4",{"style":{},"children":[" "]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["EffectHookState"]}],["$","span","code-segment-6",{"style":{},"children":[" "]}],["$","span","code-segment-7",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-8",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-10",{"style":{},"children":["  _value"]}],["$","span","code-segment-11",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["?"]}],["$","span","code-segment-12",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}],["$","span","code-segment-13",{"style":{},"children":[" Effect"]}],["$","span","code-segment-14",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],["$","span","code-segment-15",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-17",{"style":{},"children":["  _args"]}],["$","span","code-segment-18",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["?"]}],["$","span","code-segment-19",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}],["$","span","code-segment-20",{"style":{},"children":[" "]}],["$","span","code-segment-21",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["any"]}],["$","span","code-segment-22",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["["]}],["$","span","code-segment-23",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["]"]}],["$","span","code-segment-24",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],["$","span","code-segment-25",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],["$","span","code-segment-27",{"style":{},"children":["  _pendingArgs"]}],["$","span","code-segment-28",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["?"]}],"$L1019","$L101a","$L101b","$L101c","$L101d","$L101e","$L101f","$L1020","$L1021","$L1022","$L1023","$L1024","$L1025","$L1026","$L1027","$L1028","$L1029","$L102a","$L102b","$L102c"]]}]}]}]
88:["$","p","p-68",{"className":"mb-4 text-lg leading-relaxed","children":"useMemo:"}]
89:["$","div","pre-39,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"// hook按照递增顺序，会给一个currentIndex\n// factory：用户传入的缓存函数\n// args: 依赖数组\nexport function useMemo(factory, args) {\n  /** @type {import('./internal').MemoHookState} */\n  const state = getHookState(currentIndex++, 7);\n  if (argsChanged(state._args, args)) {\n    state._pendingValue = factory();\n    state._pendingArgs = args;\n    state._factory = factory;\n    return state._pendingValue;\n  }\n\n  return state._value;\n}\n\n// 检测依赖更新\n// 返回true的情况：没有old deps、依赖长度变化、新依赖中有不和原依赖一样的对象\nfunction argsChanged(oldArgs, newArgs) {\n  return (\n    !oldArgs ||\n    oldArgs.length !== newArgs.length ||\n    newArgs.some((arg, index) => arg !== oldArgs[index])\n  );\n}\n"}],"position":{"start":{"line":1035,"column":1,"offset":21321},"end":{"line":1061,"column":4,"offset":21969}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// hook按照递增顺序，会给一个currentIndex"]}],["$","span","code-segment-2",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-4",{"style":{},"children":[""]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// factory：用户传入的缓存函数"]}],["$","span","code-segment-6",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-8",{"style":{},"children":[""]}],["$","span","code-segment-9",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// args: 依赖数组"]}],["$","span","code-segment-10",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],["$","span","code-segment-12",{"style":{},"children":[""]}],["$","span","code-segment-13",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}],["$","span","code-segment-14",{"style":{},"children":[" "]}],["$","span","code-segment-15",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}],["$","span","code-segment-16",{"style":{},"children":[" "]}],["$","span","code-segment-17",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["useMemo"]}],["$","span","code-segment-18",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-19",{"className":"token parameter","style":{},"children":["factory"]}],"$L102d","$L102e","$L102f","$L1030","$L1031","$L1032","$L1033","$L1034","$L1035","$L1036","$L1037","$L1038","$L1039","$L103a","$L103b","$L103c","$L103d","$L103e","$L103f","$L1040","$L1041","$L1042","$L1043","$L1044","$L1045","$L1046","$L1047","$L1048","$L1049","$L104a","$L104b","$L104c","$L104d","$L104e","$L104f","$L1050","$L1051","$L1052","$L1053","$L1054","$L1055","$L1056","$L1057","$L1058","$L1059","$L105a","$L105b","$L105c","$L105d","$L105e","$L105f","$L1060","$L1061","$L1062","$L1063","$L1064","$L1065","$L1066","$L1067","$L1068","$L1069","$L106a","$L106b","$L106c","$L106d","$L106e","$L106f","$L1070","$L1071","$L1072","$L1073","$L1074","$L1075","$L1076","$L1077","$L1078","$L1079","$L107a","$L107b","$L107c","$L107d","$L107e","$L107f","$L1080","$L1081","$L1082","$L1083","$L1084","$L1085","$L1086","$L1087","$L1088","$L1089","$L108a","$L108b","$L108c","$L108d","\n","$L108e","$L108f","$L1090","$L1091","$L1092","$L1093","$L1094","$L1095","$L1096","$L1097","$L1098","$L1099","$L109a","\n","$L109b","$L109c","$L109d","$L109e","$L109f","$L10a0","$L10a1","$L10a2","$L10a3","$L10a4","$L10a5","$L10a6","$L10a7","$L10a8","$L10a9","$L10aa","$L10ab","$L10ac","$L10ad","$L10ae","$L10af","$L10b0","$L10b1","$L10b2","$L10b3","$L10b4","$L10b5","$L10b6","$L10b7","$L10b8","$L10b9","$L10ba","$L10bb","$L10bc","$L10bd","$L10be","$L10bf","$L10c0","$L10c1","$L10c2","$L10c3","$L10c4","$L10c5","$L10c6","$L10c7","$L10c8","$L10c9","$L10ca","$L10cb","$L10cc","$L10cd","$L10ce","$L10cf","$L10d0","$L10d1","$L10d2","$L10d3","$L10d4","$L10d5","$L10d6","$L10d7","$L10d8","$L10d9","$L10da","$L10db","$L10dc","$L10dd","$L10de","$L10df","$L10e0","$L10e1","$L10e2","$L10e3"]]}]}]}]
8a:["$","p","p-69",{"className":"mb-4 text-lg leading-relaxed","children":"接下来看一下 useCallback:"}]
8b:["$","div","pre-40,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"// currentHook 就是用于 devtool 解析的变量，这里忽略\nexport function useCallback(callback, args) {\n  currentHook = 8;\n  return useMemo(() => callback, args);\n}\n"}],"position":{"start":{"line":1065,"column":1,"offset":21992},"end":{"line":1071,"column":4,"offset":22147}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// currentHook 就是用于 devtool 解析的变量，这里忽略"]}],["$","span","code-segment-2",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-4",{"style":{},"children":[""]}],["$","span","code-segment-5",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}],["$","span","code-segment-6",{"style":{},"children":[" "]}],["$","span","code-segment-7",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}],["$","span","code-segment-8",{"style":{},"children":[" "]}],["$","span","code-segment-9",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["useCallback"]}],["$","span","code-segment-10",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-11",{"className":"token parameter","style":{},"children":["callback"]}],["$","span","code-segment-12",{"className":"token parameter","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}],["$","span","code-segment-13",{"className":"token parameter","style":{},"children":[" args"]}],["$","span","code-segment-14",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-15",{"style":{},"children":[" "]}],["$","span","code-segment-16",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-17",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-19",{"style":{},"children":["  currentHook "]}],["$","span","code-segment-20",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}],["$","span","code-segment-21",{"style":{},"children":[" "]}],["$","span","code-segment-22",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["8"]}],["$","span","code-segment-23",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],["$","span","code-segment-24",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],["$","span","code-segment-26",{"style":{},"children":["  "]}],["$","span","code-segment-27",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}],"$L10e4","$L10e5","$L10e6","$L10e7","$L10e8","$L10e9","$L10ea","$L10eb","$L10ec","$L10ed","$L10ee","$L10ef","$L10f0","$L10f1","$L10f2","$L10f3"]]}]}]}]
8c:["$","h3","h3-13",{"className":"text-xl font-bold mt-4 mb-2","children":"⑤ useDebounce"}]
8d:["$","p","p-70",{"className":"mb-4 text-lg leading-relaxed","children":["接下来我们来引申一下第三方 hook 库",["$","code","code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ahooks","position":{"start":{"line":1075,"column":21,"offset":22188},"end":{"line":1075,"column":29,"offset":22196}}}],"position":{"start":{"line":1075,"column":21,"offset":22188},"end":{"line":1075,"column":29,"offset":22196}}},"children":"ahooks"}],"中的一个防抖 hook。"]}]
8e:["$","p","p-71",{"className":"mb-4 text-lg leading-relaxed","children":"使用："}]
8f:["$","div","pre-41,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-jsx"]},"children":[{"type":"text","value":"import React, { useState } from 'react';\nimport { useDebounce } from 'ahooks';\n\nexport default () => {\n  const [value, setValue] = useState<string>();\n  const debouncedValue = useDebounce(value, { wait: 500 });\n\n  return (\n    <div>\n      <input\n        value={value}\n        onChange={(e) => setValue(e.target.value)}\n        placeholder=\"Typed value\"\n        style={{ width: 280 }}\n      />\n      <p style={{ marginTop: 16 }}>DebouncedValue: {debouncedValue}</p>\n    </div>\n  );\n};\n"}],"position":{"start":{"line":1079,"column":1,"offset":22215},"end":{"line":1099,"column":4,"offset":22709}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["import"]}],["$","span","code-segment-2",{"style":{},"children":[" "]}],["$","span","code-segment-3",{"className":"token imports maybe-class-name","style":{},"children":["React"]}],["$","span","code-segment-4",{"className":"token imports","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}],["$","span","code-segment-5",{"className":"token imports","style":{},"children":[" "]}],["$","span","code-segment-6",{"className":"token imports","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-7",{"className":"token imports","style":{},"children":[" useState "]}],["$","span","code-segment-8",{"className":"token imports","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}],["$","span","code-segment-9",{"style":{},"children":[" "]}],["$","span","code-segment-10",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["from"]}],["$","span","code-segment-11",{"style":{},"children":[" "]}],["$","span","code-segment-12",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["'react'"]}],["$","span","code-segment-13",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],["$","span","code-segment-14",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-16",{"style":{},"children":[""]}],["$","span","code-segment-17",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["import"]}],["$","span","code-segment-18",{"style":{},"children":[" "]}],["$","span","code-segment-19",{"className":"token imports","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-20",{"className":"token imports","style":{},"children":[" useDebounce "]}],["$","span","code-segment-21",{"className":"token imports","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}],["$","span","code-segment-22",{"style":{},"children":[" "]}],["$","span","code-segment-23",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["from"]}],["$","span","code-segment-24",{"style":{},"children":[" "]}],["$","span","code-segment-25",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["'ahooks'"]}],"$L10f4","$L10f5","$L10f6","\n","$L10f7","$L10f8","$L10f9","$L10fa","$L10fb","$L10fc","$L10fd","$L10fe","$L10ff","$L1100","$L1101","$L1102","$L1103","$L1104","$L1105","$L1106","$L1107","$L1108","$L1109","$L110a","$L110b","$L110c","$L110d","$L110e","$L110f","$L1110","$L1111","$L1112","$L1113","$L1114","$L1115","$L1116","$L1117","$L1118","$L1119","$L111a","$L111b","$L111c","$L111d","$L111e","$L111f","$L1120","$L1121","$L1122","$L1123","$L1124","$L1125","$L1126","$L1127","$L1128","$L1129","$L112a","$L112b","$L112c","$L112d","$L112e","$L112f","$L1130","$L1131","$L1132","$L1133","$L1134","$L1135","$L1136","$L1137","$L1138","$L1139","$L113a","$L113b","$L113c","$L113d","$L113e","$L113f","$L1140","$L1141","$L1142","$L1143","$L1144","$L1145","$L1146","$L1147","$L1148","$L1149","$L114a","$L114b","$L114c","$L114d","$L114e","$L114f","$L1150","$L1151","$L1152","$L1153","$L1154","$L1155","$L1156","$L1157","$L1158","$L1159","$L115a","$L115b","$L115c","$L115d","$L115e","$L115f","$L1160","$L1161","$L1162","$L1163","$L1164","$L1165","$L1166","$L1167","$L1168","$L1169","$L116a","$L116b","$L116c","$L116d","$L116e","$L116f","$L1170","$L1171","$L1172","$L1173","$L1174","$L1175","$L1176","$L1177","$L1178","$L1179","$L117a","$L117b","$L117c","$L117d","$L117e","$L117f","$L1180","$L1181","$L1182","$L1183","$L1184","$L1185"]]}]}]}]
90:["$","p","p-72",{"className":"mb-4 text-lg leading-relaxed","children":"原理："}]
91:["$","div","pre-42,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"// 外层函数入参：func, wait, options（maxWait等参数）\n// 内层函数\nfunction debounced(...args) {\n  const time = Date.now();\n  const isInvoking = shouldInvoke(time);\n\n  lastArgs = args;\n  lastThis = this;\n  lastInvokeTime = time;\n\n  if (timerId) {\n    cancelTimer();\n  }\n\n  if (isInvoking) {\n    // 重启定时器函数 timerExpired\n    timerId = startTimer(timerExpired, wait);\n    return invokeFunc(lastInvokeTime);\n  }\n\n  return result;\n}\n\nfunction invokeFunc(time) {\n  const args = lastArgs;\n  const thisArg = lastThis;\n\n  lastArgs = lastThis = undefined;\n  lastInvokeTime = time;\n  result = func.apply(thisArg, args);\n  return result;\n}\n"}],"position":{"start":{"line":1103,"column":1,"offset":22716},"end":{"line":1136,"column":4,"offset":23336}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 外层函数入参：func, wait, options（maxWait等参数）"]}],["$","span","code-segment-2",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-4",{"style":{},"children":[""]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 内层函数"]}],["$","span","code-segment-6",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-8",{"style":{},"children":[""]}],["$","span","code-segment-9",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}],["$","span","code-segment-10",{"style":{},"children":[" "]}],["$","span","code-segment-11",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["debounced"]}],["$","span","code-segment-12",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-13",{"className":"token parameter spread","style":{"color":"hsl(221, 87%, 60%)"},"children":["..."]}],["$","span","code-segment-14",{"className":"token parameter","style":{},"children":["args"]}],["$","span","code-segment-15",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-16",{"style":{},"children":[" "]}],["$","span","code-segment-17",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-18",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],"$L1186","$L1187","$L1188","$L1189","$L118a","$L118b","$L118c","$L118d","$L118e","$L118f","$L1190","$L1191","$L1192","$L1193","$L1194","$L1195","$L1196","$L1197","$L1198","$L1199","$L119a","$L119b","$L119c","$L119d","$L119e","\n","$L119f","$L11a0","$L11a1","$L11a2","$L11a3","$L11a4","$L11a5","$L11a6","$L11a7","$L11a8","$L11a9","$L11aa","$L11ab","$L11ac","$L11ad","$L11ae","$L11af","$L11b0","$L11b1","$L11b2","\n","$L11b3","$L11b4","$L11b5","$L11b6","$L11b7","$L11b8","$L11b9","$L11ba","$L11bb","$L11bc","$L11bd","$L11be","$L11bf","$L11c0","$L11c1","$L11c2","$L11c3","$L11c4","$L11c5","$L11c6","$L11c7","$L11c8","\n","$L11c9","$L11ca","$L11cb","$L11cc","$L11cd","$L11ce","$L11cf","$L11d0","$L11d1","$L11d2","$L11d3","$L11d4","$L11d5","$L11d6","$L11d7","$L11d8","$L11d9","$L11da","$L11db","$L11dc","$L11dd","$L11de","$L11df","$L11e0","$L11e1","$L11e2","$L11e3","$L11e4","$L11e5","$L11e6","$L11e7","$L11e8","$L11e9","$L11ea","$L11eb","$L11ec","$L11ed","$L11ee","$L11ef","$L11f0","$L11f1","\n","$L11f2","$L11f3","$L11f4","$L11f5","$L11f6","$L11f7","$L11f8","$L11f9","$L11fa","$L11fb","$L11fc","\n","$L11fd","$L11fe","$L11ff","$L1200","$L1201","$L1202","$L1203","$L1204","$L1205","$L1206","$L1207","$L1208","$L1209","$L120a","$L120b","$L120c","$L120d","$L120e","$L120f","$L1210","$L1211","$L1212","$L1213","$L1214","$L1215","$L1216","$L1217","$L1218","\n","$L1219","$L121a","$L121b","$L121c","$L121d","$L121e","$L121f","$L1220","$L1221","$L1222","$L1223","$L1224","$L1225","$L1226","$L1227","$L1228","$L1229","$L122a","$L122b","$L122c","$L122d","$L122e","$L122f","$L1230","$L1231","$L1232","$L1233","$L1234","$L1235","$L1236","$L1237","$L1238","$L1239","$L123a","$L123b","$L123c","$L123d"]]}]}]}]
92:["$","p","p-73",{"className":"mb-4 text-lg leading-relaxed","children":"其中："}]
93:["$","div","pre-43,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"function shouldInvoke(time) {\n  const timeSinceLastInvoke = time - lastInvokeTime; // 距离上一次调用的时间差\n\n  return (\n    lastInvokeTime === undefined ||\n    timeSinceLastInvoke >= wait ||\n    timeSinceLastInvoke < 0 ||\n    (maxing && timeSinceLastInvoke >= maxWait)\n  );\n}\n\n// 这些都是内部对象，兼容了js不同运行时环境的其那句对象\nconst root =\n  freeGlobalThis || freeGlobal || freeSelf || Function('return this')();\nconst useRAF =\n  !wait && wait !== 0 && typeof root.requestAnimationFrame === 'function';\n\nfunction startTimer(pendingFunc, wait) {\n  if (useRAF) {\n    root.cancelAnimationFrame(timerId);\n    return root.requestAnimationFrame(pendingFunc);\n  }\n  return setTimeout(pendingFunc, wait);\n}\n"}],"position":{"start":{"line":1140,"column":1,"offset":23343},"end":{"line":1165,"column":4,"offset":24022}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}],["$","span","code-segment-2",{"style":{},"children":[" "]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["shouldInvoke"]}],["$","span","code-segment-4",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-5",{"className":"token parameter","style":{},"children":["time"]}],["$","span","code-segment-6",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-7",{"style":{},"children":[" "]}],["$","span","code-segment-8",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-9",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-11",{"style":{},"children":["  "]}],["$","span","code-segment-12",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}],["$","span","code-segment-13",{"style":{},"children":[" timeSinceLastInvoke "]}],["$","span","code-segment-14",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}],["$","span","code-segment-15",{"style":{},"children":[" time "]}],["$","span","code-segment-16",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["-"]}],["$","span","code-segment-17",{"style":{},"children":[" lastInvokeTime"]}],["$","span","code-segment-18",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],["$","span","code-segment-19",{"style":{},"children":[" "]}],["$","span","code-segment-20",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 距离上一次调用的时间差"]}],["$","span","code-segment-21",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],"\n","$L123e","$L123f","$L1240","$L1241","$L1242","$L1243","$L1244","$L1245","$L1246","$L1247","$L1248","$L1249","$L124a","$L124b","$L124c","$L124d","$L124e","$L124f","$L1250","$L1251","$L1252","$L1253","$L1254","$L1255","$L1256","$L1257","$L1258","$L1259","$L125a","$L125b","$L125c","$L125d","$L125e","$L125f","$L1260","$L1261","$L1262","$L1263","$L1264","$L1265","$L1266","$L1267","$L1268","$L1269","$L126a","$L126b","$L126c","$L126d","\n","$L126e","$L126f","$L1270","$L1271","$L1272","$L1273","$L1274","$L1275","$L1276","$L1277","$L1278","$L1279","$L127a","$L127b","$L127c","$L127d","$L127e","$L127f","$L1280","$L1281","$L1282","$L1283","$L1284","$L1285","$L1286","$L1287","$L1288","$L1289","$L128a","$L128b","$L128c","$L128d","$L128e","$L128f","$L1290","$L1291","$L1292","$L1293","$L1294","$L1295","$L1296","$L1297","$L1298","$L1299","$L129a","$L129b","$L129c","$L129d","$L129e","$L129f","$L12a0","$L12a1","$L12a2","$L12a3","$L12a4","\n","$L12a5","$L12a6","$L12a7","$L12a8","$L12a9","$L12aa","$L12ab","$L12ac","$L12ad","$L12ae","$L12af","$L12b0","$L12b1","$L12b2","$L12b3","$L12b4","$L12b5","$L12b6","$L12b7","$L12b8","$L12b9","$L12ba","$L12bb","$L12bc","$L12bd","$L12be","$L12bf","$L12c0","$L12c1","$L12c2","$L12c3","$L12c4","$L12c5","$L12c6","$L12c7","$L12c8","$L12c9","$L12ca","$L12cb","$L12cc","$L12cd","$L12ce","$L12cf","$L12d0","$L12d1","$L12d2","$L12d3","$L12d4","$L12d5","$L12d6","$L12d7","$L12d8","$L12d9","$L12da","$L12db","$L12dc","$L12dd","$L12de","$L12df","$L12e0","$L12e1","$L12e2"]]}]}]}]
94:["$","h2","h2-4",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"5. Diff 算法高级"}]
95:["$","p","p-74",{"className":"mb-4 text-lg leading-relaxed","children":"这里讲解一下高阶版 diff 算法。"}]
96:["$","p","p-75",{"className":"mb-4 text-lg leading-relaxed","children":"上边的 diff 算法（reconcileChildren）问题："}]
97:["$","ul","ul-4",{"className":"ml-4 list-disc mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"按位置对比，重复组件没办法复用，性能较低"}],"\n"]}]
98:["$","p","p-76",{"className":"mb-4 text-lg leading-relaxed","children":"因为大多数情况，页面的变化都是很小的，大部分 dom 树都是不变的，只有个别的变化，之前的算法中，如果对应位置上节点不一样就直接删掉，下边有需要这个节点了，只好再创建，成本高了不少。"}]
99:["$","p","p-77",{"className":"mb-4 text-lg leading-relaxed","children":"算法思路："}]
9a:["$","ul","ul-5",{"className":"ml-4 list-disc mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"创建一个 hash 表存放缓存节点"}],"\n",["$","li","li-1",{"className":"font-bold mb-2","children":"需要删除的节点删掉后存到 hash 表中"}],"\n",["$","li","li-2",{"className":"font-bold mb-2","children":"每需要新增一个位置的节点时，从 hash 表中读取"}],"\n",["$","li","li-3",{"className":"font-bold mb-2","children":"一轮 diff 做完之后，清空 hash 表"}],"\n"]}]
9b:["$","p","p-78",{"className":"mb-4 text-lg leading-relaxed","children":"考虑到 fiber 的单链表结构，就不使用 vue 的双指针从前后同步查询，而是从左边往右遍历，比较新老节点，如果节点可以复用，继续往右，否则就停止。"}]
9c:["$","h3","h3-14",{"className":"text-xl font-bold mt-4 mb-2","children":"流程图"}]
9d:["$","p","p-79",{"className":"mb-4 text-lg leading-relaxed","children":["渲染树（pfiber 就是 returnFiber）：\n",["$","img","img-0",{"src":"/img/posts/react/diff-1.png","alt":"图片","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/react/diff-1.png","alt":"图片"},"children":[],"position":{"start":{"line":1189,"column":1,"offset":24431},"end":{"line":1189,"column":35,"offset":24465}}}}]]}]
9e:["$","p","p-80",{"className":"mb-4 text-lg leading-relaxed","children":"第一步：从左往右遍历，查找直接能用的，直到遇到不能用的为止（下图中的数字代表该 fiber 的 index）："}]
9f:["$","p","p-81",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/react/diff-2.png","alt":"图片","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/react/diff-2.png","alt":"图片"},"children":[],"position":{"start":{"line":1193,"column":1,"offset":24524},"end":{"line":1193,"column":35,"offset":24558}}}}]}]
a0:["$","p","p-82",{"className":"mb-4 text-lg leading-relaxed","children":"能复用的："}]
a1:["$","div","pre-44,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"const same = sameNode(newChild, oldFiber);\n\nif (same) {\n  const newFiber = createFiber(newChild, returnFiber);\n\n  Object.assign(newFiber, {\n    stateNode: oldFiber.stateNode,\n    alternate: oldFiber,\n    flags: Update,\n  });\n}\n\n// newIndex 指针后移\n// lastPlacedIndex 指向最后放置的位置\n"}],"position":{"start":{"line":1197,"column":1,"offset":24567},"end":{"line":1212,"column":4,"offset":24850}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}],["$","span","code-segment-2",{"style":{},"children":[" same "]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}],["$","span","code-segment-4",{"style":{},"children":[" "]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["sameNode"]}],["$","span","code-segment-6",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-7",{"style":{},"children":["newChild"]}],["$","span","code-segment-8",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}],["$","span","code-segment-9",{"style":{},"children":[" oldFiber"]}],["$","span","code-segment-10",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-11",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],["$","span","code-segment-12",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],"\n",["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-16",{"style":{},"children":[""]}],["$","span","code-segment-17",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}],["$","span","code-segment-18",{"style":{},"children":[" "]}],["$","span","code-segment-19",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-20",{"style":{},"children":["same"]}],["$","span","code-segment-21",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-22",{"style":{},"children":[" "]}],["$","span","code-segment-23",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-24",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],["$","span","code-segment-26",{"style":{},"children":["  "]}],["$","span","code-segment-27",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}],"$L12e3","$L12e4","$L12e5","$L12e6","$L12e7","$L12e8","$L12e9","$L12ea","$L12eb","$L12ec","$L12ed","$L12ee","\n","$L12ef","$L12f0","$L12f1","$L12f2","$L12f3","$L12f4","$L12f5","$L12f6","$L12f7","$L12f8","$L12f9","$L12fa","$L12fb","$L12fc","$L12fd","$L12fe","$L12ff","$L1300","$L1301","$L1302","$L1303","$L1304","$L1305","$L1306","$L1307","$L1308","$L1309","$L130a","$L130b","$L130c","$L130d","$L130e","$L130f","$L1310","$L1311","$L1312","$L1313","$L1314","$L1315","$L1316","$L1317","$L1318","$L1319","$L131a","$L131b","$L131c","\n","$L131d","$L131e","$L131f","$L1320","$L1321","$L1322","$L1323"]]}]}]}]
a2:["$","p","p-83",{"className":"mb-4 text-lg leading-relaxed","children":["停止条件：",["$","code","code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"!sameNode(newChild, oldFiber)","position":{"start":{"line":1214,"column":6,"offset":24857},"end":{"line":1214,"column":37,"offset":24888}}}],"position":{"start":{"line":1214,"column":6,"offset":24857},"end":{"line":1214,"column":37,"offset":24888}}},"children":"!sameNode(newChild, oldFiber)"}]]}]
a3:["$","p","p-84",{"className":"mb-4 text-lg leading-relaxed","children":"第二步：如新节点没有了（newIndex === newChildren.length）："}]
a4:["$","p","p-85",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/react/diff-3.png","alt":"图片","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/react/diff-3.png","alt":"图片"},"children":[],"position":{"start":{"line":1218,"column":1,"offset":24937},"end":{"line":1218,"column":35,"offset":24971}}}}]}]
a5:["$","p","p-86",{"className":"mb-4 text-lg leading-relaxed","children":"老节点往后的加入删除队列："}]
a6:["$","div","pre-45,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"// 遍历随后的节点，加入父节点的 deletions\nreturnFiber.deletions.push(...)\n"}],"position":{"start":{"line":1222,"column":1,"offset":24988},"end":{"line":1225,"column":4,"offset":25057}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 遍历随后的节点，加入父节点的 deletions"]}],["$","span","code-segment-2",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-4",{"style":{},"children":["returnFiber"]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}],["$","span","code-segment-6",{"className":"token property-access","style":{},"children":["deletions"]}],["$","span","code-segment-7",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}],["$","span","code-segment-8",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["push"]}],["$","span","code-segment-9",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-10",{"className":"token spread","style":{"color":"hsl(221, 87%, 60%)"},"children":["..."]}],["$","span","code-segment-11",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]]]}]}]}]
a7:["$","p","p-87",{"className":"mb-4 text-lg leading-relaxed","children":"第三步：如果老节点没有了："}]
a8:["$","p","p-88",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/react/diff-4.png","alt":"图片","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/react/diff-4.png","alt":"图片"},"children":[],"position":{"start":{"line":1229,"column":1,"offset":25074},"end":{"line":1229,"column":35,"offset":25108}}}}]}]
a9:["$","p","p-89",{"className":"mb-4 text-lg leading-relaxed","children":"新的节点依次构建链表："}]
aa:["$","div","pre-46,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"...\nif (previousNewFiber == null) {\n  returnFiber.child = newFiber;\n} else {\n  previousNewFiber.sibling = newFiber;\n}\n"}],"position":{"start":{"line":1233,"column":1,"offset":25123},"end":{"line":1240,"column":4,"offset":25250}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token spread","style":{"color":"hsl(221, 87%, 60%)"},"children":["..."]}],["$","span","code-segment-2",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-4",{"style":{},"children":[""]}],["$","span","code-segment-5",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}],["$","span","code-segment-6",{"style":{},"children":[" "]}],["$","span","code-segment-7",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-8",{"style":{},"children":["previousNewFiber "]}],["$","span","code-segment-9",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["=="]}],["$","span","code-segment-10",{"style":{},"children":[" "]}],["$","span","code-segment-11",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}],["$","span","code-segment-12",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-13",{"style":{},"children":[" "]}],["$","span","code-segment-14",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-15",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-17",{"style":{},"children":["  returnFiber"]}],["$","span","code-segment-18",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}],["$","span","code-segment-19",{"className":"token property-access","style":{},"children":["child"]}],["$","span","code-segment-20",{"style":{},"children":[" "]}],["$","span","code-segment-21",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}],["$","span","code-segment-22",{"style":{},"children":[" newFiber"]}],["$","span","code-segment-23",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],["$","span","code-segment-24",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],["$","span","code-segment-26",{"style":{},"children":[""]}],["$","span","code-segment-27",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}],["$","span","code-segment-28",{"style":{},"children":[" "]}],["$","span","code-segment-29",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["else"]}],"$L1324","$L1325","$L1326","$L1327","$L1328","$L1329","$L132a","$L132b","$L132c","$L132d","$L132e","$L132f","$L1330","$L1331","$L1332"]]}]}]}]
ab:["$","p","p-90",{"className":"mb-4 text-lg leading-relaxed","children":"第四步：其他情况，使用 hash 表索引"}]
ac:["$","div","pre-47,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"// 举例1\n// 0 1 [2 3 4 5 6]\n// 0 1 [3 4 5 6 7 2]\n\n// 举例2\n// [0 1 2 3 4 5 6]\n// [2 1 3 4 5]\n\n// 把老节点加入Map\nconst existingChildren = mapRemainingChildren(oldFiber); // new Map()\n// 遍历新节点，通过新节点的key去哈希表中查找节点，找到就复用节点，并且删除哈希表中对应的节点\n"}],"position":{"start":{"line":1244,"column":1,"offset":25274},"end":{"line":1256,"column":4,"offset":25506}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 举例1"]}],["$","span","code-segment-2",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-4",{"style":{},"children":[""]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 0 1 [2 3 4 5 6]"]}],["$","span","code-segment-6",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-8",{"style":{},"children":[""]}],["$","span","code-segment-9",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 0 1 [3 4 5 6 7 2]"]}],["$","span","code-segment-10",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],"\n",["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}],["$","span","code-segment-14",{"style":{},"children":[""]}],["$","span","code-segment-15",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 举例2"]}],["$","span","code-segment-16",{"style":{},"children":["\n"]}],["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}],["$","span","code-segment-18",{"style":{},"children":[""]}],["$","span","code-segment-19",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// [0 1 2 3 4 5 6]"]}],["$","span","code-segment-20",{"style":{},"children":["\n"]}],["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}],"$L1333","$L1334","$L1335","$L1336","\n","$L1337","$L1338","$L1339","$L133a","$L133b","$L133c","$L133d","$L133e","$L133f","$L1340","$L1341","$L1342","$L1343","$L1344","$L1345","$L1346","$L1347","$L1348","$L1349","$L134a","$L134b"]]}]}]}]
ad:["$","p","p-91",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/react/diff-5.png","alt":"图片","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/react/diff-5.png","alt":"图片"},"children":[],"position":{"start":{"line":1258,"column":1,"offset":25508},"end":{"line":1258,"column":35,"offset":25542}}}}]}]
ae:["$","p","p-92",{"className":"mb-4 text-lg leading-relaxed","children":"第五步：新节点遍历完后，若 hash 表中仍然有节点，则把这些节点加入 returnFiber.deletions;"}]
af:["$","h3","h3-15",{"className":"text-xl font-bold mt-4 mb-2","children":"示意代码"}]
134c:Tdb3,// oldfiber的头结点
let oldFiber = returnFiber.alternate?.child;
// 下一个oldFiber | 暂时缓存下一个oldFiber
let nextOldFiber = null;
// 用于判断是returnFiber初次渲染还是更新
let shouldTrackSideEffects = !!returnFiber.alternate;
let previousNewFiber = null;
let newIndex = 0;
// 上一次dom节点插入的最远位置
// old 0 1 2 3 4
// new 2 1 3 4
let lastPlacedIndex = 0;

// *1. 从左边往右遍历，比较新老节点，如果节点可以复用，继续往右，否则就停止
for (; oldFiber && newIndex < newChildren.length; newIndex++) {
  const newChild = newChildren[newIndex];
  if (newChild == null) {
    continue;
  }

  if (oldFiber.index > newIndex) {
    nextOldFiber = oldFiber;
    oldFiber = null;
  } else {
    nextOldFiber = oldFiber.sibling;
  }

  const same = sameNode(newChild, oldFiber);
  if (!same) {
    if (oldFiber == null) {
      oldFiber = nextOldFiber;
    }
    break;
  }
  const newFiber = createFiber(newChild, returnFiber);

  Object.assign(newFiber, {
    stateNode: oldFiber.stateNode,
    alternate: oldFiber,
    flags: Update,
  });

  // 节点更新
  lastPlacedIndex = placeChild(
    newFiber,
    lastPlacedIndex,
    newIndex,
    shouldTrackSideEffects,
  );

  if (previousNewFiber == null) {
    returnFiber.child = newFiber;
  } else {
    previousNewFiber.sibling = newFiber;
  }

  previousNewFiber = newFiber;
  oldFiber = nextOldFiber;
}

// *2. 新节点没了，老节点还有
// 0 1 2
// 0
if (newIndex === newChildren.length) {
  deleteRemainingChildren(returnFiber, oldFiber);
  return;
}

// *3. 初次渲染
// 1）初次渲染
// 2）老节点没了，新节点还有
if (!oldFiber) {
  for (; newIndex < newChildren.length; newIndex++) {
    const newChild = newChildren[newIndex];
    if (newChild == null) {
      continue;
    }
    const newFiber = createFiber(newChild, returnFiber);

    lastPlacedIndex = placeChild(
      newFiber,
      lastPlacedIndex,
      newIndex,
      shouldTrackSideEffects,
    );

    if (previousNewFiber === null) {
      // head node
      returnFiber.child = newFiber;
    } else {
      previousNewFiber.sibling = newFiber;
    }

    previousNewFiber = newFiber;
  }
}

// *4 新老节点都还有
// 小而乱
// old 0 1 [2 3 4]
// new 0 1 [3 4]
// !4.1 把剩下的old单链表构建哈希表
const existingChildren = mapRemainingChildren(oldFiber);

// !4.2 遍历新节点，通过新节点的key去哈希表中查找节点，找到就复用节点，并且删除哈希表中对应的节点
for (; newIndex < newChildren.length; newIndex++) {
  const newChild = newChildren[newIndex];
  if (newChild == null) {
    continue;
  }
  const newFiber = createFiber(newChild, returnFiber);

  // oldFiber
  const matchedFiber = existingChildren.get(newFiber.key || newFiber.index);
  if (matchedFiber) {
    // 节点复用
    Object.assign(newFiber, {
      stateNode: matchedFiber.stateNode,
      alternate: matchedFiber,
      flags: Update,
    });

    existingChildren.delete(newFiber.key || newFiber.index);
  }

  lastPlacedIndex = placeChild(
    newFiber,
    lastPlacedIndex,
    newIndex,
    shouldTrackSideEffects,
  );

  if (previousNewFiber == null) {
    returnFiber.child = newFiber;
  } else {
    previousNewFiber.sibling = newFiber;
  }
  previousNewFiber = newFiber;
}

// *5 old的哈希表中还有值，遍历哈希表删除所有old
if (shouldTrackSideEffects) {
  existingChildren.forEach((child) => deleteChild(returnFiber, child));
}
b0:["$","div","pre-48,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"$134c"}],"position":{"start":{"line":1264,"column":1,"offset":25614},"end":{"line":1409,"column":4,"offset":28738}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":"$L134d"}]}]
b1:["$","p","p-93",{"className":"mb-4 text-lg leading-relaxed","children":"其中工具函数："}]
134e:T4fc,// 初次渲染，只是记录下标
// 更新，检查节点是否移动
function placeChild(
  newFiber,
  lastPlacedIndex,
  newIndex,
  shouldTrackSideEffects,
) {
  newFiber.index = newIndex;
  if (!shouldTrackSideEffects) {
    // 父节点初次渲染
    return lastPlacedIndex;
  }
  // 父节点更新
  // 子节点是初次渲染还是更新呢
  const current = newFiber.alternate;
  if (current) {
    const oldIndex = current.index;
    // 子节点是更新
    // lastPlacedIndex 记录了上次dom节点的相对更新节点的最远位置
    // old 0 1 2 3 4
    // new 2 1 3 4
    // 2 1(6) 3 4
    if (oldIndex < lastPlacedIndex) {
      // move
      newFiber.flags |= Placement;
      return lastPlacedIndex;
    } else {
      return oldIndex;
    }
  } else {
    // 子节点是初次渲染
    newFiber.flags |= Placement;
    return lastPlacedIndex;
  }
}

// hash表
function mapRemainingChildren(currentFirstChild) {
  const existingChildren = new Map();

  let existingChild = currentFirstChild;
  while (existingChild) {
    // key: value
    // key||index: fiber
    existingChildren.set(
      existingChild.key || existingChild.index,
      existingChild,
    );
    existingChild = existingChild.sibling;
  }

  return existingChildren;
}
b2:["$","div","pre-49,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"$134e"}],"position":{"start":{"line":1413,"column":1,"offset":28749},"end":{"line":1468,"column":4,"offset":29872}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 初次渲染，只是记录下标"]}],["$","span","code-segment-2",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-4",{"style":{},"children":[""]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 更新，检查节点是否移动"]}],["$","span","code-segment-6",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-8",{"style":{},"children":[""]}],["$","span","code-segment-9",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}],["$","span","code-segment-10",{"style":{},"children":[" "]}],["$","span","code-segment-11",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["placeChild"]}],["$","span","code-segment-12",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-13",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],"$L134f","$L1350","$L1351","$L1352","$L1353","$L1354","$L1355","$L1356","$L1357","$L1358","$L1359","$L135a","$L135b","$L135c","$L135d","$L135e","$L135f","$L1360","$L1361","$L1362","$L1363","$L1364","$L1365","$L1366","$L1367","$L1368","$L1369","$L136a","$L136b","$L136c","$L136d","$L136e","$L136f","$L1370","$L1371","$L1372","$L1373","$L1374","$L1375","$L1376","$L1377","$L1378","$L1379","$L137a","$L137b","$L137c","$L137d","$L137e","$L137f","$L1380","$L1381","$L1382","$L1383","$L1384","$L1385","$L1386","$L1387","$L1388","$L1389","$L138a","$L138b","$L138c","$L138d","$L138e","$L138f","$L1390","$L1391","$L1392","$L1393","$L1394","$L1395","$L1396","$L1397","$L1398","$L1399","$L139a","$L139b","$L139c","$L139d","$L139e","$L139f","$L13a0","$L13a1","$L13a2","$L13a3","$L13a4","$L13a5","$L13a6","$L13a7","$L13a8","$L13a9","$L13aa","$L13ab","$L13ac","$L13ad","$L13ae","$L13af","$L13b0","$L13b1","$L13b2","$L13b3","$L13b4","$L13b5","$L13b6","$L13b7","$L13b8","$L13b9","$L13ba","$L13bb","$L13bc","$L13bd","$L13be","$L13bf","$L13c0","$L13c1","$L13c2","$L13c3","$L13c4","$L13c5","$L13c6","$L13c7","$L13c8","$L13c9","$L13ca","$L13cb","$L13cc","$L13cd","$L13ce","$L13cf","$L13d0","$L13d1","$L13d2","$L13d3","$L13d4","$L13d5","$L13d6","$L13d7","$L13d8","$L13d9","$L13da","$L13db","$L13dc","$L13dd","$L13de","$L13df","$L13e0","$L13e1","$L13e2","$L13e3","$L13e4","$L13e5","$L13e6","$L13e7","$L13e8","$L13e9","$L13ea","$L13eb","$L13ec","$L13ed","$L13ee","$L13ef","$L13f0","$L13f1","$L13f2","$L13f3","$L13f4","$L13f5","$L13f6","$L13f7","$L13f8","$L13f9","$L13fa","$L13fb","$L13fc","$L13fd","$L13fe","$L13ff","$L1400","$L1401","$L1402","$L1403","$L1404","$L1405","$L1406","$L1407","$L1408","$L1409","$L140a","$L140b","$L140c","$L140d","$L140e","$L140f","$L1410","$L1411","$L1412","$L1413","$L1414","$L1415","$L1416","$L1417","\n","$L1418","$L1419","$L141a","$L141b","$L141c","$L141d","$L141e","$L141f","$L1420","$L1421","$L1422","$L1423","$L1424","$L1425","$L1426","$L1427","$L1428","$L1429","$L142a","$L142b","$L142c","$L142d","$L142e","$L142f","$L1430","$L1431","$L1432","$L1433","$L1434","\n","$L1435","$L1436","$L1437","$L1438","$L1439","$L143a","$L143b","$L143c","$L143d","$L143e","$L143f","$L1440","$L1441","$L1442","$L1443","$L1444","$L1445","$L1446","$L1447","$L1448","$L1449","$L144a","$L144b","$L144c","$L144d","$L144e","$L144f","$L1450","$L1451","$L1452","$L1453","$L1454","$L1455","$L1456","$L1457","$L1458","$L1459","$L145a","$L145b","$L145c","$L145d","$L145e","$L145f","$L1460","$L1461","$L1462","$L1463","$L1464","$L1465","$L1466","$L1467","$L1468","$L1469","$L146a","$L146b","$L146c","$L146d","$L146e","$L146f","$L1470","$L1471","$L1472","$L1473","$L1474","$L1475","\n","$L1476","$L1477","$L1478","$L1479","$L147a","$L147b","$L147c","$L147d","$L147e"]]}]}]}]
b3:["$","p","p-94",{"className":"mb-4 text-lg leading-relaxed","children":"在 commitWorker 里加入："}]
b4:["$","div","pre-50,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"if (flags & Placement && stateNode) {\n  // 1\n  // 0 1 2 3 4\n  // 2 1 3 4\n  const before = getHostSibling(wip.sibling);\n  insertOrAppendPlacementNode(stateNode, before, parentNode);\n  // parentNode.appendChild(stateNode);\n}\n\n...\nfunction getHostSibling(sibling) {\n  while (sibling) {\n    if (sibling.stateNode && !(sibling.flags & Placement)) {\n      return sibling.stateNode;\n    }\n    sibling = sibling.sibling;\n  }\n  return null;\n}\nfunction insertOrAppendPlacementNode(stateNode, before, parentNode) {\n  if (before) {\n    parentNode.insertBefore(stateNode, before);\n  } else {\n    parentNode.appendChild(stateNode);\n  }\n}\n"}],"position":{"start":{"line":1472,"column":1,"offset":29895},"end":{"line":1499,"column":4,"offset":30528}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}],["$","span","code-segment-2",{"style":{},"children":[" "]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}],["$","span","code-segment-4",{"style":{},"children":["flags "]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["&"]}],["$","span","code-segment-6",{"style":{},"children":[" "]}],["$","span","code-segment-7",{"className":"token maybe-class-name","style":{},"children":["Placement"]}],["$","span","code-segment-8",{"style":{},"children":[" "]}],["$","span","code-segment-9",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["&&"]}],["$","span","code-segment-10",{"style":{},"children":[" stateNode"]}],["$","span","code-segment-11",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}],["$","span","code-segment-12",{"style":{},"children":[" "]}],["$","span","code-segment-13",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-14",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-16",{"style":{},"children":["  "]}],["$","span","code-segment-17",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 1"]}],["$","span","code-segment-18",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-20",{"style":{},"children":["  "]}],["$","span","code-segment-21",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 0 1 2 3 4"]}],["$","span","code-segment-22",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],"$L147f","$L1480","$L1481","$L1482","$L1483","$L1484","$L1485","$L1486","$L1487","$L1488","$L1489","$L148a","$L148b","$L148c","$L148d","$L148e","$L148f","$L1490","$L1491","$L1492","$L1493","$L1494","$L1495","$L1496","$L1497","$L1498","$L1499","$L149a","$L149b","$L149c","$L149d","$L149e","$L149f","$L14a0","$L14a1","$L14a2","$L14a3","$L14a4","\n","$L14a5","$L14a6","$L14a7","$L14a8","$L14a9","$L14aa","$L14ab","$L14ac","$L14ad","$L14ae","$L14af","$L14b0","$L14b1","$L14b2","$L14b3","$L14b4","$L14b5","$L14b6","$L14b7","$L14b8","$L14b9","$L14ba","$L14bb","$L14bc","$L14bd","$L14be","$L14bf","$L14c0","$L14c1","$L14c2","$L14c3","$L14c4","$L14c5","$L14c6","$L14c7","$L14c8","$L14c9","$L14ca","$L14cb","$L14cc","$L14cd","$L14ce","$L14cf","$L14d0","$L14d1","$L14d2","$L14d3","$L14d4","$L14d5","$L14d6","$L14d7","$L14d8","$L14d9","$L14da","$L14db","$L14dc","$L14dd","$L14de","$L14df","$L14e0","$L14e1","$L14e2","$L14e3","$L14e4","$L14e5","$L14e6","$L14e7","$L14e8","$L14e9","$L14ea","$L14eb","$L14ec","$L14ed","$L14ee","$L14ef","$L14f0","$L14f1","$L14f2","$L14f3","$L14f4","$L14f5","$L14f6","$L14f7","$L14f8","$L14f9","$L14fa","$L14fb","$L14fc","$L14fd","$L14fe","$L14ff","$L1500","$L1501","$L1502","$L1503","$L1504","$L1505","$L1506","$L1507","$L1508","$L1509","$L150a","$L150b","$L150c","$L150d","$L150e","$L150f","$L1510","$L1511","$L1512","$L1513","$L1514","$L1515","$L1516","$L1517","$L1518","$L1519","$L151a","$L151b","$L151c","$L151d","$L151e","$L151f","$L1520","$L1521","$L1522","$L1523","$L1524","$L1525","$L1526","$L1527","$L1528","$L1529","$L152a","$L152b","$L152c","$L152d","$L152e","$L152f","$L1530","$L1531","$L1532","$L1533","$L1534","$L1535"]]}]}]}]
b5:["$","div","pre-51,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-jsx"]},"children":[{"type":"text","value":"/**\n * compact: true\n * inline: true\n */\nimport React from 'react';\nimport Giscus from '@giscus/react';\nimport { usePrefersColor } from 'dumi';\n\nexport default function Main() {\n  const [color] = usePrefersColor();\n\n  return (\n    <section style={{ marginTop: '32px' }}>\n      <Giscus\n        id=\"comments\"\n        reactionsEnabled=\"1\"\n        emitMetadata=\"0\"\n        inputPosition=\"bottom\"\n        loading=\"lazy\"\n        src=\"https://giscus.app/client.js\"\n        repo=\"UMCloud-FE\"\n        repoId=\"R_kgDOIYRu5Q\"\n        category=\"Announcements\"\n        categoryId=\"DIC_kwDOIYRu5c4CU1sl\"\n        mapping=\"URL\"\n        strict=\"0\"\n        reactionsEnabled=\"1\"\n        emitMetadata=\"1\"\n        inputPosition=\"bottom\"\n        theme={color === 'dark' ? 'dark_tritanopia' : 'light_tritanopia'}\n        lang=\"zh-CN\"\n        loading=\"lazy\"\n        crossorigin=\"anonymous\"\n        async={true}\n        // theme={giscusTheme}\n      />\n    </section>\n  );\n}\n"}],"position":{"start":{"line":1501,"column":1,"offset":30530},"end":{"line":1541,"column":4,"offset":31488}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["/**\n"]}],["$","span","code-segment-2",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}]," * compact: true\n"]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}]," * inline: true\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[" */"]}],["$","span","code-segment-6",{"style":{},"children":["\n"]}],["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}],["$","span","code-segment-8",{"style":{},"children":[""]}],["$","span","code-segment-9",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["import"]}],"$L1536","$L1537","$L1538","$L1539","$L153a","$L153b","$L153c","$L153d","$L153e","$L153f","$L1540","$L1541","$L1542","$L1543","$L1544","$L1545","$L1546","$L1547","$L1548","$L1549","$L154a","$L154b","$L154c","$L154d","$L154e","$L154f","$L1550","$L1551","$L1552","$L1553","$L1554","$L1555","$L1556","\n","$L1557","$L1558","$L1559","$L155a","$L155b","$L155c","$L155d","$L155e","$L155f","$L1560","$L1561","$L1562","$L1563","$L1564","$L1565","$L1566","$L1567","$L1568","$L1569","$L156a","$L156b","$L156c","$L156d","$L156e","$L156f","$L1570","$L1571","$L1572","$L1573","$L1574","\n","$L1575","$L1576","$L1577","$L1578","$L1579","$L157a","$L157b","$L157c","$L157d","$L157e","$L157f","$L1580","$L1581","$L1582","$L1583","$L1584","$L1585","$L1586","$L1587","$L1588","$L1589","$L158a","$L158b","$L158c","$L158d","$L158e","$L158f","$L1590","$L1591","$L1592","$L1593","$L1594","$L1595","$L1596","$L1597","$L1598","$L1599","$L159a","$L159b","$L159c","$L159d","$L159e","$L159f","$L15a0","$L15a1","$L15a2","$L15a3","$L15a4","$L15a5","$L15a6","$L15a7","$L15a8","$L15a9","$L15aa","$L15ab","$L15ac","$L15ad","$L15ae","$L15af","$L15b0","$L15b1","$L15b2","$L15b3","$L15b4","$L15b5","$L15b6","$L15b7","$L15b8","$L15b9","$L15ba","$L15bb","$L15bc","$L15bd","$L15be","$L15bf","$L15c0","$L15c1","$L15c2","$L15c3","$L15c4","$L15c5","$L15c6","$L15c7","$L15c8","$L15c9","$L15ca","$L15cb","$L15cc","$L15cd","$L15ce","$L15cf","$L15d0","$L15d1","$L15d2","$L15d3","$L15d4","$L15d5","$L15d6","$L15d7","$L15d8","$L15d9","$L15da","$L15db","$L15dc","$L15dd","$L15de","$L15df","$L15e0","$L15e1","$L15e2","$L15e3","$L15e4","$L15e5","$L15e6","$L15e7","$L15e8","$L15e9","$L15ea","$L15eb","$L15ec","$L15ed","$L15ee","$L15ef","$L15f0","$L15f1","$L15f2","$L15f3","$L15f4","$L15f5","$L15f6","$L15f7","$L15f8","$L15f9","$L15fa","$L15fb","$L15fc","$L15fd","$L15fe","$L15ff","$L1600","$L1601","$L1602","$L1603","$L1604","$L1605","$L1606","$L1607","$L1608","$L1609","$L160a","$L160b","$L160c","$L160d","$L160e","$L160f","$L1610","$L1611","$L1612","$L1613","$L1614","$L1615","$L1616","$L1617","$L1618","$L1619","$L161a","$L161b","$L161c","$L161d","$L161e","$L161f","$L1620","$L1621","$L1622","$L1623","$L1624","$L1625","$L1626","$L1627","$L1628","$L1629","$L162a","$L162b","$L162c","$L162d","$L162e","$L162f","$L1630","$L1631","$L1632","$L1633","$L1634","$L1635","$L1636","$L1637","$L1638","$L1639","$L163a","$L163b","$L163c","$L163d","$L163e","$L163f","$L1640","$L1641","$L1642","$L1643","$L1644","$L1645","$L1646","$L1647","$L1648","$L1649","$L164a","$L164b","$L164c","$L164d","$L164e","$L164f","$L1650","$L1651","$L1652","$L1653"]]}]}]}]
b6:["$","$L1654",null,{"children":["$","$1655",null,{"name":"Next.MetadataOutlet","children":"$@1656"}]}]
b7:["$","span","code-segment-28",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["/"]}]
b8:["$","span","code-segment-29",{"style":{},"children":["article"]}]
b9:["$","span","code-segment-30",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[">"]}]
ba:["$","span","code-segment-31",{"style":{},"children":["\n"]}]
bb:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
bc:["$","span","code-segment-33",{"style":{},"children":["  "]}]
bd:["$","span","code-segment-34",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["<"]}]
be:["$","span","code-segment-35",{"style":{},"children":["p"]}]
bf:["$","span","code-segment-36",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[">"]}]
c0:["$","span","code-segment-37",{"style":{},"children":["\n"]}]
c1:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
c2:["$","span","code-segment-39",{"style":{},"children":["    "]}]
c3:["$","span","code-segment-40",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["<"]}]
c4:["$","span","code-segment-41",{"style":{},"children":["strong"]}]
c5:["$","span","code-segment-42",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[">"]}]
c6:["$","span","code-segment-43",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["<"]}]
c7:["$","span","code-segment-44",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["/"]}]
c8:["$","span","code-segment-45",{"style":{},"children":["strong"]}]
c9:["$","span","code-segment-46",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[">"]}]
ca:["$","span","code-segment-47",{"style":{},"children":["\n"]}]
cb:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
cc:["$","span","code-segment-49",{"style":{},"children":["  "]}]
cd:["$","span","code-segment-50",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["<"]}]
ce:["$","span","code-segment-51",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["/"]}]
cf:["$","span","code-segment-52",{"style":{},"children":["p"]}]
d0:["$","span","code-segment-53",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[">"]}]
d1:["$","span","code-segment-54",{"style":{},"children":["\n"]}]
d2:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
d3:["$","span","code-segment-56",{"style":{},"children":["  "]}]
d4:["$","span","code-segment-57",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["<"]}]
d5:["$","span","code-segment-58",{"style":{},"children":["a"]}]
d6:["$","span","code-segment-59",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[">"]}]
d7:["$","span","code-segment-60",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["<"]}]
d8:["$","span","code-segment-61",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["/"]}]
d9:["$","span","code-segment-62",{"style":{},"children":["a"]}]
da:["$","span","code-segment-63",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[">"]}]
db:["$","span","code-segment-64",{"style":{},"children":["\n"]}]
dc:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
dd:["$","span","code-segment-66",{"style":{},"children":[""]}]
de:["$","span","code-segment-67",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["<"]}]
df:["$","span","code-segment-68",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["/"]}]
e0:["$","span","code-segment-69",{"style":{},"children":["div"]}]
e1:["$","span","code-segment-70",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[">"]}]
e2:["$","span","code-segment-30",{"style":{},"children":[""]}]
e3:["$","span","code-segment-31",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}]
e4:["$","span","code-segment-32",{"style":{},"children":[" "]}]
e5:["$","span","code-segment-33",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
e6:["$","span","code-segment-34",{"style":{},"children":[" "]}]
e7:["$","span","code-segment-35",{"className":"token maybe-class-name","style":{},"children":["IndeterminateComponent"]}]
e8:["$","span","code-segment-36",{"style":{},"children":[" "]}]
e9:["$","span","code-segment-37",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
ea:["$","span","code-segment-38",{"style":{},"children":[" "]}]
eb:["$","span","code-segment-39",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["2"]}]
ec:["$","span","code-segment-40",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
ed:["$","span","code-segment-41",{"style":{},"children":["\n"]}]
ee:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
ef:["$","span","code-segment-43",{"style":{},"children":[""]}]
f0:["$","span","code-segment-44",{"className":"token spread","style":{"color":"hsl(221, 87%, 60%)"},"children":["..."]}]
f1:["$","span","code-segment-45",{"style":{},"children":["\n"]}]
f2:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
f3:["$","span","code-segment-47",{"style":{},"children":[""]}]
f4:["$","span","code-segment-48",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}]
f5:["$","span","code-segment-49",{"style":{},"children":[" "]}]
f6:["$","span","code-segment-50",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
f7:["$","span","code-segment-51",{"style":{},"children":[" "]}]
f8:["$","span","code-segment-52",{"className":"token maybe-class-name","style":{},"children":["HostComponent"]}]
f9:["$","span","code-segment-53",{"style":{},"children":[" "]}]
fa:["$","span","code-segment-54",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
fb:["$","span","code-segment-55",{"style":{},"children":[" "]}]
fc:["$","span","code-segment-56",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["5"]}]
fd:["$","span","code-segment-57",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
fe:["$","span","code-segment-58",{"style":{},"children":["\n"]}]
ff:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
100:["$","span","code-segment-60",{"style":{},"children":[""]}]
101:["$","span","code-segment-61",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}]
102:["$","span","code-segment-62",{"style":{},"children":[" "]}]
103:["$","span","code-segment-63",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
104:["$","span","code-segment-64",{"style":{},"children":[" "]}]
105:["$","span","code-segment-65",{"className":"token maybe-class-name","style":{},"children":["HostText"]}]
106:["$","span","code-segment-66",{"style":{},"children":[" "]}]
107:["$","span","code-segment-67",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
108:["$","span","code-segment-68",{"style":{},"children":[" "]}]
109:["$","span","code-segment-69",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["6"]}]
10a:["$","span","code-segment-70",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
10b:["$","span","code-segment-71",{"style":{},"children":["\n"]}]
10c:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
10d:["$","span","code-segment-73",{"style":{},"children":[""]}]
10e:["$","span","code-segment-74",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}]
10f:["$","span","code-segment-75",{"style":{},"children":[" "]}]
110:["$","span","code-segment-76",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
111:["$","span","code-segment-77",{"style":{},"children":[" "]}]
112:["$","span","code-segment-78",{"className":"token maybe-class-name","style":{},"children":["Fragment"]}]
113:["$","span","code-segment-79",{"style":{},"children":[" "]}]
114:["$","span","code-segment-80",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
115:["$","span","code-segment-81",{"style":{},"children":[" "]}]
116:["$","span","code-segment-82",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["7"]}]
117:["$","span","code-segment-83",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
118:["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}]
119:["$","span","code-segment-19",{"style":{},"children":["  "]}]
11a:["$","span","code-segment-20",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
11b:["$","span","code-segment-21",{"style":{},"children":[" fiber "]}]
11c:["$","span","code-segment-22",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
11d:["$","span","code-segment-23",{"style":{},"children":[" "]}]
11e:["$","span","code-segment-24",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
11f:["$","span","code-segment-25",{"style":{},"children":["\n"]}]
120:["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}]
121:["$","span","code-segment-27",{"style":{},"children":["    "]}]
122:["$","span","code-segment-28",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["type"]}]
123:["$","span","code-segment-29",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
124:["$","span","code-segment-30",{"style":{},"children":[" vnode"]}]
125:["$","span","code-segment-31",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
126:["$","span","code-segment-32",{"className":"token property-access","style":{},"children":["type"]}]
127:["$","span","code-segment-33",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
128:["$","span","code-segment-34",{"style":{},"children":[" "]}]
129:["$","span","code-segment-35",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 表示fiber的真实类型 这个和elementType大部分情况下是一样的 在使用了懒加载之类的功能时可能会不一样。 区别于 tag，type可以自定义，当是组件时 type可以是这个组件的构造函数，用户创建元素时使用"]}]
12a:["$","span","code-segment-36",{"style":{},"children":["\n"]}]
12b:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
12c:["$","span","code-segment-38",{"style":{},"children":["    "]}]
12d:["$","span","code-segment-39",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["key"]}]
12e:["$","span","code-segment-40",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
12f:["$","span","code-segment-41",{"style":{},"children":[" vnode"]}]
130:["$","span","code-segment-42",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
131:["$","span","code-segment-43",{"className":"token property-access","style":{},"children":["key"]}]
132:["$","span","code-segment-44",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
133:["$","span","code-segment-45",{"style":{},"children":["\n"]}]
134:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
135:["$","span","code-segment-47",{"style":{},"children":["    "]}]
136:["$","span","code-segment-48",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["props"]}]
137:["$","span","code-segment-49",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
138:["$","span","code-segment-50",{"style":{},"children":[" vnode"]}]
139:["$","span","code-segment-51",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
13a:["$","span","code-segment-52",{"className":"token property-access","style":{},"children":["props"]}]
13b:["$","span","code-segment-53",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
13c:["$","span","code-segment-54",{"style":{},"children":[" "]}]
13d:["$","span","code-segment-55",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 属性"]}]
13e:["$","span","code-segment-56",{"style":{},"children":["\n"]}]
13f:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
140:["$","span","code-segment-58",{"style":{},"children":["    "]}]
141:["$","span","code-segment-59",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 第一个子节点fiber"]}]
142:["$","span","code-segment-60",{"style":{},"children":["\n"]}]
143:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
144:["$","span","code-segment-62",{"style":{},"children":["    "]}]
145:["$","span","code-segment-63",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["child"]}]
146:["$","span","code-segment-64",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
147:["$","span","code-segment-65",{"style":{},"children":[" "]}]
148:["$","span","code-segment-66",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}]
149:["$","span","code-segment-67",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
14a:["$","span","code-segment-68",{"style":{},"children":["\n"]}]
14b:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
14c:["$","span","code-segment-70",{"style":{},"children":["    "]}]
14d:["$","span","code-segment-71",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 下一个兄弟fiber"]}]
14e:["$","span","code-segment-72",{"style":{},"children":["\n"]}]
14f:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
150:["$","span","code-segment-74",{"style":{},"children":["    "]}]
151:["$","span","code-segment-75",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["sibling"]}]
152:["$","span","code-segment-76",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
153:["$","span","code-segment-77",{"style":{},"children":[" "]}]
154:["$","span","code-segment-78",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}]
155:["$","span","code-segment-79",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
156:["$","span","code-segment-80",{"style":{},"children":["\n"]}]
157:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
158:["$","span","code-segment-82",{"style":{},"children":["    "]}]
159:["$","span","code-segment-83",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 父fiber"]}]
15a:["$","span","code-segment-84",{"style":{},"children":["\n"]}]
15b:["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[12]}]
15c:["$","span","code-segment-86",{"style":{},"children":["    "]}]
15d:["$","span","code-segment-87",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
15e:["$","span","code-segment-88",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
15f:["$","span","code-segment-89",{"style":{},"children":[" returnFiber"]}]
160:["$","span","code-segment-90",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
161:["$","span","code-segment-91",{"style":{},"children":["\n"]}]
162:["$","span","line-number--13",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[13]}]
163:["$","span","code-segment-93",{"style":{},"children":["    "]}]
164:["$","span","code-segment-94",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// dom或实例"]}]
165:["$","span","code-segment-95",{"style":{},"children":["\n"]}]
166:["$","span","line-number--14",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[14]}]
167:["$","span","code-segment-97",{"style":{},"children":["    "]}]
168:["$","span","code-segment-98",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 函数式组件为null，他的实例存在child里，这也是为什么render里只能有一个跟节点"]}]
169:["$","span","code-segment-99",{"style":{},"children":["\n"]}]
16a:["$","span","line-number--15",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[15]}]
16b:["$","span","code-segment-101",{"style":{},"children":["    "]}]
16c:["$","span","code-segment-102",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["stateNode"]}]
16d:["$","span","code-segment-103",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
16e:["$","span","code-segment-104",{"style":{},"children":[" "]}]
16f:["$","span","code-segment-105",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}]
170:["$","span","code-segment-106",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
171:["$","span","code-segment-107",{"style":{},"children":["\n"]}]
172:["$","span","line-number--16",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[16]}]
173:["$","span","code-segment-109",{"style":{},"children":["    "]}]
174:["$","span","code-segment-110",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 节点下标"]}]
175:["$","span","code-segment-111",{"style":{},"children":["\n"]}]
176:["$","span","line-number--17",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[17]}]
177:["$","span","code-segment-113",{"style":{},"children":["    "]}]
178:["$","span","code-segment-114",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["index"]}]
179:["$","span","code-segment-115",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
17a:["$","span","code-segment-116",{"style":{},"children":[" "]}]
17b:["$","span","code-segment-117",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}]
17c:["$","span","code-segment-118",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
17d:["$","span","code-segment-119",{"style":{},"children":["\n"]}]
17e:["$","span","line-number--18",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[18]}]
17f:["$","span","code-segment-121",{"style":{},"children":["    "]}]
180:["$","span","code-segment-122",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// old fiber"]}]
181:["$","span","code-segment-123",{"style":{},"children":["\n"]}]
182:["$","span","line-number--19",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[19]}]
183:["$","span","code-segment-125",{"style":{},"children":["    "]}]
184:["$","span","code-segment-126",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["alternate"]}]
185:["$","span","code-segment-127",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
186:["$","span","code-segment-128",{"style":{},"children":[" "]}]
187:["$","span","code-segment-129",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}]
188:["$","span","code-segment-130",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
189:["$","span","code-segment-131",{"style":{},"children":["\n"]}]
18a:["$","span","line-number--20",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[20]}]
18b:["$","span","code-segment-133",{"style":{},"children":["    "]}]
18c:["$","span","code-segment-134",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["flags"]}]
18d:["$","span","code-segment-135",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
18e:["$","span","code-segment-136",{"style":{},"children":[" "]}]
18f:["$","span","code-segment-137",{"className":"token maybe-class-name","style":{},"children":["Placement"]}]
190:["$","span","code-segment-138",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
191:["$","span","code-segment-139",{"style":{},"children":["\n"]}]
192:["$","span","line-number--21",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[21]}]
193:["$","span","code-segment-141",{"style":{},"children":["    "]}]
194:["$","span","code-segment-142",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["tag"]}]
195:["$","span","code-segment-143",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
196:["$","span","code-segment-144",{"style":{},"children":[" "]}]
197:["$","span","code-segment-145",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}]
198:["$","span","code-segment-146",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
199:["$","span","code-segment-147",{"style":{},"children":["\n"]}]
19a:["$","span","line-number--22",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[22]}]
19b:["$","span","code-segment-149",{"style":{},"children":["  "]}]
19c:["$","span","code-segment-150",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
19d:["$","span","code-segment-151",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
19e:["$","span","code-segment-152",{"style":{},"children":["\n"]}]
19f:["$","span","line-number--23",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[23]}]
1a0:["$","span","line-number--24",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[24]}]
1a1:["$","span","code-segment-156",{"style":{},"children":["  "]}]
1a2:["$","span","code-segment-157",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
1a3:["$","span","code-segment-158",{"style":{},"children":[" "]}]
1a4:["$","span","code-segment-159",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1a5:["$","span","code-segment-160",{"style":{},"children":[" type "]}]
1a6:["$","span","code-segment-161",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
1a7:["$","span","code-segment-162",{"style":{},"children":[" "]}]
1a8:["$","span","code-segment-163",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
1a9:["$","span","code-segment-164",{"style":{},"children":[" vnode"]}]
1aa:["$","span","code-segment-165",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1ab:["$","span","code-segment-166",{"style":{},"children":["\n"]}]
1ac:["$","span","line-number--25",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[25]}]
1ad:["$","span","line-number--26",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[26]}]
1ae:["$","span","code-segment-170",{"style":{},"children":["  "]}]
1af:["$","span","code-segment-171",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 打 tag"]}]
1b0:["$","span","code-segment-172",{"style":{},"children":["\n"]}]
1b1:["$","span","line-number--27",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[27]}]
1b2:["$","span","code-segment-174",{"style":{},"children":["  "]}]
1b3:["$","span","code-segment-175",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
1b4:["$","span","code-segment-176",{"style":{},"children":[" "]}]
1b5:["$","span","code-segment-177",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1b6:["$","span","code-segment-178",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["isStr"]}]
1b7:["$","span","code-segment-179",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1b8:["$","span","code-segment-180",{"style":{},"children":["type"]}]
1b9:["$","span","code-segment-181",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1ba:["$","span","code-segment-182",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1bb:["$","span","code-segment-183",{"style":{},"children":[" "]}]
1bc:["$","span","code-segment-184",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1bd:["$","span","code-segment-185",{"style":{},"children":["\n"]}]
1be:["$","span","line-number--28",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[28]}]
1bf:["$","span","code-segment-187",{"style":{},"children":["    "]}]
1c0:["$","span","code-segment-188",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 原生标签"]}]
1c1:["$","span","code-segment-189",{"style":{},"children":["\n"]}]
1c2:["$","span","line-number--29",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[29]}]
1c3:["$","span","code-segment-191",{"style":{},"children":["    fiber"]}]
1c4:["$","span","code-segment-192",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
1c5:["$","span","code-segment-193",{"className":"token property-access","style":{},"children":["tag"]}]
1c6:["$","span","code-segment-194",{"style":{},"children":[" "]}]
1c7:["$","span","code-segment-195",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
1c8:["$","span","code-segment-196",{"style":{},"children":[" "]}]
1c9:["$","span","code-segment-197",{"className":"token maybe-class-name","style":{},"children":["HostComponent"]}]
1ca:["$","span","code-segment-198",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1cb:["$","span","code-segment-199",{"style":{},"children":[" "]}]
1cc:["$","span","code-segment-200",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 传入的是dom.nodeName"]}]
1cd:["$","span","code-segment-201",{"style":{},"children":["\n"]}]
1ce:["$","span","line-number--30",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[30]}]
1cf:["$","span","code-segment-203",{"style":{},"children":["  "]}]
1d0:["$","span","code-segment-204",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
1d1:["$","span","code-segment-205",{"style":{},"children":[" "]}]
1d2:["$","span","code-segment-206",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["else"]}]
1d3:["$","span","code-segment-207",{"style":{},"children":[" "]}]
1d4:["$","span","code-segment-208",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
1d5:["$","span","code-segment-209",{"style":{},"children":[" "]}]
1d6:["$","span","code-segment-210",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1d7:["$","span","code-segment-211",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["isFn"]}]
1d8:["$","span","code-segment-212",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1d9:["$","span","code-segment-213",{"style":{},"children":["type"]}]
1da:["$","span","code-segment-214",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1db:["$","span","code-segment-215",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1dc:["$","span","code-segment-216",{"style":{},"children":[" "]}]
1dd:["$","span","code-segment-217",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1de:["$","span","code-segment-218",{"style":{},"children":["\n"]}]
1df:["$","span","line-number--31",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[31]}]
1e0:["$","span","code-segment-220",{"style":{},"children":["    "]}]
1e1:["$","span","code-segment-221",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 函数组件 类组件"]}]
1e2:["$","span","code-segment-222",{"style":{},"children":["\n"]}]
1e3:["$","span","line-number--32",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[32]}]
1e4:["$","span","code-segment-224",{"style":{},"children":["    fiber"]}]
1e5:["$","span","code-segment-225",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
1e6:["$","span","code-segment-226",{"className":"token property-access","style":{},"children":["tag"]}]
1e7:["$","span","code-segment-227",{"style":{},"children":[" "]}]
1e8:["$","span","code-segment-228",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
1e9:["$","span","code-segment-229",{"style":{},"children":[" type"]}]
1ea:["$","span","code-segment-230",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
1eb:["$","span","code-segment-231",{"className":"token property-access","style":{},"children":["prototype"]}]
1ec:["$","span","code-segment-232",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
1ed:["$","span","code-segment-233",{"className":"token property-access","style":{},"children":["isReactComponent"]}]
1ee:["$","span","code-segment-234",{"style":{},"children":["\n"]}]
1ef:["$","span","line-number--33",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[33]}]
1f0:["$","span","code-segment-236",{"style":{},"children":["      "]}]
1f1:["$","span","code-segment-237",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["?"]}]
1f2:["$","span","code-segment-238",{"style":{},"children":[" "]}]
1f3:["$","span","code-segment-239",{"className":"token maybe-class-name","style":{},"children":["ClassComponent"]}]
1f4:["$","span","code-segment-240",{"style":{},"children":["\n"]}]
1f5:["$","span","line-number--34",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[34]}]
1f6:["$","span","code-segment-242",{"style":{},"children":["      "]}]
1f7:["$","span","code-segment-243",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
1f8:["$","span","code-segment-244",{"style":{},"children":[" "]}]
1f9:["$","span","code-segment-245",{"className":"token maybe-class-name","style":{},"children":["FunctionComponent"]}]
1fa:["$","span","code-segment-246",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1fb:["$","span","code-segment-247",{"style":{},"children":["\n"]}]
1fc:["$","span","line-number--35",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[35]}]
1fd:["$","span","code-segment-249",{"style":{},"children":["  "]}]
1fe:["$","span","code-segment-250",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
1ff:["$","span","code-segment-251",{"style":{},"children":[" "]}]
200:["$","span","code-segment-252",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["else"]}]
201:["$","span","code-segment-253",{"style":{},"children":[" "]}]
202:["$","span","code-segment-254",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
203:["$","span","code-segment-255",{"style":{},"children":[" "]}]
204:["$","span","code-segment-256",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
205:["$","span","code-segment-257",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["isUndefined"]}]
206:["$","span","code-segment-258",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
207:["$","span","code-segment-259",{"style":{},"children":["type"]}]
208:["$","span","code-segment-260",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
209:["$","span","code-segment-261",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
20a:["$","span","code-segment-262",{"style":{},"children":[" "]}]
20b:["$","span","code-segment-263",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
20c:["$","span","code-segment-264",{"style":{},"children":["\n"]}]
20d:["$","span","line-number--36",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[36]}]
20e:["$","span","code-segment-266",{"style":{},"children":["    "]}]
20f:["$","span","code-segment-267",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 此时是纯文本或数字节点"]}]
210:["$","span","code-segment-268",{"style":{},"children":["\n"]}]
211:["$","span","line-number--37",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[37]}]
212:["$","span","code-segment-270",{"style":{},"children":["    fiber"]}]
213:["$","span","code-segment-271",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
214:["$","span","code-segment-272",{"className":"token property-access","style":{},"children":["tag"]}]
215:["$","span","code-segment-273",{"style":{},"children":[" "]}]
216:["$","span","code-segment-274",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
217:["$","span","code-segment-275",{"style":{},"children":[" "]}]
218:["$","span","code-segment-276",{"className":"token maybe-class-name","style":{},"children":["HostText"]}]
219:["$","span","code-segment-277",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
21a:["$","span","code-segment-278",{"style":{},"children":["\n"]}]
21b:["$","span","line-number--38",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[38]}]
21c:["$","span","code-segment-280",{"style":{},"children":["    fiber"]}]
21d:["$","span","code-segment-281",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
21e:["$","span","code-segment-282",{"className":"token property-access","style":{},"children":["props"]}]
21f:["$","span","code-segment-283",{"style":{},"children":[" "]}]
220:["$","span","code-segment-284",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
221:["$","span","code-segment-285",{"style":{},"children":[" "]}]
222:["$","span","code-segment-286",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
223:["$","span","code-segment-287",{"style":{},"children":[" "]}]
224:["$","span","code-segment-288",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["children"]}]
225:["$","span","code-segment-289",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
226:["$","span","code-segment-290",{"style":{},"children":[" vnode "]}]
227:["$","span","code-segment-291",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
228:["$","span","code-segment-292",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
229:["$","span","code-segment-293",{"style":{},"children":["\n"]}]
22a:["$","span","line-number--39",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[39]}]
22b:["$","span","code-segment-295",{"style":{},"children":["  "]}]
22c:["$","span","code-segment-296",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
22d:["$","span","code-segment-297",{"style":{},"children":[" "]}]
22e:["$","span","code-segment-298",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["else"]}]
22f:["$","span","code-segment-299",{"style":{},"children":[" "]}]
230:["$","span","code-segment-300",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
231:["$","span","code-segment-301",{"style":{},"children":["\n"]}]
232:["$","span","line-number--40",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[40]}]
233:["$","span","code-segment-303",{"style":{},"children":["    fiber"]}]
234:["$","span","code-segment-304",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
235:["$","span","code-segment-305",{"className":"token property-access","style":{},"children":["tag"]}]
236:["$","span","code-segment-306",{"style":{},"children":[" "]}]
237:["$","span","code-segment-307",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
238:["$","span","code-segment-308",{"style":{},"children":[" "]}]
239:["$","span","code-segment-309",{"className":"token maybe-class-name","style":{},"children":["Fragment"]}]
23a:["$","span","code-segment-310",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
23b:["$","span","code-segment-311",{"style":{},"children":["\n"]}]
23c:["$","span","line-number--41",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[41]}]
23d:["$","span","code-segment-313",{"style":{},"children":["  "]}]
23e:["$","span","code-segment-314",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
23f:["$","span","code-segment-315",{"style":{},"children":["\n"]}]
240:["$","span","line-number--42",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[42]}]
241:["$","span","line-number--43",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[43]}]
242:["$","span","code-segment-319",{"style":{},"children":["  "]}]
243:["$","span","code-segment-320",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
244:["$","span","code-segment-321",{"style":{},"children":[" fiber"]}]
245:["$","span","code-segment-322",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
246:["$","span","code-segment-323",{"style":{},"children":["\n"]}]
247:["$","span","line-number--44",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[44]}]
248:["$","span","code-segment-325",{"style":{},"children":[""]}]
249:["$","span","code-segment-326",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
24a:["$","span","code-segment-30",{"style":{},"children":[" "]}]
24b:["$","span","code-segment-31",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 4"]}]
24c:["$","span","code-segment-32",{"style":{},"children":["\n"]}]
24d:["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}]
24e:["$","span","code-segment-34",{"style":{},"children":[""]}]
24f:["$","span","code-segment-35",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}]
250:["$","span","code-segment-36",{"style":{},"children":[" "]}]
251:["$","span","code-segment-37",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
252:["$","span","code-segment-38",{"style":{},"children":[" "]}]
253:["$","span","code-segment-39",{"className":"token maybe-class-name","style":{},"children":["Deletion"]}]
254:["$","span","code-segment-40",{"style":{},"children":[" "]}]
255:["$","span","code-segment-41",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
256:["$","span","code-segment-42",{"style":{},"children":[" "]}]
257:["$","span","code-segment-43",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["/*                     */"]}]
258:["$","span","code-segment-44",{"style":{},"children":[" "]}]
259:["$","span","code-segment-45",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["0b0000000000000000001000"]}]
25a:["$","span","code-segment-46",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
25b:["$","span","code-segment-47",{"style":{},"children":[" "]}]
25c:["$","span","code-segment-48",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 8"]}]
25d:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
25e:["$","span","code-segment-31",{"style":{},"children":[""]}]
25f:["$","span","code-segment-32",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 类组件标记"]}]
260:["$","span","code-segment-33",{"style":{},"children":["\n"]}]
261:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
262:["$","span","code-segment-35",{"style":{},"children":[""]}]
263:["$","span","code-segment-36",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["Component"]}]
264:["$","span","code-segment-37",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
265:["$","span","code-segment-38",{"className":"token property-access","style":{},"children":["prototype"]}]
266:["$","span","code-segment-39",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
267:["$","span","code-segment-40",{"className":"token property-access","style":{},"children":["isReactComponent"]}]
268:["$","span","code-segment-41",{"style":{},"children":[" "]}]
269:["$","span","code-segment-42",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
26a:["$","span","code-segment-43",{"style":{},"children":[" "]}]
26b:["$","span","code-segment-44",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
26c:["$","span","code-segment-45",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
26d:["$","span","code-segment-46",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
26e:["$","span","code-segment-26",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
26f:["$","span","code-segment-27",{"style":{},"children":["jsx"]}]
270:["$","span","code-segment-28",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
271:["$","span","code-segment-29",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
272:["$","span","code-segment-30",{"style":{},"children":["\n"]}]
273:["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}]
274:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
275:["$","span","code-segment-34",{"style":{},"children":[""]}]
276:["$","span","code-segment-35",{"className":"token spread","style":{"color":"hsl(221, 87%, 60%)"},"children":["..."]}]
277:["$","span","code-segment-36",{"style":{},"children":["\n"]}]
278:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
279:["$","span","code-segment-38",{"style":{},"children":["root"]}]
27a:["$","span","code-segment-39",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
27b:["$","span","code-segment-40",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["render"]}]
27c:["$","span","code-segment-41",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
27d:["$","span","code-segment-42",{"style":{},"children":["jsx1"]}]
27e:["$","span","code-segment-43",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
27f:["$","span","code-segment-44",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
280:["$","span","code-segment-28",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
281:["$","span","code-segment-29",{"style":{},"children":["\n"]}]
282:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
283:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
284:["$","span","code-segment-33",{"style":{},"children":["  "]}]
285:["$","span","code-segment-34",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
286:["$","span","code-segment-35",{"style":{},"children":[" "]}]
287:["$","span","code-segment-36",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["new"]}]
288:["$","span","code-segment-37",{"style":{},"children":[" "]}]
289:["$","span","code-segment-38",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["ReactDOMRoot"]}]
28a:["$","span","code-segment-39",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
28b:["$","span","code-segment-40",{"style":{},"children":["root"]}]
28c:["$","span","code-segment-41",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
28d:["$","span","code-segment-42",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
28e:["$","span","code-segment-43",{"style":{},"children":["\n"]}]
28f:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
290:["$","span","code-segment-45",{"style":{},"children":[""]}]
291:["$","span","code-segment-46",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
292:["$","span","code-segment-47",{"style":{},"children":["\n"]}]
293:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
294:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
295:["$","span","code-segment-51",{"style":{},"children":[""]}]
296:["$","span","code-segment-52",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}]
297:["$","span","code-segment-53",{"style":{},"children":[" "]}]
298:["$","span","code-segment-54",{"className":"token maybe-class-name","style":{"color":"hsl(221, 87%, 60%)"},"children":["ReactDOMRoot"]}]
299:["$","span","code-segment-55",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
29a:["$","span","code-segment-56",{"className":"token parameter","style":{},"children":["internalRoot"]}]
29b:["$","span","code-segment-57",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
29c:["$","span","code-segment-58",{"style":{},"children":[" "]}]
29d:["$","span","code-segment-59",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
29e:["$","span","code-segment-60",{"style":{},"children":["\n"]}]
29f:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
2a0:["$","span","code-segment-62",{"style":{},"children":["  "]}]
2a1:["$","span","code-segment-63",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["this"]}]
2a2:["$","span","code-segment-64",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
2a3:["$","span","code-segment-65",{"className":"token property-access","style":{},"children":["_internalRoot"]}]
2a4:["$","span","code-segment-66",{"style":{},"children":[" "]}]
2a5:["$","span","code-segment-67",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
2a6:["$","span","code-segment-68",{"style":{},"children":[" internalRoot"]}]
2a7:["$","span","code-segment-69",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
2a8:["$","span","code-segment-70",{"style":{},"children":["\n"]}]
2a9:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
2aa:["$","span","code-segment-72",{"style":{},"children":[""]}]
2ab:["$","span","code-segment-73",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
2ac:["$","span","code-segment-26",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
2ad:["$","span","code-segment-27",{"style":{},"children":["\n"]}]
2ae:["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}]
2af:["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}]
2b0:["$","span","code-segment-31",{"style":{},"children":["  "]}]
2b1:["$","span","code-segment-32",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["updateContainer"]}]
2b2:["$","span","code-segment-33",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
2b3:["$","span","code-segment-34",{"style":{},"children":["children"]}]
2b4:["$","span","code-segment-35",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
2b5:["$","span","code-segment-36",{"style":{},"children":[" root"]}]
2b6:["$","span","code-segment-37",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
2b7:["$","span","code-segment-38",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
2b8:["$","span","code-segment-39",{"style":{},"children":["\n"]}]
2b9:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
2ba:["$","span","code-segment-41",{"style":{},"children":[""]}]
2bb:["$","span","code-segment-42",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
2bc:["$","span","code-segment-43",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
2bd:["$","span","code-segment-44",{"style":{},"children":["\n"]}]
2be:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
2bf:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
2c0:["$","span","code-segment-48",{"style":{},"children":[""]}]
2c1:["$","span","code-segment-49",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}]
2c2:["$","span","code-segment-50",{"style":{},"children":[" "]}]
2c3:["$","span","code-segment-51",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["updateContainer"]}]
2c4:["$","span","code-segment-52",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
2c5:["$","span","code-segment-53",{"className":"token parameter","style":{},"children":["element"]}]
2c6:["$","span","code-segment-54",{"className":"token parameter","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
2c7:["$","span","code-segment-55",{"className":"token parameter","style":{},"children":[" container"]}]
2c8:["$","span","code-segment-56",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
2c9:["$","span","code-segment-57",{"style":{},"children":[" "]}]
2ca:["$","span","code-segment-58",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
2cb:["$","span","code-segment-59",{"style":{},"children":["\n"]}]
2cc:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
2cd:["$","span","code-segment-61",{"style":{},"children":["  "]}]
2ce:["$","span","code-segment-62",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
2cf:["$","span","code-segment-63",{"style":{},"children":[" "]}]
2d0:["$","span","code-segment-64",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
2d1:["$","span","code-segment-65",{"style":{},"children":[" containerInfo "]}]
2d2:["$","span","code-segment-66",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
2d3:["$","span","code-segment-67",{"style":{},"children":[" "]}]
2d4:["$","span","code-segment-68",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
2d5:["$","span","code-segment-69",{"style":{},"children":[" container"]}]
2d6:["$","span","code-segment-70",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
2d7:["$","span","code-segment-71",{"style":{},"children":["\n"]}]
2d8:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
2d9:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
2da:["$","span","code-segment-75",{"style":{},"children":["  "]}]
2db:["$","span","code-segment-76",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 这里可以看到， react的容器根节点一定是原生的dom，不然不存在nodeName"]}]
2dc:["$","span","code-segment-77",{"style":{},"children":["\n"]}]
2dd:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
2de:["$","span","code-segment-79",{"style":{},"children":["  "]}]
2df:["$","span","code-segment-80",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
2e0:["$","span","code-segment-81",{"style":{},"children":[" rootFiber "]}]
2e1:["$","span","code-segment-82",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
2e2:["$","span","code-segment-83",{"style":{},"children":[" "]}]
2e3:["$","span","code-segment-84",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["createFiber"]}]
2e4:["$","span","code-segment-85",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
2e5:["$","span","code-segment-86",{"style":{},"children":["element"]}]
2e6:["$","span","code-segment-87",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
2e7:["$","span","code-segment-88",{"style":{},"children":[" "]}]
2e8:["$","span","code-segment-89",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
2e9:["$","span","code-segment-90",{"style":{},"children":["\n"]}]
2ea:["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[12]}]
2eb:["$","span","code-segment-92",{"style":{},"children":["    "]}]
2ec:["$","span","code-segment-93",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["type"]}]
2ed:["$","span","code-segment-94",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
2ee:["$","span","code-segment-95",{"style":{},"children":[" containerInfo"]}]
2ef:["$","span","code-segment-96",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
2f0:["$","span","code-segment-97",{"className":"token property-access","style":{},"children":["nodeName"]}]
2f1:["$","span","code-segment-98",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
2f2:["$","span","code-segment-99",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["toLocaleLowerCase"]}]
2f3:["$","span","code-segment-100",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
2f4:["$","span","code-segment-101",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
2f5:["$","span","code-segment-102",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
2f6:["$","span","code-segment-103",{"style":{},"children":["\n"]}]
2f7:["$","span","line-number--13",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[13]}]
2f8:["$","span","code-segment-105",{"style":{},"children":["    "]}]
2f9:["$","span","code-segment-106",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["stateNode"]}]
2fa:["$","span","code-segment-107",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
2fb:["$","span","code-segment-108",{"style":{},"children":[" containerInfo"]}]
2fc:["$","span","code-segment-109",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
2fd:["$","span","code-segment-110",{"style":{},"children":["\n"]}]
2fe:["$","span","line-number--14",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[14]}]
2ff:["$","span","code-segment-112",{"style":{},"children":["  "]}]
300:["$","span","code-segment-113",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
301:["$","span","code-segment-114",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
302:["$","span","code-segment-115",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
303:["$","span","code-segment-116",{"style":{},"children":["\n"]}]
304:["$","span","line-number--15",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[15]}]
305:["$","span","line-number--16",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[16]}]
306:["$","span","code-segment-120",{"style":{},"children":["  "]}]
307:["$","span","code-segment-121",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["scheduleUpdateOnFiber"]}]
308:["$","span","code-segment-122",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
309:["$","span","code-segment-123",{"style":{},"children":["rootFiber"]}]
30a:["$","span","code-segment-124",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
30b:["$","span","code-segment-125",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
30c:["$","span","code-segment-126",{"style":{},"children":["\n"]}]
30d:["$","span","line-number--17",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[17]}]
30e:["$","span","code-segment-128",{"style":{},"children":[""]}]
30f:["$","span","code-segment-129",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
310:["$","span","code-segment-29",{"style":{},"children":[""]}]
311:["$","span","code-segment-30",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
312:["$","span","code-segment-26",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
313:["$","span","code-segment-27",{"style":{},"children":[" "]}]
314:["$","span","code-segment-28",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[">"]}]
315:["$","span","code-segment-29",{"style":{},"children":[" "]}]
316:["$","span","code-segment-30",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["0"]}]
317:["$","span","code-segment-31",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
318:["$","span","code-segment-32",{"style":{},"children":[" "]}]
319:["$","span","code-segment-33",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
31a:["$","span","code-segment-34",{"style":{},"children":["\n"]}]
31b:["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}]
31c:["$","span","code-segment-36",{"style":{},"children":["    "]}]
31d:["$","span","code-segment-37",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 执行任务：使用新的 O(n) 算法"]}]
31e:["$","span","code-segment-38",{"style":{},"children":["\n"]}]
31f:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
320:["$","span","code-segment-40",{"style":{},"children":["    "]}]
321:["$","span","code-segment-41",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["performUnitOfWork"]}]
322:["$","span","code-segment-42",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
323:["$","span","code-segment-43",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
324:["$","span","code-segment-44",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
325:["$","span","code-segment-45",{"style":{},"children":["\n"]}]
326:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
327:["$","span","code-segment-47",{"style":{},"children":["  "]}]
328:["$","span","code-segment-48",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
329:["$","span","code-segment-49",{"style":{},"children":["\n"]}]
32a:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
32b:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
32c:["$","span","code-segment-53",{"style":{},"children":["  "]}]
32d:["$","span","code-segment-54",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 确保调度器在运行"]}]
32e:["$","span","code-segment-55",{"style":{},"children":["\n"]}]
32f:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
330:["$","span","code-segment-57",{"style":{},"children":["  "]}]
331:["$","span","code-segment-58",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["requestIdleCallback"]}]
332:["$","span","code-segment-59",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
333:["$","span","code-segment-60",{"style":{},"children":["workLoop"]}]
334:["$","span","code-segment-61",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
335:["$","span","code-segment-62",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
336:["$","span","code-segment-63",{"style":{},"children":["\n"]}]
337:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
338:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
339:["$","span","code-segment-67",{"style":{},"children":["  "]}]
33a:["$","span","code-segment-68",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 如果所有的任务执行完毕，commit一下，就是说触发一次更新。从 root 开始刷新一遍渲染"]}]
33b:["$","span","code-segment-69",{"style":{},"children":["\n"]}]
33c:["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[12]}]
33d:["$","span","code-segment-71",{"style":{},"children":["  "]}]
33e:["$","span","code-segment-72",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
33f:["$","span","code-segment-73",{"style":{},"children":[" "]}]
340:["$","span","code-segment-74",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
341:["$","span","code-segment-75",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["!"]}]
342:["$","span","code-segment-76",{"style":{},"children":["wip "]}]
343:["$","span","code-segment-77",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["&&"]}]
344:["$","span","code-segment-78",{"style":{},"children":[" wipRoot"]}]
345:["$","span","code-segment-79",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
346:["$","span","code-segment-80",{"style":{},"children":[" "]}]
347:["$","span","code-segment-81",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
348:["$","span","code-segment-82",{"style":{},"children":["\n"]}]
349:["$","span","line-number--13",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[13]}]
34a:["$","span","code-segment-84",{"style":{},"children":["    "]}]
34b:["$","span","code-segment-85",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["commitRoot"]}]
34c:["$","span","code-segment-86",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
34d:["$","span","code-segment-87",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
34e:["$","span","code-segment-88",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
34f:["$","span","code-segment-89",{"style":{},"children":["\n"]}]
350:["$","span","line-number--14",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[14]}]
351:["$","span","code-segment-91",{"style":{},"children":["  "]}]
352:["$","span","code-segment-92",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
353:["$","span","code-segment-93",{"style":{},"children":["\n"]}]
354:["$","span","line-number--15",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[15]}]
355:["$","span","code-segment-95",{"style":{},"children":[""]}]
356:["$","span","code-segment-96",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
357:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
358:["$","span","code-segment-22",{"style":{},"children":[""]}]
359:["$","span","code-segment-23",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["switch"]}]
35a:["$","span","code-segment-24",{"style":{},"children":[" "]}]
35b:["$","span","code-segment-25",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
35c:["$","span","code-segment-26",{"style":{},"children":["tag"]}]
35d:["$","span","code-segment-27",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
35e:["$","span","code-segment-28",{"style":{},"children":[" "]}]
35f:["$","span","code-segment-29",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
360:["$","span","code-segment-30",{"style":{},"children":["\n"]}]
361:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
362:["$","span","code-segment-32",{"style":{},"children":["  "]}]
363:["$","span","code-segment-33",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["case"]}]
364:["$","span","code-segment-34",{"style":{},"children":[" "]}]
365:["$","span","code-segment-35",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["HostComponent"]}]
366:["$","span","code-segment-36",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
367:["$","span","code-segment-37",{"style":{},"children":["\n"]}]
368:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
369:["$","span","code-segment-39",{"style":{},"children":["    "]}]
36a:["$","span","code-segment-40",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["updateHostComponent"]}]
36b:["$","span","code-segment-41",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
36c:["$","span","code-segment-42",{"style":{},"children":["wip"]}]
36d:["$","span","code-segment-43",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
36e:["$","span","code-segment-44",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
36f:["$","span","code-segment-45",{"style":{},"children":["\n"]}]
370:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
371:["$","span","code-segment-47",{"style":{},"children":["    "]}]
372:["$","span","code-segment-48",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["break"]}]
373:["$","span","code-segment-49",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
374:["$","span","code-segment-50",{"style":{},"children":["\n"]}]
375:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
376:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
377:["$","span","code-segment-54",{"style":{},"children":["  "]}]
378:["$","span","code-segment-55",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["case"]}]
379:["$","span","code-segment-56",{"style":{},"children":[" "]}]
37a:["$","span","code-segment-57",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["FunctionComponent"]}]
37b:["$","span","code-segment-58",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
37c:["$","span","code-segment-59",{"style":{},"children":["\n"]}]
37d:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
37e:["$","span","code-segment-61",{"style":{},"children":["    "]}]
37f:["$","span","code-segment-62",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["updateFunctionComponent"]}]
380:["$","span","code-segment-63",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
381:["$","span","code-segment-64",{"style":{},"children":["wip"]}]
382:["$","span","code-segment-65",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
383:["$","span","code-segment-66",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
384:["$","span","code-segment-67",{"style":{},"children":["\n"]}]
385:["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[12]}]
386:["$","span","code-segment-69",{"style":{},"children":["    "]}]
387:["$","span","code-segment-70",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["break"]}]
388:["$","span","code-segment-71",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
389:["$","span","code-segment-72",{"style":{},"children":["\n"]}]
38a:["$","span","line-number--13",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[13]}]
38b:["$","span","line-number--14",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[14]}]
38c:["$","span","code-segment-76",{"style":{},"children":["  "]}]
38d:["$","span","code-segment-77",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["case"]}]
38e:["$","span","code-segment-78",{"style":{},"children":[" "]}]
38f:["$","span","code-segment-79",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["ClassComponent"]}]
390:["$","span","code-segment-80",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
391:["$","span","code-segment-81",{"style":{},"children":["\n"]}]
392:["$","span","line-number--15",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[15]}]
393:["$","span","code-segment-83",{"style":{},"children":["    "]}]
394:["$","span","code-segment-84",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["updateClassComponent"]}]
395:["$","span","code-segment-85",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
396:["$","span","code-segment-86",{"style":{},"children":["wip"]}]
397:["$","span","code-segment-87",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
398:["$","span","code-segment-88",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
399:["$","span","code-segment-89",{"style":{},"children":["\n"]}]
39a:["$","span","line-number--16",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[16]}]
39b:["$","span","code-segment-91",{"style":{},"children":["    "]}]
39c:["$","span","code-segment-92",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["break"]}]
39d:["$","span","code-segment-93",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
39e:["$","span","code-segment-94",{"style":{},"children":["\n"]}]
39f:["$","span","line-number--17",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[17]}]
3a0:["$","span","line-number--18",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[18]}]
3a1:["$","span","code-segment-98",{"style":{},"children":["  "]}]
3a2:["$","span","code-segment-99",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["case"]}]
3a3:["$","span","code-segment-100",{"style":{},"children":[" "]}]
3a4:["$","span","code-segment-101",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["Fragment"]}]
3a5:["$","span","code-segment-102",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
3a6:["$","span","code-segment-103",{"style":{},"children":["\n"]}]
3a7:["$","span","line-number--19",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[19]}]
3a8:["$","span","code-segment-105",{"style":{},"children":["    "]}]
3a9:["$","span","code-segment-106",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["updateFragmentComponent"]}]
3aa:["$","span","code-segment-107",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
3ab:["$","span","code-segment-108",{"style":{},"children":["wip"]}]
3ac:["$","span","code-segment-109",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
3ad:["$","span","code-segment-110",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
3ae:["$","span","code-segment-111",{"style":{},"children":["\n"]}]
3af:["$","span","line-number--20",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[20]}]
3b0:["$","span","code-segment-113",{"style":{},"children":["    "]}]
3b1:["$","span","code-segment-114",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["break"]}]
3b2:["$","span","code-segment-115",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
3b3:["$","span","code-segment-116",{"style":{},"children":["\n"]}]
3b4:["$","span","line-number--21",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[21]}]
3b5:["$","span","line-number--22",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[22]}]
3b6:["$","span","code-segment-120",{"style":{},"children":["  "]}]
3b7:["$","span","code-segment-121",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["case"]}]
3b8:["$","span","code-segment-122",{"style":{},"children":[" "]}]
3b9:["$","span","code-segment-123",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["HostText"]}]
3ba:["$","span","code-segment-124",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
3bb:["$","span","code-segment-125",{"style":{},"children":["\n"]}]
3bc:["$","span","line-number--23",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[23]}]
3bd:["$","span","code-segment-127",{"style":{},"children":["    "]}]
3be:["$","span","code-segment-128",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["updateTextComponent"]}]
3bf:["$","span","code-segment-129",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
3c0:["$","span","code-segment-130",{"style":{},"children":["wip"]}]
3c1:["$","span","code-segment-131",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
3c2:["$","span","code-segment-132",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
3c3:["$","span","code-segment-133",{"style":{},"children":["\n"]}]
3c4:["$","span","line-number--24",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[24]}]
3c5:["$","span","code-segment-135",{"style":{},"children":["    "]}]
3c6:["$","span","code-segment-136",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["break"]}]
3c7:["$","span","code-segment-137",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
3c8:["$","span","code-segment-138",{"style":{},"children":["\n"]}]
3c9:["$","span","line-number--25",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[25]}]
3ca:["$","span","line-number--26",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[26]}]
3cb:["$","span","code-segment-142",{"style":{},"children":["  "]}]
3cc:["$","span","code-segment-143",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["default"]}]
3cd:["$","span","code-segment-144",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
3ce:["$","span","code-segment-145",{"style":{},"children":["\n"]}]
3cf:["$","span","line-number--27",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[27]}]
3d0:["$","span","code-segment-147",{"style":{},"children":["    "]}]
3d1:["$","span","code-segment-148",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["break"]}]
3d2:["$","span","code-segment-149",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
3d3:["$","span","code-segment-150",{"style":{},"children":["\n"]}]
3d4:["$","span","line-number--28",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[28]}]
3d5:["$","span","code-segment-152",{"style":{},"children":[""]}]
3d6:["$","span","code-segment-153",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
3d7:["$","span","code-segment-154",{"style":{},"children":["\n"]}]
3d8:["$","span","line-number--29",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[29]}]
3d9:["$","span","line-number--30",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[30]}]
3da:["$","span","code-segment-158",{"style":{},"children":[""]}]
3db:["$","span","code-segment-159",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 2. 更新wip 多叉树深度优先遍历"]}]
3dc:["$","span","code-segment-160",{"style":{},"children":["\n"]}]
3dd:["$","span","line-number--31",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[31]}]
3de:["$","span","code-segment-162",{"style":{},"children":[""]}]
3df:["$","span","code-segment-163",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 优先找孩子，没有孩子就找兄弟，没有兄弟找父级的兄弟，直到找到根节点。时间复杂度：O(n)"]}]
3e0:["$","span","code-segment-164",{"style":{},"children":["\n"]}]
3e1:["$","span","line-number--32",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[32]}]
3e2:["$","span","code-segment-166",{"style":{},"children":[""]}]
3e3:["$","span","code-segment-167",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
3e4:["$","span","code-segment-168",{"style":{},"children":[" "]}]
3e5:["$","span","code-segment-169",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
3e6:["$","span","code-segment-170",{"style":{},"children":["wip"]}]
3e7:["$","span","code-segment-171",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
3e8:["$","span","code-segment-172",{"className":"token property-access","style":{},"children":["child"]}]
3e9:["$","span","code-segment-173",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
3ea:["$","span","code-segment-174",{"style":{},"children":[" "]}]
3eb:["$","span","code-segment-175",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
3ec:["$","span","code-segment-176",{"style":{},"children":["\n"]}]
3ed:["$","span","line-number--33",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[33]}]
3ee:["$","span","code-segment-178",{"style":{},"children":["  wip "]}]
3ef:["$","span","code-segment-179",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
3f0:["$","span","code-segment-180",{"style":{},"children":[" wip"]}]
3f1:["$","span","code-segment-181",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
3f2:["$","span","code-segment-182",{"className":"token property-access","style":{},"children":["child"]}]
3f3:["$","span","code-segment-183",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
3f4:["$","span","code-segment-184",{"style":{},"children":["\n"]}]
3f5:["$","span","line-number--34",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[34]}]
3f6:["$","span","code-segment-186",{"style":{},"children":["  "]}]
3f7:["$","span","code-segment-187",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
3f8:["$","span","code-segment-188",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
3f9:["$","span","code-segment-189",{"style":{},"children":["\n"]}]
3fa:["$","span","line-number--35",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[35]}]
3fb:["$","span","code-segment-191",{"style":{},"children":[""]}]
3fc:["$","span","code-segment-192",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
3fd:["$","span","code-segment-193",{"style":{},"children":["\n"]}]
3fe:["$","span","line-number--36",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[36]}]
3ff:["$","span","line-number--37",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[37]}]
400:["$","span","code-segment-197",{"style":{},"children":[""]}]
401:["$","span","code-segment-198",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["let"]}]
402:["$","span","code-segment-199",{"style":{},"children":[" next "]}]
403:["$","span","code-segment-200",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
404:["$","span","code-segment-201",{"style":{},"children":[" wip"]}]
405:["$","span","code-segment-202",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
406:["$","span","code-segment-203",{"style":{},"children":["\n"]}]
407:["$","span","line-number--38",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[38]}]
408:["$","span","line-number--39",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[39]}]
409:["$","span","code-segment-207",{"style":{},"children":[""]}]
40a:["$","span","code-segment-208",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["while"]}]
40b:["$","span","code-segment-209",{"style":{},"children":[" "]}]
40c:["$","span","code-segment-210",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
40d:["$","span","code-segment-211",{"style":{},"children":["next"]}]
40e:["$","span","code-segment-212",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
40f:["$","span","code-segment-213",{"style":{},"children":[" "]}]
410:["$","span","code-segment-214",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
411:["$","span","code-segment-215",{"style":{},"children":["\n"]}]
412:["$","span","line-number--40",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[40]}]
413:["$","span","code-segment-217",{"style":{},"children":["  "]}]
414:["$","span","code-segment-218",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
415:["$","span","code-segment-219",{"style":{},"children":[" "]}]
416:["$","span","code-segment-220",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
417:["$","span","code-segment-221",{"style":{},"children":["next"]}]
418:["$","span","code-segment-222",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
419:["$","span","code-segment-223",{"className":"token property-access","style":{},"children":["sibling"]}]
41a:["$","span","code-segment-224",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
41b:["$","span","code-segment-225",{"style":{},"children":[" "]}]
41c:["$","span","code-segment-226",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
41d:["$","span","code-segment-227",{"style":{},"children":["\n"]}]
41e:["$","span","line-number--41",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[41]}]
41f:["$","span","code-segment-229",{"style":{},"children":["    wip "]}]
420:["$","span","code-segment-230",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
421:["$","span","code-segment-231",{"style":{},"children":[" next"]}]
422:["$","span","code-segment-232",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
423:["$","span","code-segment-233",{"className":"token property-access","style":{},"children":["sibling"]}]
424:["$","span","code-segment-234",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
425:["$","span","code-segment-235",{"style":{},"children":["\n"]}]
426:["$","span","line-number--42",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[42]}]
427:["$","span","code-segment-237",{"style":{},"children":["    "]}]
428:["$","span","code-segment-238",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
429:["$","span","code-segment-239",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
42a:["$","span","code-segment-240",{"style":{},"children":["\n"]}]
42b:["$","span","line-number--43",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[43]}]
42c:["$","span","code-segment-242",{"style":{},"children":["  "]}]
42d:["$","span","code-segment-243",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
42e:["$","span","code-segment-244",{"style":{},"children":["\n"]}]
42f:["$","span","line-number--44",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[44]}]
430:["$","span","code-segment-246",{"style":{},"children":["  next "]}]
431:["$","span","code-segment-247",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
432:["$","span","code-segment-248",{"style":{},"children":[" next"]}]
433:["$","span","code-segment-249",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
434:["$","span","code-segment-250",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
435:["$","span","code-segment-251",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
436:["$","span","code-segment-252",{"style":{},"children":["\n"]}]
437:["$","span","line-number--45",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[45]}]
438:["$","span","code-segment-254",{"style":{},"children":[""]}]
439:["$","span","code-segment-255",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
43a:["$","span","code-segment-256",{"style":{},"children":["\n"]}]
43b:["$","span","line-number--46",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[46]}]
43c:["$","span","code-segment-258",{"style":{},"children":["wip "]}]
43d:["$","span","code-segment-259",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
43e:["$","span","code-segment-260",{"style":{},"children":[" "]}]
43f:["$","span","code-segment-261",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}]
440:["$","span","code-segment-262",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
442:["$","span","code-segment-8",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
443:["$","span","code-segment-9",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
444:["$","span","code-segment-10",{"style":{},"children":["\n"]}]
445:["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}]
446:["$","span","code-segment-12",{"style":{},"children":[""]}]
447:["$","span","code-segment-13",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 防止被 多次执行"]}]
448:["$","span","code-segment-14",{"style":{},"children":["\n"]}]
449:["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}]
44a:["$","span","code-segment-16",{"style":{},"children":["wipRoot "]}]
44b:["$","span","code-segment-17",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
44c:["$","span","code-segment-18",{"style":{},"children":[" "]}]
44d:["$","span","code-segment-19",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}]
44e:["$","span","code-segment-20",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
44f:["$","span","code-segment-21",{"style":{},"children":["\n"]}]
450:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
451:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
452:["$","span","code-segment-25",{"style":{},"children":[""]}]
453:["$","span","code-segment-26",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// fiber 树创建的过程"]}]
454:["$","span","code-segment-27",{"style":{},"children":["\n"]}]
455:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
456:["$","span","code-segment-29",{"style":{},"children":[""]}]
457:["$","span","code-segment-30",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}]
458:["$","span","code-segment-31",{"style":{},"children":[" "]}]
459:["$","span","code-segment-32",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["commitWorker"]}]
45a:["$","span","code-segment-33",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
45b:["$","span","code-segment-34",{"className":"token parameter","style":{},"children":["wip"]}]
45c:["$","span","code-segment-35",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
45d:["$","span","code-segment-36",{"style":{},"children":[" "]}]
45e:["$","span","code-segment-37",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
45f:["$","span","code-segment-38",{"style":{},"children":["\n"]}]
460:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
461:["$","span","code-segment-40",{"style":{},"children":["  "]}]
462:["$","span","code-segment-41",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 直到找不到 wip，退出"]}]
463:["$","span","code-segment-42",{"style":{},"children":["\n"]}]
464:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
465:["$","span","code-segment-44",{"style":{},"children":["  "]}]
466:["$","span","code-segment-45",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
467:["$","span","code-segment-46",{"style":{},"children":[" "]}]
468:["$","span","code-segment-47",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
469:["$","span","code-segment-48",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["!"]}]
46a:["$","span","code-segment-49",{"style":{},"children":["wip"]}]
46b:["$","span","code-segment-50",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
46c:["$","span","code-segment-51",{"style":{},"children":[" "]}]
46d:["$","span","code-segment-52",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
46e:["$","span","code-segment-53",{"style":{},"children":["\n"]}]
46f:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
470:["$","span","code-segment-55",{"style":{},"children":["    "]}]
471:["$","span","code-segment-56",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
472:["$","span","code-segment-57",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
473:["$","span","code-segment-58",{"style":{},"children":["\n"]}]
474:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
475:["$","span","code-segment-60",{"style":{},"children":["  "]}]
476:["$","span","code-segment-61",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
477:["$","span","code-segment-62",{"style":{},"children":["\n"]}]
478:["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[12]}]
479:["$","span","code-segment-64",{"style":{},"children":["  "]}]
47a:["$","span","code-segment-65",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 自己"]}]
47b:["$","span","code-segment-66",{"style":{},"children":["\n"]}]
47c:["$","span","line-number--13",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[13]}]
47d:["$","span","code-segment-68",{"style":{},"children":["  "]}]
47e:["$","span","code-segment-69",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
47f:["$","span","code-segment-70",{"style":{},"children":[" "]}]
480:["$","span","code-segment-71",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
481:["$","span","code-segment-72",{"style":{},"children":[" stateNode"]}]
482:["$","span","code-segment-73",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
483:["$","span","code-segment-74",{"style":{},"children":[" flags "]}]
484:["$","span","code-segment-75",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
485:["$","span","code-segment-76",{"style":{},"children":[" "]}]
486:["$","span","code-segment-77",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
487:["$","span","code-segment-78",{"style":{},"children":[" wip"]}]
488:["$","span","code-segment-79",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
489:["$","span","code-segment-80",{"style":{},"children":["\n"]}]
48a:["$","span","line-number--14",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[14]}]
48b:["$","span","code-segment-82",{"style":{},"children":["  "]}]
48c:["$","span","code-segment-83",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 父dom节点"]}]
48d:["$","span","code-segment-84",{"style":{},"children":["\n"]}]
48e:["$","span","line-number--15",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[15]}]
48f:["$","span","code-segment-86",{"style":{},"children":["  "]}]
490:["$","span","code-segment-87",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
491:["$","span","code-segment-88",{"style":{},"children":[" parentNode "]}]
492:["$","span","code-segment-89",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
493:["$","span","code-segment-90",{"style":{},"children":[" "]}]
494:["$","span","code-segment-91",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["getParentNode"]}]
495:["$","span","code-segment-92",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
496:["$","span","code-segment-93",{"style":{},"children":["wip"]}]
497:["$","span","code-segment-94",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
498:["$","span","code-segment-95",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
499:["$","span","code-segment-96",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
49a:["$","span","code-segment-97",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
49b:["$","span","code-segment-98",{"style":{},"children":[" "]}]
49c:["$","span","code-segment-99",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["//wip.return.stateNode;"]}]
49d:["$","span","code-segment-100",{"style":{},"children":["\n"]}]
49e:["$","span","line-number--16",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[16]}]
49f:["$","span","line-number--17",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[17]}]
4a0:["$","span","code-segment-104",{"style":{},"children":["  "]}]
4a1:["$","span","code-segment-105",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 具体 flags 的设置，在 后边 diff 算法中实现"]}]
4a2:["$","span","code-segment-106",{"style":{},"children":["\n"]}]
4a3:["$","span","line-number--18",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[18]}]
4a4:["$","span","line-number--19",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[19]}]
4a5:["$","span","code-segment-110",{"style":{},"children":["  "]}]
4a6:["$","span","code-segment-111",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 即将创建的"]}]
4a7:["$","span","code-segment-112",{"style":{},"children":["\n"]}]
4a8:["$","span","line-number--20",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[20]}]
4a9:["$","span","code-segment-114",{"style":{},"children":["  "]}]
4aa:["$","span","code-segment-115",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
4ab:["$","span","code-segment-116",{"style":{},"children":[" "]}]
4ac:["$","span","code-segment-117",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
4ad:["$","span","code-segment-118",{"style":{},"children":["flags "]}]
4ae:["$","span","code-segment-119",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["&"]}]
4af:["$","span","code-segment-120",{"style":{},"children":[" "]}]
4b0:["$","span","code-segment-121",{"className":"token maybe-class-name","style":{},"children":["Placement"]}]
4b1:["$","span","code-segment-122",{"style":{},"children":[" "]}]
4b2:["$","span","code-segment-123",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["&&"]}]
4b3:["$","span","code-segment-124",{"style":{},"children":[" stateNode"]}]
4b4:["$","span","code-segment-125",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
4b5:["$","span","code-segment-126",{"style":{},"children":[" "]}]
4b6:["$","span","code-segment-127",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
4b7:["$","span","code-segment-128",{"style":{},"children":["\n"]}]
4b8:["$","span","line-number--21",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[21]}]
4b9:["$","span","code-segment-130",{"style":{},"children":["    parentNode"]}]
4ba:["$","span","code-segment-131",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
4bb:["$","span","code-segment-132",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["appendChild"]}]
4bc:["$","span","code-segment-133",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
4bd:["$","span","code-segment-134",{"style":{},"children":["stateNode"]}]
4be:["$","span","code-segment-135",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
4bf:["$","span","code-segment-136",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
4c0:["$","span","code-segment-137",{"style":{},"children":["\n"]}]
4c1:["$","span","line-number--22",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[22]}]
4c2:["$","span","code-segment-139",{"style":{},"children":["  "]}]
4c3:["$","span","code-segment-140",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
4c4:["$","span","code-segment-141",{"style":{},"children":["\n"]}]
4c5:["$","span","line-number--23",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[23]}]
4c6:["$","span","line-number--24",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[24]}]
4c7:["$","span","code-segment-145",{"style":{},"children":["  "]}]
4c8:["$","span","code-segment-146",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 即将更新的"]}]
4c9:["$","span","code-segment-147",{"style":{},"children":["\n"]}]
4ca:["$","span","line-number--25",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[25]}]
4cb:["$","span","code-segment-149",{"style":{},"children":["  "]}]
4cc:["$","span","code-segment-150",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
4cd:["$","span","code-segment-151",{"style":{},"children":[" "]}]
4ce:["$","span","code-segment-152",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
4cf:["$","span","code-segment-153",{"style":{},"children":["flags "]}]
4d0:["$","span","code-segment-154",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["&"]}]
4d1:["$","span","code-segment-155",{"style":{},"children":[" "]}]
4d2:["$","span","code-segment-156",{"className":"token maybe-class-name","style":{},"children":["Update"]}]
4d3:["$","span","code-segment-157",{"style":{},"children":[" "]}]
4d4:["$","span","code-segment-158",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["&&"]}]
4d5:["$","span","code-segment-159",{"style":{},"children":[" stateNode"]}]
4d6:["$","span","code-segment-160",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
4d7:["$","span","code-segment-161",{"style":{},"children":[" "]}]
4d8:["$","span","code-segment-162",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
4d9:["$","span","code-segment-163",{"style":{},"children":["\n"]}]
4da:["$","span","line-number--26",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[26]}]
4db:["$","span","code-segment-165",{"style":{},"children":["    "]}]
4dc:["$","span","code-segment-166",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["updateNode"]}]
4dd:["$","span","code-segment-167",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
4de:["$","span","code-segment-168",{"style":{},"children":["stateNode"]}]
4df:["$","span","code-segment-169",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
4e0:["$","span","code-segment-170",{"style":{},"children":[" wip"]}]
4e1:["$","span","code-segment-171",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
4e2:["$","span","code-segment-172",{"className":"token property-access","style":{},"children":["alternate"]}]
4e3:["$","span","code-segment-173",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
4e4:["$","span","code-segment-174",{"className":"token property-access","style":{},"children":["props"]}]
4e5:["$","span","code-segment-175",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
4e6:["$","span","code-segment-176",{"style":{},"children":[" wip"]}]
4e7:["$","span","code-segment-177",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
4e8:["$","span","code-segment-178",{"className":"token property-access","style":{},"children":["props"]}]
4e9:["$","span","code-segment-179",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
4ea:["$","span","code-segment-180",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
4eb:["$","span","code-segment-181",{"style":{},"children":["\n"]}]
4ec:["$","span","line-number--27",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[27]}]
4ed:["$","span","code-segment-183",{"style":{},"children":["  "]}]
4ee:["$","span","code-segment-184",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
4ef:["$","span","code-segment-185",{"style":{},"children":["\n"]}]
4f0:["$","span","line-number--28",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[28]}]
4f1:["$","span","line-number--29",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[29]}]
4f2:["$","span","code-segment-189",{"style":{},"children":["  "]}]
4f3:["$","span","code-segment-190",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 即将删除的"]}]
4f4:["$","span","code-segment-191",{"style":{},"children":["\n"]}]
4f5:["$","span","line-number--30",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[30]}]
4f6:["$","span","code-segment-193",{"style":{},"children":["  "]}]
4f7:["$","span","code-segment-194",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
4f8:["$","span","code-segment-195",{"style":{},"children":[" "]}]
4f9:["$","span","code-segment-196",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
4fa:["$","span","code-segment-197",{"style":{},"children":["wip"]}]
4fb:["$","span","code-segment-198",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
4fc:["$","span","code-segment-199",{"className":"token property-access","style":{},"children":["deletions"]}]
4fd:["$","span","code-segment-200",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
4fe:["$","span","code-segment-201",{"style":{},"children":[" "]}]
4ff:["$","span","code-segment-202",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
500:["$","span","code-segment-203",{"style":{},"children":["\n"]}]
501:["$","span","line-number--31",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[31]}]
502:["$","span","code-segment-205",{"style":{},"children":["    "]}]
503:["$","span","code-segment-206",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["commitDeletions"]}]
504:["$","span","code-segment-207",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
505:["$","span","code-segment-208",{"style":{},"children":["wip"]}]
506:["$","span","code-segment-209",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
507:["$","span","code-segment-210",{"className":"token property-access","style":{},"children":["deletions"]}]
508:["$","span","code-segment-211",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
509:["$","span","code-segment-212",{"style":{},"children":[" stateNode "]}]
50a:["$","span","code-segment-213",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["||"]}]
50b:["$","span","code-segment-214",{"style":{},"children":[" parentNode"]}]
50c:["$","span","code-segment-215",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
50d:["$","span","code-segment-216",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
50e:["$","span","code-segment-217",{"style":{},"children":["\n"]}]
50f:["$","span","line-number--32",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[32]}]
510:["$","span","code-segment-219",{"style":{},"children":["  "]}]
511:["$","span","code-segment-220",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
512:["$","span","code-segment-221",{"style":{},"children":["\n"]}]
513:["$","span","line-number--33",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[33]}]
514:["$","span","line-number--34",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[34]}]
515:["$","span","code-segment-225",{"style":{},"children":["  "]}]
516:["$","span","code-segment-226",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 2. 下一个孩子"]}]
517:["$","span","code-segment-227",{"style":{},"children":["\n"]}]
518:["$","span","line-number--35",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[35]}]
519:["$","span","code-segment-229",{"style":{},"children":["  "]}]
51a:["$","span","code-segment-230",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["commitWorker"]}]
51b:["$","span","code-segment-231",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
51c:["$","span","code-segment-232",{"style":{},"children":["wip"]}]
51d:["$","span","code-segment-233",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
51e:["$","span","code-segment-234",{"className":"token property-access","style":{},"children":["child"]}]
51f:["$","span","code-segment-235",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
520:["$","span","code-segment-236",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
521:["$","span","code-segment-237",{"style":{},"children":["\n"]}]
522:["$","span","line-number--36",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[36]}]
523:["$","span","code-segment-239",{"style":{},"children":["  "]}]
524:["$","span","code-segment-240",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 3. 下一个兄弟"]}]
525:["$","span","code-segment-241",{"style":{},"children":["\n"]}]
526:["$","span","line-number--37",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[37]}]
527:["$","span","code-segment-243",{"style":{},"children":["  "]}]
528:["$","span","code-segment-244",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["commitWorker"]}]
529:["$","span","code-segment-245",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
52a:["$","span","code-segment-246",{"style":{},"children":["wip"]}]
52b:["$","span","code-segment-247",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
52c:["$","span","code-segment-248",{"className":"token property-access","style":{},"children":["sibling"]}]
52d:["$","span","code-segment-249",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
52e:["$","span","code-segment-250",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
52f:["$","span","code-segment-251",{"style":{},"children":["\n"]}]
530:["$","span","line-number--38",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[38]}]
531:["$","span","code-segment-253",{"style":{},"children":[""]}]
532:["$","span","code-segment-254",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
533:["$","span","code-segment-255",{"style":{},"children":["\n"]}]
534:["$","span","line-number--39",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[39]}]
535:["$","span","line-number--40",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[40]}]
536:["$","span","code-segment-259",{"style":{},"children":[""]}]
537:["$","span","code-segment-260",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}]
538:["$","span","code-segment-261",{"style":{},"children":[" "]}]
539:["$","span","code-segment-262",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["getParentNode"]}]
53a:["$","span","code-segment-263",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
53b:["$","span","code-segment-264",{"className":"token parameter","style":{},"children":["wip"]}]
53c:["$","span","code-segment-265",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
53d:["$","span","code-segment-266",{"style":{},"children":[" "]}]
53e:["$","span","code-segment-267",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
53f:["$","span","code-segment-268",{"style":{},"children":["\n"]}]
540:["$","span","line-number--41",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[41]}]
541:["$","span","code-segment-270",{"style":{},"children":["  "]}]
542:["$","span","code-segment-271",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 自定义组件没有实体，return里全是child，需往上找父组件"]}]
543:["$","span","code-segment-272",{"style":{},"children":["\n"]}]
544:["$","span","line-number--42",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[42]}]
545:["$","span","code-segment-274",{"style":{},"children":["  "]}]
546:["$","span","code-segment-275",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["let"]}]
547:["$","span","code-segment-276",{"style":{},"children":[" tem "]}]
548:["$","span","code-segment-277",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
549:["$","span","code-segment-278",{"style":{},"children":[" wip"]}]
54a:["$","span","code-segment-279",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
54b:["$","span","code-segment-280",{"style":{},"children":["\n"]}]
54c:["$","span","line-number--43",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[43]}]
54d:["$","span","code-segment-282",{"style":{},"children":["  "]}]
54e:["$","span","code-segment-283",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["while"]}]
54f:["$","span","code-segment-284",{"style":{},"children":[" "]}]
550:["$","span","code-segment-285",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
551:["$","span","code-segment-286",{"style":{},"children":["tem"]}]
552:["$","span","code-segment-287",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
553:["$","span","code-segment-288",{"style":{},"children":[" "]}]
554:["$","span","code-segment-289",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
555:["$","span","code-segment-290",{"style":{},"children":["\n"]}]
556:["$","span","line-number--44",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[44]}]
557:["$","span","code-segment-292",{"style":{},"children":["    "]}]
558:["$","span","code-segment-293",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
559:["$","span","code-segment-294",{"style":{},"children":[" "]}]
55a:["$","span","code-segment-295",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
55b:["$","span","code-segment-296",{"style":{},"children":["tem"]}]
55c:["$","span","code-segment-297",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
55d:["$","span","code-segment-298",{"className":"token property-access","style":{},"children":["stateNode"]}]
55e:["$","span","code-segment-299",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
55f:["$","span","code-segment-300",{"style":{},"children":[" "]}]
560:["$","span","code-segment-301",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
561:["$","span","code-segment-302",{"style":{},"children":["\n"]}]
562:["$","span","line-number--45",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[45]}]
563:["$","span","code-segment-304",{"style":{},"children":["      "]}]
564:["$","span","code-segment-305",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
565:["$","span","code-segment-306",{"style":{},"children":[" tem"]}]
566:["$","span","code-segment-307",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
567:["$","span","code-segment-308",{"className":"token property-access","style":{},"children":["stateNode"]}]
568:["$","span","code-segment-309",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
569:["$","span","code-segment-310",{"style":{},"children":["\n"]}]
56a:["$","span","line-number--46",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[46]}]
56b:["$","span","code-segment-312",{"style":{},"children":["    "]}]
56c:["$","span","code-segment-313",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
56d:["$","span","code-segment-314",{"style":{},"children":["\n"]}]
56e:["$","span","line-number--47",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[47]}]
56f:["$","span","code-segment-316",{"style":{},"children":["    tem "]}]
570:["$","span","code-segment-317",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
571:["$","span","code-segment-318",{"style":{},"children":[" tem"]}]
572:["$","span","code-segment-319",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
573:["$","span","code-segment-320",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
574:["$","span","code-segment-321",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
575:["$","span","code-segment-322",{"style":{},"children":["\n"]}]
576:["$","span","line-number--48",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[48]}]
577:["$","span","code-segment-324",{"style":{},"children":["  "]}]
578:["$","span","code-segment-325",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
579:["$","span","code-segment-326",{"style":{},"children":["\n"]}]
57a:["$","span","line-number--49",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[49]}]
57b:["$","span","code-segment-328",{"style":{},"children":[""]}]
57c:["$","span","code-segment-329",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
57d:["$","span","code-segment-330",{"style":{},"children":["\n"]}]
57e:["$","span","line-number--50",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[50]}]
57f:["$","span","line-number--51",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[51]}]
580:["$","span","code-segment-334",{"style":{},"children":[""]}]
581:["$","span","code-segment-335",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// prev  {a: 1}"]}]
582:["$","span","code-segment-336",{"style":{},"children":["\n"]}]
583:["$","span","line-number--52",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[52]}]
584:["$","span","code-segment-338",{"style":{},"children":[""]}]
585:["$","span","code-segment-339",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// next { b: 3}"]}]
586:["$","span","code-segment-340",{"style":{},"children":["\n"]}]
587:["$","span","line-number--53",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[53]}]
588:["$","span","code-segment-342",{"style":{},"children":[""]}]
589:["$","span","code-segment-343",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}]
58a:["$","span","code-segment-344",{"style":{},"children":[" "]}]
58b:["$","span","code-segment-345",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}]
58c:["$","span","code-segment-346",{"style":{},"children":[" "]}]
58d:["$","span","code-segment-347",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["updateNode"]}]
58e:["$","span","code-segment-348",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
58f:["$","span","code-segment-349",{"className":"token parameter","style":{},"children":["node"]}]
590:["$","span","code-segment-350",{"className":"token parameter","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
591:["$","span","code-segment-351",{"className":"token parameter","style":{},"children":[" prevVal"]}]
592:["$","span","code-segment-352",{"className":"token parameter","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
593:["$","span","code-segment-353",{"className":"token parameter","style":{},"children":[" nextVal"]}]
594:["$","span","code-segment-354",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
595:["$","span","code-segment-355",{"style":{},"children":[" "]}]
596:["$","span","code-segment-356",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
597:["$","span","code-segment-357",{"style":{},"children":["\n"]}]
598:["$","span","line-number--54",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[54]}]
599:["$","span","code-segment-359",{"style":{},"children":["  "]}]
59a:["$","span","code-segment-360",{"className":"token known-class-name","style":{"color":"hsl(35, 99%, 36%)"},"children":["Object"]}]
59b:["$","span","code-segment-361",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
59c:["$","span","code-segment-362",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["keys"]}]
59d:["$","span","code-segment-363",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
59e:["$","span","code-segment-364",{"style":{},"children":["nextVal"]}]
59f:["$","span","code-segment-365",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
5a0:["$","span","code-segment-366",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
5a1:["$","span","code-segment-367",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["forEach"]}]
5a2:["$","span","code-segment-368",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
5a3:["$","span","code-segment-369",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
5a4:["$","span","code-segment-370",{"className":"token parameter","style":{},"children":["k"]}]
5a5:["$","span","code-segment-371",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
5a6:["$","span","code-segment-372",{"style":{},"children":[" "]}]
5a7:["$","span","code-segment-373",{"className":"token arrow","style":{"color":"hsl(221, 87%, 60%)"},"children":["=>"]}]
5a8:["$","span","code-segment-374",{"style":{},"children":[" "]}]
5a9:["$","span","code-segment-375",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
5aa:["$","span","code-segment-376",{"style":{},"children":["\n"]}]
5ab:["$","span","line-number--55",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[55]}]
5ac:["$","span","code-segment-378",{"style":{},"children":["    "]}]
5ad:["$","span","code-segment-379",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
5ae:["$","span","code-segment-380",{"style":{},"children":[" "]}]
5af:["$","span","code-segment-381",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
5b0:["$","span","code-segment-382",{"style":{},"children":["k "]}]
5b1:["$","span","code-segment-383",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["==="]}]
5b2:["$","span","code-segment-384",{"style":{},"children":[" "]}]
5b3:["$","span","code-segment-385",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["'children'"]}]
5b4:["$","span","code-segment-386",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
5b5:["$","span","code-segment-387",{"style":{},"children":[" "]}]
5b6:["$","span","code-segment-388",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
5b7:["$","span","code-segment-389",{"style":{},"children":["\n"]}]
5b8:["$","span","line-number--56",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[56]}]
5b9:["$","span","code-segment-391",{"style":{},"children":["      "]}]
5ba:["$","span","code-segment-392",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 有可能是文本，我们自己设置的文本节点 props.children"]}]
5bb:["$","span","code-segment-393",{"style":{},"children":["\n"]}]
5bc:["$","span","line-number--57",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[57]}]
5bd:["$","span","code-segment-395",{"style":{},"children":["      "]}]
5be:["$","span","code-segment-396",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
5bf:["$","span","code-segment-397",{"style":{},"children":[" "]}]
5c0:["$","span","code-segment-398",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
5c1:["$","span","code-segment-399",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["isStringOrNumber"]}]
5c2:["$","span","code-segment-400",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
5c3:["$","span","code-segment-401",{"style":{},"children":["nextVal"]}]
5c4:["$","span","code-segment-402",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["["]}]
5c5:["$","span","code-segment-403",{"style":{},"children":["k"]}]
5c6:["$","span","code-segment-404",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["]"]}]
5c7:["$","span","code-segment-405",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
5c8:["$","span","code-segment-406",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
5c9:["$","span","code-segment-407",{"style":{},"children":[" "]}]
5ca:["$","span","code-segment-408",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
5cb:["$","span","code-segment-409",{"style":{},"children":["\n"]}]
5cc:["$","span","line-number--58",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[58]}]
5cd:["$","span","code-segment-411",{"style":{},"children":["        node"]}]
5ce:["$","span","code-segment-412",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
5cf:["$","span","code-segment-413",{"className":"token property-access","style":{},"children":["textContent"]}]
5d0:["$","span","code-segment-414",{"style":{},"children":[" "]}]
5d1:["$","span","code-segment-415",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
5d2:["$","span","code-segment-416",{"style":{},"children":[" nextVal"]}]
5d3:["$","span","code-segment-417",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["["]}]
5d4:["$","span","code-segment-418",{"style":{},"children":["k"]}]
5d5:["$","span","code-segment-419",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["]"]}]
5d6:["$","span","code-segment-420",{"style":{},"children":[" "]}]
5d7:["$","span","code-segment-421",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["+"]}]
5d8:["$","span","code-segment-422",{"style":{},"children":[" "]}]
5d9:["$","span","code-segment-423",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["''"]}]
5da:["$","span","code-segment-424",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
5db:["$","span","code-segment-425",{"style":{},"children":["\n"]}]
5dc:["$","span","line-number--59",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[59]}]
5dd:["$","span","code-segment-427",{"style":{},"children":["      "]}]
5de:["$","span","code-segment-428",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
5df:["$","span","code-segment-429",{"style":{},"children":["\n"]}]
5e0:["$","span","line-number--60",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[60]}]
5e1:["$","span","code-segment-431",{"style":{},"children":["    "]}]
5e2:["$","span","code-segment-432",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
5e3:["$","span","code-segment-433",{"style":{},"children":[" "]}]
5e4:["$","span","code-segment-434",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["else"]}]
5e5:["$","span","code-segment-435",{"style":{},"children":[" "]}]
5e6:["$","span","code-segment-436",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
5e7:["$","span","code-segment-437",{"style":{},"children":[" "]}]
5e8:["$","span","code-segment-438",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
5e9:["$","span","code-segment-439",{"style":{},"children":["k"]}]
5ea:["$","span","code-segment-440",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
5eb:["$","span","code-segment-441",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["slice"]}]
5ec:["$","span","code-segment-442",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
5ed:["$","span","code-segment-443",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["0"]}]
5ee:["$","span","code-segment-444",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
5ef:["$","span","code-segment-445",{"style":{},"children":[" "]}]
5f0:["$","span","code-segment-446",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["2"]}]
5f1:["$","span","code-segment-447",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
5f2:["$","span","code-segment-448",{"style":{},"children":[" "]}]
5f3:["$","span","code-segment-449",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["==="]}]
5f4:["$","span","code-segment-450",{"style":{},"children":[" "]}]
5f5:["$","span","code-segment-451",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["'on'"]}]
5f6:["$","span","code-segment-452",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
5f7:["$","span","code-segment-453",{"style":{},"children":[" "]}]
5f8:["$","span","code-segment-454",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
5f9:["$","span","code-segment-455",{"style":{},"children":["\n"]}]
5fa:["$","span","line-number--61",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[61]}]
5fb:["$","span","code-segment-457",{"style":{},"children":["      "]}]
5fc:["$","span","code-segment-458",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
5fd:["$","span","code-segment-459",{"style":{},"children":[" eventName "]}]
5fe:["$","span","code-segment-460",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
5ff:["$","span","code-segment-461",{"style":{},"children":[" k"]}]
600:["$","span","code-segment-462",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
601:["$","span","code-segment-463",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["slice"]}]
602:["$","span","code-segment-464",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
603:["$","span","code-segment-465",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["2"]}]
604:["$","span","code-segment-466",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
605:["$","span","code-segment-467",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
606:["$","span","code-segment-468",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["toLocaleLowerCase"]}]
607:["$","span","code-segment-469",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
608:["$","span","code-segment-470",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
609:["$","span","code-segment-471",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
60a:["$","span","code-segment-472",{"style":{},"children":["\n"]}]
60b:["$","span","line-number--62",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[62]}]
60c:["$","span","code-segment-474",{"style":{},"children":["      node"]}]
60d:["$","span","code-segment-475",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
60e:["$","span","code-segment-476",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["addEventListener"]}]
60f:["$","span","code-segment-477",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
610:["$","span","code-segment-478",{"style":{},"children":["eventName"]}]
611:["$","span","code-segment-479",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
612:["$","span","code-segment-480",{"style":{},"children":[" nextVal"]}]
613:["$","span","code-segment-481",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["["]}]
614:["$","span","code-segment-482",{"style":{},"children":["k"]}]
615:["$","span","code-segment-483",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["]"]}]
616:["$","span","code-segment-484",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
617:["$","span","code-segment-485",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
618:["$","span","code-segment-486",{"style":{},"children":["\n"]}]
619:["$","span","line-number--63",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[63]}]
61a:["$","span","code-segment-488",{"style":{},"children":["    "]}]
61b:["$","span","code-segment-489",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
61c:["$","span","code-segment-490",{"style":{},"children":[" "]}]
61d:["$","span","code-segment-491",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["else"]}]
61e:["$","span","code-segment-492",{"style":{},"children":[" "]}]
61f:["$","span","code-segment-493",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
620:["$","span","code-segment-494",{"style":{},"children":["\n"]}]
621:["$","span","line-number--64",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[64]}]
622:["$","span","code-segment-496",{"style":{},"children":["      node"]}]
623:["$","span","code-segment-497",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["["]}]
624:["$","span","code-segment-498",{"style":{},"children":["k"]}]
625:["$","span","code-segment-499",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["]"]}]
626:["$","span","code-segment-500",{"style":{},"children":[" "]}]
627:["$","span","code-segment-501",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
628:["$","span","code-segment-502",{"style":{},"children":[" nextVal"]}]
629:["$","span","code-segment-503",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["["]}]
62a:["$","span","code-segment-504",{"style":{},"children":["k"]}]
62b:["$","span","code-segment-505",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["]"]}]
62c:["$","span","code-segment-506",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
62d:["$","span","code-segment-507",{"style":{},"children":["\n"]}]
62e:["$","span","line-number--65",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[65]}]
62f:["$","span","code-segment-509",{"style":{},"children":["    "]}]
630:["$","span","code-segment-510",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
631:["$","span","code-segment-511",{"style":{},"children":["\n"]}]
632:["$","span","line-number--66",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[66]}]
633:["$","span","code-segment-513",{"style":{},"children":["  "]}]
634:["$","span","code-segment-514",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
635:["$","span","code-segment-515",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
636:["$","span","code-segment-516",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
637:["$","span","code-segment-517",{"style":{},"children":["\n"]}]
638:["$","span","line-number--67",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[67]}]
639:["$","span","code-segment-519",{"style":{},"children":[""]}]
63a:["$","span","code-segment-520",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
63b:["$","span","code-segment-521",{"style":{},"children":["\n"]}]
63c:["$","span","line-number--68",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[68]}]
63d:["$","span","line-number--69",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[69]}]
63e:["$","span","code-segment-525",{"style":{},"children":[""]}]
63f:["$","span","code-segment-526",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}]
640:["$","span","code-segment-527",{"style":{},"children":[" "]}]
641:["$","span","code-segment-528",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["commitDeletions"]}]
642:["$","span","code-segment-529",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
643:["$","span","code-segment-530",{"className":"token parameter","style":{},"children":["deletions"]}]
644:["$","span","code-segment-531",{"className":"token parameter","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
645:["$","span","code-segment-532",{"className":"token parameter","style":{},"children":[" parentNode"]}]
646:["$","span","code-segment-533",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
647:["$","span","code-segment-534",{"style":{},"children":[" "]}]
648:["$","span","code-segment-535",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
649:["$","span","code-segment-536",{"style":{},"children":["\n"]}]
64a:["$","span","line-number--70",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[70]}]
64b:["$","span","code-segment-538",{"style":{},"children":["  "]}]
64c:["$","span","code-segment-539",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["for"]}]
64d:["$","span","code-segment-540",{"style":{},"children":[" "]}]
64e:["$","span","code-segment-541",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
64f:["$","span","code-segment-542",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["let"]}]
650:["$","span","code-segment-543",{"style":{},"children":[" i "]}]
651:["$","span","code-segment-544",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
652:["$","span","code-segment-545",{"style":{},"children":[" "]}]
653:["$","span","code-segment-546",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["0"]}]
654:["$","span","code-segment-547",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
655:["$","span","code-segment-548",{"style":{},"children":[" i "]}]
656:["$","span","code-segment-549",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["<"]}]
657:["$","span","code-segment-550",{"style":{},"children":[" deletions"]}]
658:["$","span","code-segment-551",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
659:["$","span","code-segment-552",{"className":"token property-access","style":{},"children":["length"]}]
65a:["$","span","code-segment-553",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
65b:["$","span","code-segment-554",{"style":{},"children":[" i"]}]
65c:["$","span","code-segment-555",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["++"]}]
65d:["$","span","code-segment-556",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
65e:["$","span","code-segment-557",{"style":{},"children":[" "]}]
65f:["$","span","code-segment-558",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
660:["$","span","code-segment-559",{"style":{},"children":["\n"]}]
661:["$","span","line-number--71",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[71]}]
662:["$","span","code-segment-561",{"style":{},"children":["    parentNode"]}]
663:["$","span","code-segment-562",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
664:["$","span","code-segment-563",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["removeChild"]}]
665:["$","span","code-segment-564",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
666:["$","span","code-segment-565",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["getStateNode"]}]
667:["$","span","code-segment-566",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
668:["$","span","code-segment-567",{"style":{},"children":["deletions"]}]
669:["$","span","code-segment-568",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["["]}]
66a:["$","span","code-segment-569",{"style":{},"children":["i"]}]
66b:["$","span","code-segment-570",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["]"]}]
66c:["$","span","code-segment-571",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
66d:["$","span","code-segment-572",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
66e:["$","span","code-segment-573",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
66f:["$","span","code-segment-574",{"style":{},"children":["\n"]}]
670:["$","span","line-number--72",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[72]}]
671:["$","span","code-segment-576",{"style":{},"children":["  "]}]
672:["$","span","code-segment-577",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
673:["$","span","code-segment-578",{"style":{},"children":["\n"]}]
674:["$","span","line-number--73",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[73]}]
675:["$","span","code-segment-580",{"style":{},"children":[""]}]
676:["$","span","code-segment-581",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
677:["$","span","code-segment-582",{"style":{},"children":["\n"]}]
678:["$","span","line-number--74",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[74]}]
679:["$","span","line-number--75",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[75]}]
67a:["$","span","code-segment-586",{"style":{},"children":[""]}]
67b:["$","span","code-segment-587",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}]
67c:["$","span","code-segment-588",{"style":{},"children":[" "]}]
67d:["$","span","code-segment-589",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["getStateNode"]}]
67e:["$","span","code-segment-590",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
67f:["$","span","code-segment-591",{"className":"token parameter","style":{},"children":["fiber"]}]
680:["$","span","code-segment-592",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
681:["$","span","code-segment-593",{"style":{},"children":[" "]}]
682:["$","span","code-segment-594",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
683:["$","span","code-segment-595",{"style":{},"children":["\n"]}]
684:["$","span","line-number--76",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[76]}]
685:["$","span","code-segment-597",{"style":{},"children":["  "]}]
686:["$","span","code-segment-598",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["let"]}]
687:["$","span","code-segment-599",{"style":{},"children":[" tem "]}]
688:["$","span","code-segment-600",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
689:["$","span","code-segment-601",{"style":{},"children":[" fiber"]}]
68a:["$","span","code-segment-602",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
68b:["$","span","code-segment-603",{"style":{},"children":["\n"]}]
68c:["$","span","line-number--77",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[77]}]
68d:["$","span","code-segment-605",{"style":{},"children":["  "]}]
68e:["$","span","code-segment-606",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["while"]}]
68f:["$","span","code-segment-607",{"style":{},"children":[" "]}]
690:["$","span","code-segment-608",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
691:["$","span","code-segment-609",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["!"]}]
692:["$","span","code-segment-610",{"style":{},"children":["tem"]}]
693:["$","span","code-segment-611",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
694:["$","span","code-segment-612",{"className":"token property-access","style":{},"children":["stateNode"]}]
695:["$","span","code-segment-613",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
696:["$","span","code-segment-614",{"style":{},"children":[" "]}]
697:["$","span","code-segment-615",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
698:["$","span","code-segment-616",{"style":{},"children":["\n"]}]
699:["$","span","line-number--78",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[78]}]
69a:["$","span","code-segment-618",{"style":{},"children":["    tem "]}]
69b:["$","span","code-segment-619",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
69c:["$","span","code-segment-620",{"style":{},"children":[" tem"]}]
69d:["$","span","code-segment-621",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
69e:["$","span","code-segment-622",{"className":"token property-access","style":{},"children":["child"]}]
69f:["$","span","code-segment-623",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
6a0:["$","span","code-segment-624",{"style":{},"children":["\n"]}]
6a1:["$","span","line-number--79",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[79]}]
6a2:["$","span","code-segment-626",{"style":{},"children":["  "]}]
6a3:["$","span","code-segment-627",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
6a4:["$","span","code-segment-628",{"style":{},"children":["\n"]}]
6a5:["$","span","line-number--80",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[80]}]
6a6:["$","span","line-number--81",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[81]}]
6a7:["$","span","code-segment-632",{"style":{},"children":["  "]}]
6a8:["$","span","code-segment-633",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
6a9:["$","span","code-segment-634",{"style":{},"children":[" tem"]}]
6aa:["$","span","code-segment-635",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
6ab:["$","span","code-segment-636",{"className":"token property-access","style":{},"children":["stateNode"]}]
6ac:["$","span","code-segment-637",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
6ad:["$","span","code-segment-638",{"style":{},"children":["\n"]}]
6ae:["$","span","line-number--82",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[82]}]
6af:["$","span","code-segment-640",{"style":{},"children":[""]}]
6b0:["$","span","code-segment-641",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
6b1:["$","span","code-segment-26",{"style":{},"children":[" "]}]
6b2:["$","span","code-segment-27",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
6b3:["$","span","code-segment-28",{"style":{},"children":["\n"]}]
6b4:["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}]
6b5:["$","span","code-segment-30",{"style":{},"children":["    "]}]
6b6:["$","span","code-segment-31",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// type : dom.nodeName.toLowerCase()"]}]
6b7:["$","span","code-segment-32",{"style":{},"children":["\n"]}]
6b8:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
6b9:["$","span","code-segment-34",{"style":{},"children":["    wip"]}]
6ba:["$","span","code-segment-35",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
6bb:["$","span","code-segment-36",{"className":"token property-access","style":{},"children":["stateNode"]}]
6bc:["$","span","code-segment-37",{"style":{},"children":[" "]}]
6bd:["$","span","code-segment-38",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
6be:["$","span","code-segment-39",{"style":{},"children":[" "]}]
6bf:["$","span","code-segment-40",{"className":"token dom","style":{"color":"hsl(221, 87%, 60%)"},"children":["document"]}]
6c0:["$","span","code-segment-41",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
6c1:["$","span","code-segment-42",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["createElement"]}]
6c2:["$","span","code-segment-43",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
6c3:["$","span","code-segment-44",{"style":{},"children":["wip"]}]
6c4:["$","span","code-segment-45",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
6c5:["$","span","code-segment-46",{"className":"token property-access","style":{},"children":["type"]}]
6c6:["$","span","code-segment-47",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
6c7:["$","span","code-segment-48",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
6c8:["$","span","code-segment-49",{"style":{},"children":["\n"]}]
6c9:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
6ca:["$","span","code-segment-51",{"style":{},"children":["    "]}]
6cb:["$","span","code-segment-52",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 最终都会归类到原生节点"]}]
6cc:["$","span","code-segment-53",{"style":{},"children":["\n"]}]
6cd:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
6ce:["$","span","code-segment-55",{"style":{},"children":["    "]}]
6cf:["$","span","code-segment-56",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 初始化在这里commit，之后的更新在commitWorker里commit"]}]
6d0:["$","span","code-segment-57",{"style":{},"children":["\n"]}]
6d1:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
6d2:["$","span","code-segment-59",{"style":{},"children":["    "]}]
6d3:["$","span","code-segment-60",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["updateNode"]}]
6d4:["$","span","code-segment-61",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
6d5:["$","span","code-segment-62",{"style":{},"children":["wip"]}]
6d6:["$","span","code-segment-63",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
6d7:["$","span","code-segment-64",{"className":"token property-access","style":{},"children":["stateNode"]}]
6d8:["$","span","code-segment-65",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
6d9:["$","span","code-segment-66",{"style":{},"children":[" "]}]
6da:["$","span","code-segment-67",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
6db:["$","span","code-segment-68",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
6dc:["$","span","code-segment-69",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
6dd:["$","span","code-segment-70",{"style":{},"children":[" wip"]}]
6de:["$","span","code-segment-71",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
6df:["$","span","code-segment-72",{"className":"token property-access","style":{},"children":["props"]}]
6e0:["$","span","code-segment-73",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
6e1:["$","span","code-segment-74",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
6e2:["$","span","code-segment-75",{"style":{},"children":["\n"]}]
6e3:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
6e4:["$","span","code-segment-77",{"style":{},"children":["  "]}]
6e5:["$","span","code-segment-78",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
6e6:["$","span","code-segment-79",{"style":{},"children":["\n"]}]
6e7:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
6e8:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
6e9:["$","span","code-segment-83",{"style":{},"children":["  "]}]
6ea:["$","span","code-segment-84",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 协调子节点"]}]
6eb:["$","span","code-segment-85",{"style":{},"children":["\n"]}]
6ec:["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[12]}]
6ed:["$","span","code-segment-87",{"style":{},"children":["  "]}]
6ee:["$","span","code-segment-88",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["reconcileChildren"]}]
6ef:["$","span","code-segment-89",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
6f0:["$","span","code-segment-90",{"style":{},"children":["wip"]}]
6f1:["$","span","code-segment-91",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
6f2:["$","span","code-segment-92",{"style":{},"children":[" wip"]}]
6f3:["$","span","code-segment-93",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
6f4:["$","span","code-segment-94",{"className":"token property-access","style":{},"children":["props"]}]
6f5:["$","span","code-segment-95",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
6f6:["$","span","code-segment-96",{"className":"token property-access","style":{},"children":["children"]}]
6f7:["$","span","code-segment-97",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
6f8:["$","span","code-segment-98",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
6f9:["$","span","code-segment-99",{"style":{},"children":["\n"]}]
6fa:["$","span","line-number--13",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[13]}]
6fb:["$","span","code-segment-101",{"style":{},"children":[""]}]
6fc:["$","span","code-segment-102",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
6fd:["$","span","code-segment-29",{"className":"token property-access","style":{},"children":["props"]}]
6fe:["$","span","code-segment-30",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
6ff:["$","span","code-segment-31",{"className":"token property-access","style":{},"children":["children"]}]
700:["$","span","code-segment-32",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
701:["$","span","code-segment-33",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
702:["$","span","code-segment-34",{"style":{},"children":["\n"]}]
703:["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}]
704:["$","span","code-segment-36",{"style":{},"children":[""]}]
705:["$","span","code-segment-37",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
706:["$","span","code-segment-29",{"style":{},"children":["  "]}]
707:["$","span","code-segment-30",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// type 是类的构造器"]}]
708:["$","span","code-segment-31",{"style":{},"children":["\n"]}]
709:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
70a:["$","span","code-segment-33",{"style":{},"children":["  "]}]
70b:["$","span","code-segment-34",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
70c:["$","span","code-segment-35",{"style":{},"children":[" instance "]}]
70d:["$","span","code-segment-36",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
70e:["$","span","code-segment-37",{"style":{},"children":[" "]}]
70f:["$","span","code-segment-38",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["new"]}]
710:["$","span","code-segment-39",{"style":{},"children":[" "]}]
711:["$","span","code-segment-40",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["type"]}]
712:["$","span","code-segment-41",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
713:["$","span","code-segment-42",{"style":{},"children":["props"]}]
714:["$","span","code-segment-43",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
715:["$","span","code-segment-44",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
716:["$","span","code-segment-45",{"style":{},"children":["\n"]}]
717:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
718:["$","span","code-segment-47",{"style":{},"children":["  "]}]
719:["$","span","code-segment-48",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
71a:["$","span","code-segment-49",{"style":{},"children":[" children "]}]
71b:["$","span","code-segment-50",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
71c:["$","span","code-segment-51",{"style":{},"children":[" instance"]}]
71d:["$","span","code-segment-52",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
71e:["$","span","code-segment-53",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["render"]}]
71f:["$","span","code-segment-54",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
720:["$","span","code-segment-55",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
721:["$","span","code-segment-56",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
722:["$","span","code-segment-57",{"style":{},"children":["\n"]}]
723:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
724:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
725:["$","span","code-segment-61",{"style":{},"children":["  "]}]
726:["$","span","code-segment-62",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["reconcileChildren"]}]
727:["$","span","code-segment-63",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
728:["$","span","code-segment-64",{"style":{},"children":["wip"]}]
729:["$","span","code-segment-65",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
72a:["$","span","code-segment-66",{"style":{},"children":[" children"]}]
72b:["$","span","code-segment-67",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
72c:["$","span","code-segment-68",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
72d:["$","span","code-segment-69",{"style":{},"children":["\n"]}]
72e:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
72f:["$","span","code-segment-71",{"style":{},"children":[""]}]
730:["$","span","code-segment-72",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
731:["$","span","code-segment-27",{"style":{},"children":[" props "]}]
732:["$","span","code-segment-28",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
733:["$","span","code-segment-29",{"style":{},"children":[" "]}]
734:["$","span","code-segment-30",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
735:["$","span","code-segment-31",{"style":{},"children":[" wip"]}]
736:["$","span","code-segment-32",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
737:["$","span","code-segment-33",{"style":{},"children":["\n"]}]
738:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
739:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
73a:["$","span","code-segment-37",{"style":{},"children":["  "]}]
73b:["$","span","code-segment-38",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
73c:["$","span","code-segment-39",{"style":{},"children":[" children "]}]
73d:["$","span","code-segment-40",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
73e:["$","span","code-segment-41",{"style":{},"children":[" "]}]
73f:["$","span","code-segment-42",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["type"]}]
740:["$","span","code-segment-43",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
741:["$","span","code-segment-44",{"style":{},"children":["props"]}]
742:["$","span","code-segment-45",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
743:["$","span","code-segment-46",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
744:["$","span","code-segment-47",{"style":{},"children":["\n"]}]
745:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
746:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
747:["$","span","code-segment-51",{"style":{},"children":["  "]}]
748:["$","span","code-segment-52",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["reconcileChildren"]}]
749:["$","span","code-segment-53",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
74a:["$","span","code-segment-54",{"style":{},"children":["wip"]}]
74b:["$","span","code-segment-55",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
74c:["$","span","code-segment-56",{"style":{},"children":[" children"]}]
74d:["$","span","code-segment-57",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
74e:["$","span","code-segment-58",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
74f:["$","span","code-segment-59",{"style":{},"children":["\n"]}]
750:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
751:["$","span","code-segment-61",{"style":{},"children":[""]}]
752:["$","span","code-segment-62",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
754:["$","span","code-segment-13",{"style":{},"children":["  "]}]
755:["$","span","code-segment-14",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
756:["$","span","code-segment-15",{"style":{},"children":[" "]}]
757:["$","span","code-segment-16",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
758:["$","span","code-segment-17",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["isStringOrNumber"]}]
759:["$","span","code-segment-18",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
75a:["$","span","code-segment-19",{"style":{},"children":["children"]}]
75b:["$","span","code-segment-20",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
75c:["$","span","code-segment-21",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
75d:["$","span","code-segment-22",{"style":{},"children":[" "]}]
75e:["$","span","code-segment-23",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
75f:["$","span","code-segment-24",{"style":{},"children":["\n"]}]
760:["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}]
761:["$","span","code-segment-26",{"style":{},"children":["    "]}]
762:["$","span","code-segment-27",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
763:["$","span","code-segment-28",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
764:["$","span","code-segment-29",{"style":{},"children":["\n"]}]
765:["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}]
766:["$","span","code-segment-31",{"style":{},"children":["  "]}]
767:["$","span","code-segment-32",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
768:["$","span","code-segment-33",{"style":{},"children":["\n"]}]
769:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
76a:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
76b:["$","span","code-segment-37",{"style":{},"children":["  "]}]
76c:["$","span","code-segment-38",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 原生 dom 只有一个 child，会是一个对象，这里统一放在数组里"]}]
76d:["$","span","code-segment-39",{"style":{},"children":["\n"]}]
76e:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
76f:["$","span","code-segment-41",{"style":{},"children":["  "]}]
770:["$","span","code-segment-42",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
771:["$","span","code-segment-43",{"style":{},"children":[" newChildren "]}]
772:["$","span","code-segment-44",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
773:["$","span","code-segment-45",{"style":{},"children":[" "]}]
774:["$","span","code-segment-46",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["isArray"]}]
775:["$","span","code-segment-47",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
776:["$","span","code-segment-48",{"style":{},"children":["children"]}]
777:["$","span","code-segment-49",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
778:["$","span","code-segment-50",{"style":{},"children":[" "]}]
779:["$","span","code-segment-51",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["?"]}]
77a:["$","span","code-segment-52",{"style":{},"children":[" children "]}]
77b:["$","span","code-segment-53",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
77c:["$","span","code-segment-54",{"style":{},"children":[" "]}]
77d:["$","span","code-segment-55",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["["]}]
77e:["$","span","code-segment-56",{"style":{},"children":["children"]}]
77f:["$","span","code-segment-57",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["]"]}]
780:["$","span","code-segment-58",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
781:["$","span","code-segment-59",{"style":{},"children":["\n"]}]
782:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
783:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
784:["$","span","code-segment-63",{"style":{},"children":["  "]}]
785:["$","span","code-segment-64",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 记录上一个fiber"]}]
786:["$","span","code-segment-65",{"style":{},"children":["\n"]}]
787:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
788:["$","span","code-segment-67",{"style":{},"children":["  "]}]
789:["$","span","code-segment-68",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["let"]}]
78a:["$","span","code-segment-69",{"style":{},"children":[" previousNewFiber "]}]
78b:["$","span","code-segment-70",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
78c:["$","span","code-segment-71",{"style":{},"children":[" "]}]
78d:["$","span","code-segment-72",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}]
78e:["$","span","code-segment-73",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
78f:["$","span","code-segment-74",{"style":{},"children":["\n"]}]
790:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
791:["$","span","code-segment-76",{"style":{},"children":["  "]}]
792:["$","span","code-segment-77",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["let"]}]
793:["$","span","code-segment-78",{"style":{},"children":[" oldFiber "]}]
794:["$","span","code-segment-79",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
795:["$","span","code-segment-80",{"style":{},"children":[" wip"]}]
796:["$","span","code-segment-81",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
797:["$","span","code-segment-82",{"className":"token property-access","style":{},"children":["alternate"]}]
798:["$","span","code-segment-83",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["?."]}]
799:["$","span","code-segment-84",{"style":{},"children":["child"]}]
79a:["$","span","code-segment-85",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
79b:["$","span","code-segment-86",{"style":{},"children":["\n"]}]
79c:["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[12]}]
79d:["$","span","code-segment-88",{"style":{},"children":["  "]}]
79e:["$","span","code-segment-89",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["for"]}]
79f:["$","span","code-segment-90",{"style":{},"children":[" "]}]
7a0:["$","span","code-segment-91",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
7a1:["$","span","code-segment-92",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["let"]}]
7a2:["$","span","code-segment-93",{"style":{},"children":[" i "]}]
7a3:["$","span","code-segment-94",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
7a4:["$","span","code-segment-95",{"style":{},"children":[" "]}]
7a5:["$","span","code-segment-96",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["0"]}]
7a6:["$","span","code-segment-97",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
7a7:["$","span","code-segment-98",{"style":{},"children":[" i "]}]
7a8:["$","span","code-segment-99",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["<"]}]
7a9:["$","span","code-segment-100",{"style":{},"children":[" newChildren"]}]
7aa:["$","span","code-segment-101",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
7ab:["$","span","code-segment-102",{"className":"token property-access","style":{},"children":["length"]}]
7ac:["$","span","code-segment-103",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
7ad:["$","span","code-segment-104",{"style":{},"children":[" i"]}]
7ae:["$","span","code-segment-105",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["++"]}]
7af:["$","span","code-segment-106",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
7b0:["$","span","code-segment-107",{"style":{},"children":[" "]}]
7b1:["$","span","code-segment-108",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
7b2:["$","span","code-segment-109",{"style":{},"children":["\n"]}]
7b3:["$","span","line-number--13",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[13]}]
7b4:["$","span","code-segment-111",{"style":{},"children":["    "]}]
7b5:["$","span","code-segment-112",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
7b6:["$","span","code-segment-113",{"style":{},"children":[" newChild "]}]
7b7:["$","span","code-segment-114",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
7b8:["$","span","code-segment-115",{"style":{},"children":[" newChildren"]}]
7b9:["$","span","code-segment-116",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["["]}]
7ba:["$","span","code-segment-117",{"style":{},"children":["i"]}]
7bb:["$","span","code-segment-118",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["]"]}]
7bc:["$","span","code-segment-119",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
7bd:["$","span","code-segment-120",{"style":{},"children":["\n"]}]
7be:["$","span","line-number--14",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[14]}]
7bf:["$","span","code-segment-122",{"style":{},"children":["    "]}]
7c0:["$","span","code-segment-123",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
7c1:["$","span","code-segment-124",{"style":{},"children":[" "]}]
7c2:["$","span","code-segment-125",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
7c3:["$","span","code-segment-126",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["!"]}]
7c4:["$","span","code-segment-127",{"style":{},"children":["newChild"]}]
7c5:["$","span","code-segment-128",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
7c6:["$","span","code-segment-129",{"style":{},"children":[" "]}]
7c7:["$","span","code-segment-130",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
7c8:["$","span","code-segment-131",{"style":{},"children":["\n"]}]
7c9:["$","span","line-number--15",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[15]}]
7ca:["$","span","code-segment-133",{"style":{},"children":["      "]}]
7cb:["$","span","code-segment-134",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 规避这样的写法： {null}"]}]
7cc:["$","span","code-segment-135",{"style":{},"children":["\n"]}]
7cd:["$","span","line-number--16",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[16]}]
7ce:["$","span","code-segment-137",{"style":{},"children":["      "]}]
7cf:["$","span","code-segment-138",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["continue"]}]
7d0:["$","span","code-segment-139",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
7d1:["$","span","code-segment-140",{"style":{},"children":["\n"]}]
7d2:["$","span","line-number--17",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[17]}]
7d3:["$","span","code-segment-142",{"style":{},"children":["    "]}]
7d4:["$","span","code-segment-143",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
7d5:["$","span","code-segment-144",{"style":{},"children":["\n"]}]
7d6:["$","span","line-number--18",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[18]}]
7d7:["$","span","code-segment-146",{"style":{},"children":["    "]}]
7d8:["$","span","code-segment-147",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
7d9:["$","span","code-segment-148",{"style":{},"children":[" newFiber "]}]
7da:["$","span","code-segment-149",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
7db:["$","span","code-segment-150",{"style":{},"children":[" "]}]
7dc:["$","span","code-segment-151",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["createFiber"]}]
7dd:["$","span","code-segment-152",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
7de:["$","span","code-segment-153",{"style":{},"children":["newChild"]}]
7df:["$","span","code-segment-154",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
7e0:["$","span","code-segment-155",{"style":{},"children":[" wip"]}]
7e1:["$","span","code-segment-156",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
7e2:["$","span","code-segment-157",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
7e3:["$","span","code-segment-158",{"style":{},"children":["\n"]}]
7e4:["$","span","line-number--19",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[19]}]
7e5:["$","span","line-number--20",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[20]}]
7e6:["$","span","code-segment-162",{"style":{},"children":["    "]}]
7e7:["$","span","code-segment-163",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
7e8:["$","span","code-segment-164",{"style":{},"children":[" same "]}]
7e9:["$","span","code-segment-165",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
7ea:["$","span","code-segment-166",{"style":{},"children":[" "]}]
7eb:["$","span","code-segment-167",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["sameNode"]}]
7ec:["$","span","code-segment-168",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
7ed:["$","span","code-segment-169",{"style":{},"children":["newFiber"]}]
7ee:["$","span","code-segment-170",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
7ef:["$","span","code-segment-171",{"style":{},"children":[" oldFiber"]}]
7f0:["$","span","code-segment-172",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
7f1:["$","span","code-segment-173",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
7f2:["$","span","code-segment-174",{"style":{},"children":["\n"]}]
7f3:["$","span","line-number--21",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[21]}]
7f4:["$","span","line-number--22",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[22]}]
7f5:["$","span","code-segment-178",{"style":{},"children":["    "]}]
7f6:["$","span","code-segment-179",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
7f7:["$","span","code-segment-180",{"style":{},"children":[" "]}]
7f8:["$","span","code-segment-181",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
7f9:["$","span","code-segment-182",{"style":{},"children":["same"]}]
7fa:["$","span","code-segment-183",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
7fb:["$","span","code-segment-184",{"style":{},"children":[" "]}]
7fc:["$","span","code-segment-185",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
7fd:["$","span","code-segment-186",{"style":{},"children":["\n"]}]
7fe:["$","span","line-number--23",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[23]}]
7ff:["$","span","code-segment-188",{"style":{},"children":["      "]}]
800:["$","span","code-segment-189",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 标记：更新节点"]}]
801:["$","span","code-segment-190",{"style":{},"children":["\n"]}]
802:["$","span","line-number--24",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[24]}]
803:["$","span","code-segment-192",{"style":{},"children":["      "]}]
804:["$","span","code-segment-193",{"className":"token known-class-name","style":{"color":"hsl(35, 99%, 36%)"},"children":["Object"]}]
805:["$","span","code-segment-194",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
806:["$","span","code-segment-195",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["assign"]}]
807:["$","span","code-segment-196",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
808:["$","span","code-segment-197",{"style":{},"children":["newFiber"]}]
809:["$","span","code-segment-198",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
80a:["$","span","code-segment-199",{"style":{},"children":[" "]}]
80b:["$","span","code-segment-200",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
80c:["$","span","code-segment-201",{"style":{},"children":["\n"]}]
80d:["$","span","line-number--25",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[25]}]
80e:["$","span","code-segment-203",{"style":{},"children":["        "]}]
80f:["$","span","code-segment-204",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["stateNode"]}]
810:["$","span","code-segment-205",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
811:["$","span","code-segment-206",{"style":{},"children":[" oldFiber"]}]
812:["$","span","code-segment-207",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
813:["$","span","code-segment-208",{"className":"token property-access","style":{},"children":["stateNode"]}]
814:["$","span","code-segment-209",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
815:["$","span","code-segment-210",{"style":{},"children":["\n"]}]
816:["$","span","line-number--26",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[26]}]
817:["$","span","code-segment-212",{"style":{},"children":["        "]}]
818:["$","span","code-segment-213",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["alternate"]}]
819:["$","span","code-segment-214",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
81a:["$","span","code-segment-215",{"style":{},"children":[" oldFiber"]}]
81b:["$","span","code-segment-216",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
81c:["$","span","code-segment-217",{"style":{},"children":["\n"]}]
81d:["$","span","line-number--27",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[27]}]
81e:["$","span","code-segment-219",{"style":{},"children":["        "]}]
81f:["$","span","code-segment-220",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["flags"]}]
820:["$","span","code-segment-221",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
821:["$","span","code-segment-222",{"style":{},"children":[" "]}]
822:["$","span","code-segment-223",{"className":"token maybe-class-name","style":{},"children":["Update"]}]
823:["$","span","code-segment-224",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
824:["$","span","code-segment-225",{"style":{},"children":["\n"]}]
825:["$","span","line-number--28",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[28]}]
826:["$","span","code-segment-227",{"style":{},"children":["      "]}]
827:["$","span","code-segment-228",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
828:["$","span","code-segment-229",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
829:["$","span","code-segment-230",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
82a:["$","span","code-segment-231",{"style":{},"children":["\n"]}]
82b:["$","span","line-number--29",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[29]}]
82c:["$","span","code-segment-233",{"style":{},"children":["    "]}]
82d:["$","span","code-segment-234",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
82e:["$","span","code-segment-235",{"style":{},"children":["\n"]}]
82f:["$","span","line-number--30",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[30]}]
830:["$","span","line-number--31",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[31]}]
831:["$","span","code-segment-239",{"style":{},"children":["    "]}]
832:["$","span","code-segment-240",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
833:["$","span","code-segment-241",{"style":{},"children":[" "]}]
834:["$","span","code-segment-242",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
835:["$","span","code-segment-243",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["!"]}]
836:["$","span","code-segment-244",{"style":{},"children":["same "]}]
837:["$","span","code-segment-245",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["&&"]}]
838:["$","span","code-segment-246",{"style":{},"children":[" oldFiber"]}]
839:["$","span","code-segment-247",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
83a:["$","span","code-segment-248",{"style":{},"children":[" "]}]
83b:["$","span","code-segment-249",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
83c:["$","span","code-segment-250",{"style":{},"children":["\n"]}]
83d:["$","span","line-number--32",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[32]}]
83e:["$","span","code-segment-252",{"style":{},"children":["      "]}]
83f:["$","span","code-segment-253",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 与新的不一样，标记：删除"]}]
840:["$","span","code-segment-254",{"style":{},"children":["\n"]}]
841:["$","span","line-number--33",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[33]}]
842:["$","span","code-segment-256",{"style":{},"children":["      "]}]
843:["$","span","code-segment-257",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["deleteChild"]}]
844:["$","span","code-segment-258",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
845:["$","span","code-segment-259",{"style":{},"children":["wip"]}]
846:["$","span","code-segment-260",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
847:["$","span","code-segment-261",{"style":{},"children":[" oldFiber"]}]
848:["$","span","code-segment-262",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
849:["$","span","code-segment-263",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
84a:["$","span","code-segment-264",{"style":{},"children":["\n"]}]
84b:["$","span","line-number--34",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[34]}]
84c:["$","span","code-segment-266",{"style":{},"children":["    "]}]
84d:["$","span","code-segment-267",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
84e:["$","span","code-segment-268",{"style":{},"children":["\n"]}]
84f:["$","span","line-number--35",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[35]}]
850:["$","span","line-number--36",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[36]}]
851:["$","span","code-segment-272",{"style":{},"children":["    "]}]
852:["$","span","code-segment-273",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
853:["$","span","code-segment-274",{"style":{},"children":[" "]}]
854:["$","span","code-segment-275",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
855:["$","span","code-segment-276",{"style":{},"children":["oldFiber"]}]
856:["$","span","code-segment-277",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
857:["$","span","code-segment-278",{"style":{},"children":[" "]}]
858:["$","span","code-segment-279",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
859:["$","span","code-segment-280",{"style":{},"children":["\n"]}]
85a:["$","span","line-number--37",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[37]}]
85b:["$","span","code-segment-282",{"style":{},"children":["      oldFiber "]}]
85c:["$","span","code-segment-283",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
85d:["$","span","code-segment-284",{"style":{},"children":[" oldFiber"]}]
85e:["$","span","code-segment-285",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
85f:["$","span","code-segment-286",{"className":"token property-access","style":{},"children":["sibling"]}]
860:["$","span","code-segment-287",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
861:["$","span","code-segment-288",{"style":{},"children":["\n"]}]
862:["$","span","line-number--38",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[38]}]
863:["$","span","code-segment-290",{"style":{},"children":["    "]}]
864:["$","span","code-segment-291",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
865:["$","span","code-segment-292",{"style":{},"children":["\n"]}]
866:["$","span","line-number--39",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[39]}]
867:["$","span","line-number--40",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[40]}]
868:["$","span","code-segment-296",{"style":{},"children":["    "]}]
869:["$","span","code-segment-297",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// createFiber 默认的 flags就是标识：Placement 新建"]}]
86a:["$","span","code-segment-298",{"style":{},"children":["\n"]}]
86b:["$","span","line-number--41",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[41]}]
86c:["$","span","code-segment-300",{"style":{},"children":["    "]}]
86d:["$","span","code-segment-301",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
86e:["$","span","code-segment-302",{"style":{},"children":[" "]}]
86f:["$","span","code-segment-303",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
870:["$","span","code-segment-304",{"style":{},"children":["i "]}]
871:["$","span","code-segment-305",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["==="]}]
872:["$","span","code-segment-306",{"style":{},"children":[" "]}]
873:["$","span","code-segment-307",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["0"]}]
874:["$","span","code-segment-308",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
875:["$","span","code-segment-309",{"style":{},"children":[" "]}]
876:["$","span","code-segment-310",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
877:["$","span","code-segment-311",{"style":{},"children":["\n"]}]
878:["$","span","line-number--42",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[42]}]
879:["$","span","code-segment-313",{"style":{},"children":["      "]}]
87a:["$","span","code-segment-314",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 子节点中的第一个，把链表构建起来"]}]
87b:["$","span","code-segment-315",{"style":{},"children":["\n"]}]
87c:["$","span","line-number--43",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[43]}]
87d:["$","span","code-segment-317",{"style":{},"children":["      wip"]}]
87e:["$","span","code-segment-318",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
87f:["$","span","code-segment-319",{"className":"token property-access","style":{},"children":["child"]}]
880:["$","span","code-segment-320",{"style":{},"children":[" "]}]
881:["$","span","code-segment-321",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
882:["$","span","code-segment-322",{"style":{},"children":[" newFiber"]}]
883:["$","span","code-segment-323",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
884:["$","span","code-segment-324",{"style":{},"children":["\n"]}]
885:["$","span","line-number--44",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[44]}]
886:["$","span","code-segment-326",{"style":{},"children":["    "]}]
887:["$","span","code-segment-327",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
888:["$","span","code-segment-328",{"style":{},"children":[" "]}]
889:["$","span","code-segment-329",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["else"]}]
88a:["$","span","code-segment-330",{"style":{},"children":[" "]}]
88b:["$","span","code-segment-331",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
88c:["$","span","code-segment-332",{"style":{},"children":["\n"]}]
88d:["$","span","line-number--45",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[45]}]
88e:["$","span","code-segment-334",{"style":{},"children":["      previousNewFiber"]}]
88f:["$","span","code-segment-335",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
890:["$","span","code-segment-336",{"className":"token property-access","style":{},"children":["sibling"]}]
891:["$","span","code-segment-337",{"style":{},"children":[" "]}]
892:["$","span","code-segment-338",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
893:["$","span","code-segment-339",{"style":{},"children":[" newFiber"]}]
894:["$","span","code-segment-340",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
895:["$","span","code-segment-341",{"style":{},"children":["\n"]}]
896:["$","span","line-number--46",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[46]}]
897:["$","span","code-segment-343",{"style":{},"children":["    "]}]
898:["$","span","code-segment-344",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
899:["$","span","code-segment-345",{"style":{},"children":["\n"]}]
89a:["$","span","line-number--47",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[47]}]
89b:["$","span","line-number--48",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[48]}]
89c:["$","span","code-segment-349",{"style":{},"children":["    previousNewFiber "]}]
89d:["$","span","code-segment-350",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
89e:["$","span","code-segment-351",{"style":{},"children":[" newFiber"]}]
89f:["$","span","code-segment-352",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
8a0:["$","span","code-segment-353",{"style":{},"children":["\n"]}]
8a1:["$","span","line-number--49",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[49]}]
8a2:["$","span","code-segment-355",{"style":{},"children":["  "]}]
8a3:["$","span","code-segment-356",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
8a4:["$","span","code-segment-357",{"style":{},"children":["\n"]}]
8a5:["$","span","line-number--50",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[50]}]
8a6:["$","span","code-segment-359",{"style":{},"children":[""]}]
8a7:["$","span","code-segment-360",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
8a8:["$","span","code-segment-361",{"style":{},"children":["\n"]}]
8a9:["$","span","line-number--51",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[51]}]
8aa:["$","span","line-number--52",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[52]}]
8ab:["$","span","code-segment-365",{"style":{},"children":[""]}]
8ac:["$","span","code-segment-366",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}]
8ad:["$","span","code-segment-367",{"style":{},"children":[" "]}]
8ae:["$","span","code-segment-368",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["deleteChild"]}]
8af:["$","span","code-segment-369",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
8b0:["$","span","code-segment-370",{"className":"token parameter","style":{},"children":["returnFiber"]}]
8b1:["$","span","code-segment-371",{"className":"token parameter","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
8b2:["$","span","code-segment-372",{"className":"token parameter","style":{},"children":[" childToDelete"]}]
8b3:["$","span","code-segment-373",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
8b4:["$","span","code-segment-374",{"style":{},"children":[" "]}]
8b5:["$","span","code-segment-375",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
8b6:["$","span","code-segment-376",{"style":{},"children":["\n"]}]
8b7:["$","span","line-number--53",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[53]}]
8b8:["$","span","code-segment-378",{"style":{},"children":["  "]}]
8b9:["$","span","code-segment-379",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
8ba:["$","span","code-segment-380",{"style":{},"children":[" deletions "]}]
8bb:["$","span","code-segment-381",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
8bc:["$","span","code-segment-382",{"style":{},"children":[" returnFiber"]}]
8bd:["$","span","code-segment-383",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
8be:["$","span","code-segment-384",{"className":"token property-access","style":{},"children":["deletions"]}]
8bf:["$","span","code-segment-385",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
8c0:["$","span","code-segment-386",{"style":{},"children":["\n"]}]
8c1:["$","span","line-number--54",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[54]}]
8c2:["$","span","line-number--55",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[55]}]
8c3:["$","span","code-segment-390",{"style":{},"children":["  "]}]
8c4:["$","span","code-segment-391",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
8c5:["$","span","code-segment-392",{"style":{},"children":[" "]}]
8c6:["$","span","code-segment-393",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
8c7:["$","span","code-segment-394",{"style":{},"children":["deletions"]}]
8c8:["$","span","code-segment-395",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
8c9:["$","span","code-segment-396",{"style":{},"children":[" "]}]
8ca:["$","span","code-segment-397",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
8cb:["$","span","code-segment-398",{"style":{},"children":["\n"]}]
8cc:["$","span","line-number--56",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[56]}]
8cd:["$","span","code-segment-400",{"style":{},"children":["    returnFiber"]}]
8ce:["$","span","code-segment-401",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
8cf:["$","span","code-segment-402",{"className":"token property-access","style":{},"children":["deletions"]}]
8d0:["$","span","code-segment-403",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
8d1:["$","span","code-segment-404",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["push"]}]
8d2:["$","span","code-segment-405",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
8d3:["$","span","code-segment-406",{"style":{},"children":["childToDelete"]}]
8d4:["$","span","code-segment-407",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
8d5:["$","span","code-segment-408",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
8d6:["$","span","code-segment-409",{"style":{},"children":["\n"]}]
8d7:["$","span","line-number--57",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[57]}]
8d8:["$","span","code-segment-411",{"style":{},"children":["  "]}]
8d9:["$","span","code-segment-412",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
8da:["$","span","code-segment-413",{"style":{},"children":[" "]}]
8db:["$","span","code-segment-414",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["else"]}]
8dc:["$","span","code-segment-415",{"style":{},"children":[" "]}]
8dd:["$","span","code-segment-416",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
8de:["$","span","code-segment-417",{"style":{},"children":["\n"]}]
8df:["$","span","line-number--58",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[58]}]
8e0:["$","span","code-segment-419",{"style":{},"children":["    returnFiber"]}]
8e1:["$","span","code-segment-420",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
8e2:["$","span","code-segment-421",{"className":"token property-access","style":{},"children":["deletions"]}]
8e3:["$","span","code-segment-422",{"style":{},"children":[" "]}]
8e4:["$","span","code-segment-423",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
8e5:["$","span","code-segment-424",{"style":{},"children":[" "]}]
8e6:["$","span","code-segment-425",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["["]}]
8e7:["$","span","code-segment-426",{"style":{},"children":["childToDelete"]}]
8e8:["$","span","code-segment-427",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["]"]}]
8e9:["$","span","code-segment-428",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
8ea:["$","span","code-segment-429",{"style":{},"children":["\n"]}]
8eb:["$","span","line-number--59",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[59]}]
8ec:["$","span","code-segment-431",{"style":{},"children":["  "]}]
8ed:["$","span","code-segment-432",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
8ee:["$","span","code-segment-433",{"style":{},"children":["\n"]}]
8ef:["$","span","line-number--60",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[60]}]
8f0:["$","span","code-segment-435",{"style":{},"children":[""]}]
8f1:["$","span","code-segment-436",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
8f2:["$","span","code-segment-437",{"style":{},"children":["\n"]}]
8f3:["$","span","line-number--61",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[61]}]
8f4:["$","span","line-number--62",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[62]}]
8f5:["$","span","code-segment-441",{"style":{},"children":[""]}]
8f6:["$","span","code-segment-442",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}]
8f7:["$","span","code-segment-443",{"style":{},"children":[" "]}]
8f8:["$","span","code-segment-444",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["sameNode"]}]
8f9:["$","span","code-segment-445",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
8fa:["$","span","code-segment-446",{"className":"token parameter","style":{},"children":["a"]}]
8fb:["$","span","code-segment-447",{"className":"token parameter","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
8fc:["$","span","code-segment-448",{"className":"token parameter","style":{},"children":[" b"]}]
8fd:["$","span","code-segment-449",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
8fe:["$","span","code-segment-450",{"style":{},"children":[" "]}]
8ff:["$","span","code-segment-451",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
900:["$","span","code-segment-452",{"style":{},"children":["\n"]}]
901:["$","span","line-number--63",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[63]}]
902:["$","span","code-segment-454",{"style":{},"children":["  "]}]
903:["$","span","code-segment-455",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
904:["$","span","code-segment-456",{"style":{},"children":[" a "]}]
905:["$","span","code-segment-457",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["&&"]}]
906:["$","span","code-segment-458",{"style":{},"children":[" b "]}]
907:["$","span","code-segment-459",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["&&"]}]
908:["$","span","code-segment-460",{"style":{},"children":[" a"]}]
909:["$","span","code-segment-461",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
90a:["$","span","code-segment-462",{"className":"token property-access","style":{},"children":["type"]}]
90b:["$","span","code-segment-463",{"style":{},"children":[" "]}]
90c:["$","span","code-segment-464",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["==="]}]
90d:["$","span","code-segment-465",{"style":{},"children":[" b"]}]
90e:["$","span","code-segment-466",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
90f:["$","span","code-segment-467",{"className":"token property-access","style":{},"children":["type"]}]
910:["$","span","code-segment-468",{"style":{},"children":[" "]}]
911:["$","span","code-segment-469",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["&&"]}]
912:["$","span","code-segment-470",{"style":{},"children":[" a"]}]
913:["$","span","code-segment-471",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
914:["$","span","code-segment-472",{"className":"token property-access","style":{},"children":["key"]}]
915:["$","span","code-segment-473",{"style":{},"children":[" "]}]
916:["$","span","code-segment-474",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["==="]}]
917:["$","span","code-segment-475",{"style":{},"children":[" b"]}]
918:["$","span","code-segment-476",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
919:["$","span","code-segment-477",{"className":"token property-access","style":{},"children":["key"]}]
91a:["$","span","code-segment-478",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
91b:["$","span","code-segment-479",{"style":{},"children":["\n"]}]
91c:["$","span","line-number--64",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[64]}]
91d:["$","span","code-segment-481",{"style":{},"children":[""]}]
91e:["$","span","code-segment-482",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
91f:["$","span","code-segment-27",{"style":{},"children":["  wipRoot "]}]
920:["$","span","code-segment-28",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
921:["$","span","code-segment-29",{"style":{},"children":[" fiber"]}]
922:["$","span","code-segment-30",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
923:["$","span","code-segment-31",{"style":{},"children":["\n"]}]
924:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
925:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
926:["$","span","code-segment-35",{"style":{},"children":["  "]}]
927:["$","span","code-segment-36",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 新建一个自定义的调度"]}]
928:["$","span","code-segment-37",{"style":{},"children":["\n"]}]
929:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
92a:["$","span","code-segment-39",{"style":{},"children":["  "]}]
92b:["$","span","code-segment-40",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["scheduleCallback"]}]
92c:["$","span","code-segment-41",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
92d:["$","span","code-segment-42",{"style":{},"children":["workLoop"]}]
92e:["$","span","code-segment-43",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
92f:["$","span","code-segment-44",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
930:["$","span","code-segment-45",{"style":{},"children":["\n"]}]
931:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
932:["$","span","code-segment-47",{"style":{},"children":[""]}]
933:["$","span","code-segment-48",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
935:["$","span","code-segment-8",{"style":{},"children":[""]}]
936:["$","span","code-segment-9",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["import"]}]
937:["$","span","code-segment-10",{"style":{},"children":[" "]}]
938:["$","span","code-segment-11",{"className":"token imports","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
939:["$","span","code-segment-12",{"className":"token imports","style":{},"children":[" push"]}]
93a:["$","span","code-segment-13",{"className":"token imports","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
93b:["$","span","code-segment-14",{"className":"token imports","style":{},"children":[" pop"]}]
93c:["$","span","code-segment-15",{"className":"token imports","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
93d:["$","span","code-segment-16",{"className":"token imports","style":{},"children":[" peek "]}]
93e:["$","span","code-segment-17",{"className":"token imports","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
93f:["$","span","code-segment-18",{"style":{},"children":[" "]}]
940:["$","span","code-segment-19",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["from"]}]
941:["$","span","code-segment-20",{"style":{},"children":[" "]}]
942:["$","span","code-segment-21",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["'./minHeap'"]}]
943:["$","span","code-segment-22",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
944:["$","span","code-segment-23",{"style":{},"children":["\n"]}]
945:["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}]
946:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
947:["$","span","code-segment-27",{"style":{},"children":[""]}]
948:["$","span","code-segment-28",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 任务队列"]}]
949:["$","span","code-segment-29",{"style":{},"children":["\n"]}]
94a:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
94b:["$","span","code-segment-31",{"style":{},"children":[""]}]
94c:["$","span","code-segment-32",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["let"]}]
94d:["$","span","code-segment-33",{"style":{},"children":[" taskQueue "]}]
94e:["$","span","code-segment-34",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
94f:["$","span","code-segment-35",{"style":{},"children":[" "]}]
950:["$","span","code-segment-36",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["["]}]
951:["$","span","code-segment-37",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["]"]}]
952:["$","span","code-segment-38",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
953:["$","span","code-segment-39",{"style":{},"children":["\n"]}]
954:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
955:["$","span","code-segment-41",{"style":{},"children":[""]}]
956:["$","span","code-segment-42",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 任务计数"]}]
957:["$","span","code-segment-43",{"style":{},"children":["\n"]}]
958:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
959:["$","span","code-segment-45",{"style":{},"children":[""]}]
95a:["$","span","code-segment-46",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["let"]}]
95b:["$","span","code-segment-47",{"style":{},"children":[" taskIdCounter "]}]
95c:["$","span","code-segment-48",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
95d:["$","span","code-segment-49",{"style":{},"children":[" "]}]
95e:["$","span","code-segment-50",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["1"]}]
95f:["$","span","code-segment-51",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
960:["$","span","code-segment-52",{"style":{},"children":["\n"]}]
961:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
962:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
963:["$","span","code-segment-56",{"style":{},"children":[""]}]
964:["$","span","code-segment-57",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 任务优先级 延迟时间"]}]
965:["$","span","code-segment-58",{"style":{},"children":["\n"]}]
966:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
967:["$","span","code-segment-60",{"style":{},"children":[""]}]
968:["$","span","code-segment-61",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}]
969:["$","span","code-segment-62",{"style":{},"children":[" "]}]
96a:["$","span","code-segment-63",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}]
96b:["$","span","code-segment-64",{"style":{},"children":[" "]}]
96c:["$","span","code-segment-65",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["scheduleCallback"]}]
96d:["$","span","code-segment-66",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
96e:["$","span","code-segment-67",{"className":"token parameter","style":{},"children":["callback"]}]
96f:["$","span","code-segment-68",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
970:["$","span","code-segment-69",{"style":{},"children":[" "]}]
971:["$","span","code-segment-70",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
972:["$","span","code-segment-71",{"style":{},"children":["\n"]}]
973:["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[12]}]
974:["$","span","code-segment-73",{"style":{},"children":["  "]}]
975:["$","span","code-segment-74",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
976:["$","span","code-segment-75",{"style":{},"children":[" currentTime "]}]
977:["$","span","code-segment-76",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
978:["$","span","code-segment-77",{"style":{},"children":[" "]}]
979:["$","span","code-segment-78",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["getCurrentTime"]}]
97a:["$","span","code-segment-79",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
97b:["$","span","code-segment-80",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
97c:["$","span","code-segment-81",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
97d:["$","span","code-segment-82",{"style":{},"children":["\n"]}]
97e:["$","span","line-number--13",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[13]}]
97f:["$","span","line-number--14",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[14]}]
980:["$","span","code-segment-86",{"style":{},"children":["  "]}]
981:["$","span","code-segment-87",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
982:["$","span","code-segment-88",{"style":{},"children":[" timeout "]}]
983:["$","span","code-segment-89",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
984:["$","span","code-segment-90",{"style":{},"children":[" "]}]
985:["$","span","code-segment-91",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["-"]}]
986:["$","span","code-segment-92",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["1"]}]
987:["$","span","code-segment-93",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
988:["$","span","code-segment-94",{"style":{},"children":[" "]}]
989:["$","span","code-segment-95",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 源码中还会有 priorityLevel 作为一个权重维度"]}]
98a:["$","span","code-segment-96",{"style":{},"children":["\n"]}]
98b:["$","span","line-number--15",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[15]}]
98c:["$","span","code-segment-98",{"style":{},"children":["  "]}]
98d:["$","span","code-segment-99",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
98e:["$","span","code-segment-100",{"style":{},"children":[" expirationTime "]}]
98f:["$","span","code-segment-101",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
990:["$","span","code-segment-102",{"style":{},"children":[" currentTime "]}]
991:["$","span","code-segment-103",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["+"]}]
992:["$","span","code-segment-104",{"style":{},"children":[" timeout"]}]
993:["$","span","code-segment-105",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
994:["$","span","code-segment-106",{"style":{},"children":["\n"]}]
995:["$","span","line-number--16",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[16]}]
996:["$","span","line-number--17",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[17]}]
997:["$","span","code-segment-110",{"style":{},"children":["  "]}]
998:["$","span","code-segment-111",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 每次调度，id自增，push进堆"]}]
999:["$","span","code-segment-112",{"style":{},"children":["\n"]}]
99a:["$","span","line-number--18",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[18]}]
99b:["$","span","code-segment-114",{"style":{},"children":["  "]}]
99c:["$","span","code-segment-115",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
99d:["$","span","code-segment-116",{"style":{},"children":[" newTask "]}]
99e:["$","span","code-segment-117",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
99f:["$","span","code-segment-118",{"style":{},"children":[" "]}]
9a0:["$","span","code-segment-119",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
9a1:["$","span","code-segment-120",{"style":{},"children":["\n"]}]
9a2:["$","span","line-number--19",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[19]}]
9a3:["$","span","code-segment-122",{"style":{},"children":["    "]}]
9a4:["$","span","code-segment-123",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["id"]}]
9a5:["$","span","code-segment-124",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
9a6:["$","span","code-segment-125",{"style":{},"children":[" taskIdCounter"]}]
9a7:["$","span","code-segment-126",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["++"]}]
9a8:["$","span","code-segment-127",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
9a9:["$","span","code-segment-128",{"style":{},"children":["\n"]}]
9aa:["$","span","line-number--20",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[20]}]
9ab:["$","span","code-segment-130",{"style":{},"children":["    callback"]}]
9ac:["$","span","code-segment-131",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
9ad:["$","span","code-segment-132",{"style":{},"children":[" "]}]
9ae:["$","span","code-segment-133",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 回调函数"]}]
9af:["$","span","code-segment-134",{"style":{},"children":["\n"]}]
9b0:["$","span","line-number--21",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[21]}]
9b1:["$","span","code-segment-136",{"style":{},"children":["    expirationTime"]}]
9b2:["$","span","code-segment-137",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
9b3:["$","span","code-segment-138",{"style":{},"children":[" "]}]
9b4:["$","span","code-segment-139",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 任务开始时间"]}]
9b5:["$","span","code-segment-140",{"style":{},"children":["\n"]}]
9b6:["$","span","line-number--22",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[22]}]
9b7:["$","span","code-segment-142",{"style":{},"children":["    "]}]
9b8:["$","span","code-segment-143",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["sortIndex"]}]
9b9:["$","span","code-segment-144",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
9ba:["$","span","code-segment-145",{"style":{},"children":[" expirationTime"]}]
9bb:["$","span","code-segment-146",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
9bc:["$","span","code-segment-147",{"style":{},"children":[" "]}]
9bd:["$","span","code-segment-148",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 任务排序，取决于过期时间（这里简单的任务过期时间越近，优先级越高）"]}]
9be:["$","span","code-segment-149",{"style":{},"children":["\n"]}]
9bf:["$","span","line-number--23",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[23]}]
9c0:["$","span","code-segment-151",{"style":{},"children":["  "]}]
9c1:["$","span","code-segment-152",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
9c2:["$","span","code-segment-153",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
9c3:["$","span","code-segment-154",{"style":{},"children":["\n"]}]
9c4:["$","span","line-number--24",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[24]}]
9c5:["$","span","code-segment-156",{"style":{},"children":["  "]}]
9c6:["$","span","code-segment-157",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["push"]}]
9c7:["$","span","code-segment-158",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
9c8:["$","span","code-segment-159",{"style":{},"children":["taskQueue"]}]
9c9:["$","span","code-segment-160",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
9ca:["$","span","code-segment-161",{"style":{},"children":[" newTask"]}]
9cb:["$","span","code-segment-162",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
9cc:["$","span","code-segment-163",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
9cd:["$","span","code-segment-164",{"style":{},"children":["\n"]}]
9ce:["$","span","line-number--25",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[25]}]
9cf:["$","span","line-number--26",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[26]}]
9d0:["$","span","code-segment-168",{"style":{},"children":["  "]}]
9d1:["$","span","code-segment-169",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 请求调度"]}]
9d2:["$","span","code-segment-170",{"style":{},"children":["\n"]}]
9d3:["$","span","line-number--27",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[27]}]
9d4:["$","span","code-segment-172",{"style":{},"children":["  "]}]
9d5:["$","span","code-segment-173",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["requestHostCallback"]}]
9d6:["$","span","code-segment-174",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
9d7:["$","span","code-segment-175",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
9d8:["$","span","code-segment-176",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
9d9:["$","span","code-segment-177",{"style":{},"children":["\n"]}]
9da:["$","span","line-number--28",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[28]}]
9db:["$","span","code-segment-179",{"style":{},"children":[""]}]
9dc:["$","span","code-segment-180",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
9dd:["$","span","code-segment-181",{"style":{},"children":["\n"]}]
9de:["$","span","line-number--29",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[29]}]
9df:["$","span","line-number--30",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[30]}]
9e0:["$","span","code-segment-185",{"style":{},"children":[""]}]
9e1:["$","span","code-segment-186",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// MessageChannel允许我们在不同的浏览上下文，比如window.open()打开的窗口或者iframe等之间建立通信管道，并通过两端的端口（port1和port2）发送消息。MessageChannel以DOM Event的形式发送消息，所以它属于异步的宏任务。"]}]
9e2:["$","span","code-segment-187",{"style":{},"children":["\n"]}]
9e3:["$","span","line-number--31",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[31]}]
9e4:["$","span","code-segment-189",{"style":{},"children":[""]}]
9e5:["$","span","code-segment-190",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
9e6:["$","span","code-segment-191",{"style":{},"children":[" channel "]}]
9e7:["$","span","code-segment-192",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
9e8:["$","span","code-segment-193",{"style":{},"children":[" "]}]
9e9:["$","span","code-segment-194",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["new"]}]
9ea:["$","span","code-segment-195",{"style":{},"children":[" "]}]
9eb:["$","span","code-segment-196",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["MessageChannel"]}]
9ec:["$","span","code-segment-197",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
9ed:["$","span","code-segment-198",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
9ee:["$","span","code-segment-199",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
9ef:["$","span","code-segment-200",{"style":{},"children":["\n"]}]
9f0:["$","span","line-number--32",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[32]}]
9f1:["$","span","code-segment-202",{"style":{},"children":[""]}]
9f2:["$","span","code-segment-203",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
9f3:["$","span","code-segment-204",{"style":{},"children":[" port "]}]
9f4:["$","span","code-segment-205",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
9f5:["$","span","code-segment-206",{"style":{},"children":[" channel"]}]
9f6:["$","span","code-segment-207",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
9f7:["$","span","code-segment-208",{"className":"token property-access","style":{},"children":["port2"]}]
9f8:["$","span","code-segment-209",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
9f9:["$","span","code-segment-210",{"style":{},"children":["\n"]}]
9fa:["$","span","line-number--33",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[33]}]
9fb:["$","span","code-segment-212",{"style":{},"children":["channel"]}]
9fc:["$","span","code-segment-213",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
9fd:["$","span","code-segment-214",{"className":"token property-access","style":{},"children":["port1"]}]
9fe:["$","span","code-segment-215",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
9ff:["$","span","code-segment-216",{"className":"token method-variable function-variable method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["onmessage"]}]
a00:["$","span","code-segment-217",{"style":{},"children":[" "]}]
a01:["$","span","code-segment-218",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
a02:["$","span","code-segment-219",{"style":{},"children":[" "]}]
a03:["$","span","code-segment-220",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}]
a04:["$","span","code-segment-221",{"style":{},"children":[" "]}]
a05:["$","span","code-segment-222",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
a06:["$","span","code-segment-223",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
a07:["$","span","code-segment-224",{"style":{},"children":[" "]}]
a08:["$","span","code-segment-225",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
a09:["$","span","code-segment-226",{"style":{},"children":["\n"]}]
a0a:["$","span","line-number--34",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[34]}]
a0b:["$","span","code-segment-228",{"style":{},"children":["  "]}]
a0c:["$","span","code-segment-229",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["handleWorkMessage"]}]
a0d:["$","span","code-segment-230",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
a0e:["$","span","code-segment-231",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
a0f:["$","span","code-segment-232",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
a10:["$","span","code-segment-233",{"style":{},"children":["\n"]}]
a11:["$","span","line-number--35",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[35]}]
a12:["$","span","code-segment-235",{"style":{},"children":[""]}]
a13:["$","span","code-segment-236",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
a14:["$","span","code-segment-237",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
a15:["$","span","code-segment-238",{"style":{},"children":["\n"]}]
a16:["$","span","line-number--36",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[36]}]
a17:["$","span","line-number--37",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[37]}]
a18:["$","span","code-segment-242",{"style":{},"children":[""]}]
a19:["$","span","code-segment-243",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}]
a1a:["$","span","code-segment-244",{"style":{},"children":[" "]}]
a1b:["$","span","code-segment-245",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["requestHostCallback"]}]
a1c:["$","span","code-segment-246",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
a1d:["$","span","code-segment-247",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
a1e:["$","span","code-segment-248",{"style":{},"children":[" "]}]
a1f:["$","span","code-segment-249",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
a20:["$","span","code-segment-250",{"style":{},"children":["\n"]}]
a21:["$","span","line-number--38",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[38]}]
a22:["$","span","code-segment-252",{"style":{},"children":["  port"]}]
a23:["$","span","code-segment-253",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
a24:["$","span","code-segment-254",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["postMessage"]}]
a25:["$","span","code-segment-255",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
a26:["$","span","code-segment-256",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}]
a27:["$","span","code-segment-257",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
a28:["$","span","code-segment-258",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
a29:["$","span","code-segment-259",{"style":{},"children":["\n"]}]
a2a:["$","span","line-number--39",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[39]}]
a2b:["$","span","code-segment-261",{"style":{},"children":[""]}]
a2c:["$","span","code-segment-262",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
a2d:["$","span","code-segment-263",{"style":{},"children":["\n"]}]
a2e:["$","span","line-number--40",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[40]}]
a2f:["$","span","line-number--41",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[41]}]
a30:["$","span","code-segment-267",{"style":{},"children":[""]}]
a31:["$","span","code-segment-268",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}]
a32:["$","span","code-segment-269",{"style":{},"children":[" "]}]
a33:["$","span","code-segment-270",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["handleWorkMessage"]}]
a34:["$","span","code-segment-271",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
a35:["$","span","code-segment-272",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
a36:["$","span","code-segment-273",{"style":{},"children":[" "]}]
a37:["$","span","code-segment-274",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
a38:["$","span","code-segment-275",{"style":{},"children":["\n"]}]
a39:["$","span","line-number--42",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[42]}]
a3a:["$","span","code-segment-277",{"style":{},"children":["  "]}]
a3b:["$","span","code-segment-278",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 每次取出堆顶最小的"]}]
a3c:["$","span","code-segment-279",{"style":{},"children":["\n"]}]
a3d:["$","span","line-number--43",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[43]}]
a3e:["$","span","code-segment-281",{"style":{},"children":["  "]}]
a3f:["$","span","code-segment-282",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["let"]}]
a40:["$","span","code-segment-283",{"style":{},"children":[" currentTask "]}]
a41:["$","span","code-segment-284",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
a42:["$","span","code-segment-285",{"style":{},"children":[" "]}]
a43:["$","span","code-segment-286",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["peek"]}]
a44:["$","span","code-segment-287",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
a45:["$","span","code-segment-288",{"style":{},"children":["taskQueue"]}]
a46:["$","span","code-segment-289",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
a47:["$","span","code-segment-290",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
a48:["$","span","code-segment-291",{"style":{},"children":["\n"]}]
a49:["$","span","line-number--44",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[44]}]
a4a:["$","span","code-segment-293",{"style":{},"children":["  "]}]
a4b:["$","span","code-segment-294",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["while"]}]
a4c:["$","span","code-segment-295",{"style":{},"children":[" "]}]
a4d:["$","span","code-segment-296",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
a4e:["$","span","code-segment-297",{"style":{},"children":["currentTask"]}]
a4f:["$","span","code-segment-298",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
a50:["$","span","code-segment-299",{"style":{},"children":[" "]}]
a51:["$","span","code-segment-300",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
a52:["$","span","code-segment-301",{"style":{},"children":["\n"]}]
a53:["$","span","line-number--45",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[45]}]
a54:["$","span","code-segment-303",{"style":{},"children":["    "]}]
a55:["$","span","code-segment-304",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 暂不考虑执行进度以及中断执行"]}]
a56:["$","span","code-segment-305",{"style":{},"children":["\n"]}]
a57:["$","span","line-number--46",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[46]}]
a58:["$","span","code-segment-307",{"style":{},"children":["    "]}]
a59:["$","span","code-segment-308",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
a5a:["$","span","code-segment-309",{"style":{},"children":[" callback "]}]
a5b:["$","span","code-segment-310",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
a5c:["$","span","code-segment-311",{"style":{},"children":[" currentTask"]}]
a5d:["$","span","code-segment-312",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
a5e:["$","span","code-segment-313",{"className":"token property-access","style":{},"children":["callback"]}]
a5f:["$","span","code-segment-314",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
a60:["$","span","code-segment-315",{"style":{},"children":["\n"]}]
a61:["$","span","line-number--47",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[47]}]
a62:["$","span","code-segment-317",{"style":{},"children":["    currentTask"]}]
a63:["$","span","code-segment-318",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
a64:["$","span","code-segment-319",{"className":"token property-access","style":{},"children":["callback"]}]
a65:["$","span","code-segment-320",{"style":{},"children":[" "]}]
a66:["$","span","code-segment-321",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
a67:["$","span","code-segment-322",{"style":{},"children":[" "]}]
a68:["$","span","code-segment-323",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}]
a69:["$","span","code-segment-324",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
a6a:["$","span","code-segment-325",{"style":{},"children":["\n"]}]
a6b:["$","span","line-number--48",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[48]}]
a6c:["$","span","code-segment-327",{"style":{},"children":["    "]}]
a6d:["$","span","code-segment-328",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["callback"]}]
a6e:["$","span","code-segment-329",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
a6f:["$","span","code-segment-330",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
a70:["$","span","code-segment-331",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
a71:["$","span","code-segment-332",{"style":{},"children":["\n"]}]
a72:["$","span","line-number--49",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[49]}]
a73:["$","span","code-segment-334",{"style":{},"children":["    "]}]
a74:["$","span","code-segment-335",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 删除任务"]}]
a75:["$","span","code-segment-336",{"style":{},"children":["\n"]}]
a76:["$","span","line-number--50",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[50]}]
a77:["$","span","code-segment-338",{"style":{},"children":["    "]}]
a78:["$","span","code-segment-339",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["pop"]}]
a79:["$","span","code-segment-340",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
a7a:["$","span","code-segment-341",{"style":{},"children":["taskQueue"]}]
a7b:["$","span","code-segment-342",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
a7c:["$","span","code-segment-343",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
a7d:["$","span","code-segment-344",{"style":{},"children":["\n"]}]
a7e:["$","span","line-number--51",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[51]}]
a7f:["$","span","code-segment-346",{"style":{},"children":["    "]}]
a80:["$","span","code-segment-347",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 拿当前等待时间最小的任务"]}]
a81:["$","span","code-segment-348",{"style":{},"children":["\n"]}]
a82:["$","span","line-number--52",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[52]}]
a83:["$","span","code-segment-350",{"style":{},"children":["    currentTask "]}]
a84:["$","span","code-segment-351",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
a85:["$","span","code-segment-352",{"style":{},"children":[" "]}]
a86:["$","span","code-segment-353",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["peek"]}]
a87:["$","span","code-segment-354",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
a88:["$","span","code-segment-355",{"style":{},"children":["taskQueue"]}]
a89:["$","span","code-segment-356",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
a8a:["$","span","code-segment-357",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
a8b:["$","span","code-segment-358",{"style":{},"children":["\n"]}]
a8c:["$","span","line-number--53",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[53]}]
a8d:["$","span","code-segment-360",{"style":{},"children":["  "]}]
a8e:["$","span","code-segment-361",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
a8f:["$","span","code-segment-362",{"style":{},"children":["\n"]}]
a90:["$","span","line-number--54",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[54]}]
a91:["$","span","code-segment-364",{"style":{},"children":[""]}]
a92:["$","span","code-segment-365",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
a93:["$","span","code-segment-366",{"style":{},"children":["\n"]}]
a94:["$","span","line-number--55",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[55]}]
a95:["$","span","line-number--56",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[56]}]
a96:["$","span","code-segment-370",{"style":{},"children":[""]}]
a97:["$","span","code-segment-371",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}]
a98:["$","span","code-segment-372",{"style":{},"children":[" "]}]
a99:["$","span","code-segment-373",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["getCurrentTime"]}]
a9a:["$","span","code-segment-374",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
a9b:["$","span","code-segment-375",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
a9c:["$","span","code-segment-376",{"style":{},"children":[" "]}]
a9d:["$","span","code-segment-377",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
a9e:["$","span","code-segment-378",{"style":{},"children":["\n"]}]
a9f:["$","span","line-number--57",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[57]}]
aa0:["$","span","code-segment-380",{"style":{},"children":["  "]}]
aa1:["$","span","code-segment-381",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// Date.now()：返回的时间戳没有被限制在一毫秒的精确度内，小于 1ms 的测试不出来结果。"]}]
aa2:["$","span","code-segment-382",{"style":{},"children":["\n"]}]
aa3:["$","span","line-number--58",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[58]}]
aa4:["$","span","code-segment-384",{"style":{},"children":["  "]}]
aa5:["$","span","code-segment-385",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// performance.now()：返回的时间戳以双精度浮点数 double 的形式表示时间，精度最高可达微秒级。不受系统影响。Date.now() 约等于 performance.timing.navigationStart + performance.now()"]}]
aa6:["$","span","code-segment-386",{"style":{},"children":["\n"]}]
aa7:["$","span","line-number--59",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[59]}]
aa8:["$","span","code-segment-388",{"style":{},"children":["  "]}]
aa9:["$","span","code-segment-389",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
aaa:["$","span","code-segment-390",{"style":{},"children":[" "]}]
aab:["$","span","code-segment-391",{"className":"token dom","style":{"color":"hsl(221, 87%, 60%)"},"children":["performance"]}]
aac:["$","span","code-segment-392",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
aad:["$","span","code-segment-393",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["now"]}]
aae:["$","span","code-segment-394",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
aaf:["$","span","code-segment-395",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
ab0:["$","span","code-segment-396",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
ab1:["$","span","code-segment-397",{"style":{},"children":["\n"]}]
ab2:["$","span","line-number--60",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[60]}]
ab3:["$","span","code-segment-399",{"style":{},"children":[""]}]
ab4:["$","span","code-segment-400",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
ab5:["$","span","code-segment-28",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
ab6:["$","span","code-segment-29",{"style":{},"children":["\n"]}]
ab7:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
ab8:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
ab9:["$","span","code-segment-33",{"style":{},"children":["  "]}]
aba:["$","span","code-segment-34",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 确保调度器在运行"]}]
abb:["$","span","code-segment-35",{"style":{},"children":["\n"]}]
abc:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
abd:["$","span","code-segment-37",{"style":{},"children":["  "]}]
abe:["$","span","code-segment-38",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// requestIdleCallback(workLoop);"]}]
abf:["$","span","code-segment-39",{"style":{},"children":["\n"]}]
ac0:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
ac1:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
ac2:["$","span","code-segment-43",{"style":{},"children":["  "]}]
ac3:["$","span","code-segment-44",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
ac4:["$","span","code-segment-45",{"style":{},"children":[" "]}]
ac5:["$","span","code-segment-46",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
ac6:["$","span","code-segment-47",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["!"]}]
ac7:["$","span","code-segment-48",{"style":{},"children":["wip "]}]
ac8:["$","span","code-segment-49",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["&&"]}]
ac9:["$","span","code-segment-50",{"style":{},"children":[" wipRoot"]}]
aca:["$","span","code-segment-51",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
acb:["$","span","code-segment-52",{"style":{},"children":[" "]}]
acc:["$","span","code-segment-53",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
acd:["$","span","code-segment-54",{"style":{},"children":["\n"]}]
ace:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
acf:["$","span","code-segment-56",{"style":{},"children":["    "]}]
ad0:["$","span","code-segment-57",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["commitRoot"]}]
ad1:["$","span","code-segment-58",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
ad2:["$","span","code-segment-59",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
ad3:["$","span","code-segment-60",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
ad4:["$","span","code-segment-61",{"style":{},"children":["\n"]}]
ad5:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
ad6:["$","span","code-segment-63",{"style":{},"children":["  "]}]
ad7:["$","span","code-segment-64",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
ad8:["$","span","code-segment-65",{"style":{},"children":["\n"]}]
ad9:["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[12]}]
ada:["$","span","code-segment-67",{"style":{},"children":[""]}]
adb:["$","span","code-segment-68",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
adc:["$","span","code-segment-29",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
add:["$","span","code-segment-30",{"style":{},"children":[" "]}]
ade:["$","span","code-segment-31",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}]
adf:["$","span","code-segment-32",{"style":{},"children":["\n"]}]
ae0:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
ae1:["$","span","code-segment-34",{"style":{},"children":["  "]}]
ae2:["$","span","code-segment-35",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
ae3:["$","span","code-segment-36",{"style":{},"children":["\n"]}]
ae4:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
ae5:["$","span","code-segment-38",{"style":{},"children":[""]}]
ae6:["$","span","code-segment-39",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
ae7:["$","span","code-segment-27",{"style":{},"children":["  "]}]
ae8:["$","span","code-segment-28",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
ae9:["$","span","code-segment-29",{"style":{},"children":[" "]}]
aea:["$","span","code-segment-30",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
aeb:["$","span","code-segment-31",{"style":{},"children":[" type"]}]
aec:["$","span","code-segment-32",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
aed:["$","span","code-segment-33",{"style":{},"children":[" props "]}]
aee:["$","span","code-segment-34",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
aef:["$","span","code-segment-35",{"style":{},"children":[" "]}]
af0:["$","span","code-segment-36",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
af1:["$","span","code-segment-37",{"style":{},"children":[" wip"]}]
af2:["$","span","code-segment-38",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
af3:["$","span","code-segment-39",{"style":{},"children":["\n"]}]
af4:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
af5:["$","span","code-segment-41",{"style":{},"children":["  "]}]
af6:["$","span","code-segment-42",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
af7:["$","span","code-segment-43",{"style":{},"children":[" children "]}]
af8:["$","span","code-segment-44",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
af9:["$","span","code-segment-45",{"style":{},"children":[" "]}]
afa:["$","span","code-segment-46",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["type"]}]
afb:["$","span","code-segment-47",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
afc:["$","span","code-segment-48",{"style":{},"children":["props"]}]
afd:["$","span","code-segment-49",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
afe:["$","span","code-segment-50",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
aff:["$","span","code-segment-51",{"style":{},"children":["\n"]}]
b00:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
b01:["$","span","code-segment-53",{"style":{},"children":["  "]}]
b02:["$","span","code-segment-54",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["reconcileChildren"]}]
b03:["$","span","code-segment-55",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
b04:["$","span","code-segment-56",{"style":{},"children":["wip"]}]
b05:["$","span","code-segment-57",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
b06:["$","span","code-segment-58",{"style":{},"children":[" children"]}]
b07:["$","span","code-segment-59",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
b08:["$","span","code-segment-60",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
b09:["$","span","code-segment-61",{"style":{},"children":["\n"]}]
b0a:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
b0b:["$","span","code-segment-63",{"style":{},"children":[""]}]
b0c:["$","span","code-segment-64",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
b0d:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
b0e:["$","span","code-segment-26",{"style":{},"children":[""]}]
b0f:["$","span","code-segment-27",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["let"]}]
b10:["$","span","code-segment-28",{"style":{},"children":[" workInProgressHook "]}]
b11:["$","span","code-segment-29",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
b12:["$","span","code-segment-30",{"style":{},"children":[" "]}]
b13:["$","span","code-segment-31",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}]
b14:["$","span","code-segment-32",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
b15:["$","span","code-segment-33",{"style":{},"children":["\n"]}]
b16:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
b17:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
b18:["$","span","code-segment-37",{"style":{},"children":[""]}]
b19:["$","span","code-segment-38",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}]
b1a:["$","span","code-segment-39",{"style":{},"children":[" "]}]
b1b:["$","span","code-segment-40",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}]
b1c:["$","span","code-segment-41",{"style":{},"children":[" "]}]
b1d:["$","span","code-segment-42",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["renderWithHooks"]}]
b1e:["$","span","code-segment-43",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
b1f:["$","span","code-segment-44",{"className":"token parameter","style":{},"children":["wip"]}]
b20:["$","span","code-segment-45",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
b21:["$","span","code-segment-46",{"style":{},"children":[" "]}]
b22:["$","span","code-segment-47",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
b23:["$","span","code-segment-48",{"style":{},"children":["\n"]}]
b24:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
b25:["$","span","code-segment-50",{"style":{},"children":["  currentlyRenderingFiber "]}]
b26:["$","span","code-segment-51",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
b27:["$","span","code-segment-52",{"style":{},"children":[" wip"]}]
b28:["$","span","code-segment-53",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
b29:["$","span","code-segment-54",{"style":{},"children":["\n"]}]
b2a:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
b2b:["$","span","code-segment-56",{"style":{},"children":["  currentlyRenderingFiber"]}]
b2c:["$","span","code-segment-57",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
b2d:["$","span","code-segment-58",{"className":"token property-access","style":{},"children":["memorizedState"]}]
b2e:["$","span","code-segment-59",{"style":{},"children":[" "]}]
b2f:["$","span","code-segment-60",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
b30:["$","span","code-segment-61",{"style":{},"children":[" "]}]
b31:["$","span","code-segment-62",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}]
b32:["$","span","code-segment-63",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
b33:["$","span","code-segment-64",{"style":{},"children":["\n"]}]
b34:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
b35:["$","span","code-segment-66",{"style":{},"children":["  workInProgressHook "]}]
b36:["$","span","code-segment-67",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
b37:["$","span","code-segment-68",{"style":{},"children":[" "]}]
b38:["$","span","code-segment-69",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}]
b39:["$","span","code-segment-70",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
b3a:["$","span","code-segment-71",{"style":{},"children":["\n"]}]
b3b:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
b3c:["$","span","code-segment-73",{"style":{},"children":[""]}]
b3d:["$","span","code-segment-74",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
b3e:["$","span","code-segment-18",{"style":{},"children":["  "]}]
b3f:["$","span","code-segment-19",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 拿到当前 fiber 在 diff 中的 old fiber"]}]
b40:["$","span","code-segment-20",{"style":{},"children":["\n"]}]
b41:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
b42:["$","span","code-segment-22",{"style":{},"children":["  "]}]
b43:["$","span","code-segment-23",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
b44:["$","span","code-segment-24",{"style":{},"children":[" current "]}]
b45:["$","span","code-segment-25",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
b46:["$","span","code-segment-26",{"style":{},"children":[" currentlyRenderingFiber"]}]
b47:["$","span","code-segment-27",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
b48:["$","span","code-segment-28",{"className":"token property-access","style":{},"children":["alternate"]}]
b49:["$","span","code-segment-29",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
b4a:["$","span","code-segment-30",{"style":{},"children":["\n"]}]
b4b:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
b4c:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
b4d:["$","span","code-segment-34",{"style":{},"children":["  "]}]
b4e:["$","span","code-segment-35",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
b4f:["$","span","code-segment-36",{"style":{},"children":[" "]}]
b50:["$","span","code-segment-37",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
b51:["$","span","code-segment-38",{"style":{},"children":["current"]}]
b52:["$","span","code-segment-39",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
b53:["$","span","code-segment-40",{"style":{},"children":[" "]}]
b54:["$","span","code-segment-41",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
b55:["$","span","code-segment-42",{"style":{},"children":["\n"]}]
b56:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
b57:["$","span","code-segment-44",{"style":{},"children":["    "]}]
b58:["$","span","code-segment-45",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 2.更新"]}]
b59:["$","span","code-segment-46",{"style":{},"children":["\n"]}]
b5a:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
b5b:["$","span","code-segment-48",{"style":{},"children":["    currentlyRenderingFiber"]}]
b5c:["$","span","code-segment-49",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
b5d:["$","span","code-segment-50",{"className":"token property-access","style":{},"children":["memorizedState"]}]
b5e:["$","span","code-segment-51",{"style":{},"children":[" "]}]
b5f:["$","span","code-segment-52",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
b60:["$","span","code-segment-53",{"style":{},"children":[" current"]}]
b61:["$","span","code-segment-54",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
b62:["$","span","code-segment-55",{"className":"token property-access","style":{},"children":["memorizedState"]}]
b63:["$","span","code-segment-56",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
b64:["$","span","code-segment-57",{"style":{},"children":["\n"]}]
b65:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
b66:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
b67:["$","span","code-segment-61",{"style":{},"children":["    "]}]
b68:["$","span","code-segment-62",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
b69:["$","span","code-segment-63",{"style":{},"children":[" "]}]
b6a:["$","span","code-segment-64",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
b6b:["$","span","code-segment-65",{"style":{},"children":["workInProgressHook"]}]
b6c:["$","span","code-segment-66",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
b6d:["$","span","code-segment-67",{"style":{},"children":[" "]}]
b6e:["$","span","code-segment-68",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
b6f:["$","span","code-segment-69",{"style":{},"children":["\n"]}]
b70:["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[12]}]
b71:["$","span","code-segment-71",{"style":{},"children":["      "]}]
b72:["$","span","code-segment-72",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 当前 hook 指针的位置"]}]
b73:["$","span","code-segment-73",{"style":{},"children":["\n"]}]
b74:["$","span","line-number--13",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[13]}]
b75:["$","span","code-segment-75",{"style":{},"children":["      workInProgressHook "]}]
b76:["$","span","code-segment-76",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
b77:["$","span","code-segment-77",{"style":{},"children":[" hook "]}]
b78:["$","span","code-segment-78",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
b79:["$","span","code-segment-79",{"style":{},"children":[" workInProgressHook"]}]
b7a:["$","span","code-segment-80",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
b7b:["$","span","code-segment-81",{"className":"token property-access","style":{},"children":["next"]}]
b7c:["$","span","code-segment-82",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
b7d:["$","span","code-segment-83",{"style":{},"children":["\n"]}]
b7e:["$","span","line-number--14",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[14]}]
b7f:["$","span","code-segment-85",{"style":{},"children":["      currentHook "]}]
b80:["$","span","code-segment-86",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
b81:["$","span","code-segment-87",{"style":{},"children":[" currentHook"]}]
b82:["$","span","code-segment-88",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
b83:["$","span","code-segment-89",{"className":"token property-access","style":{},"children":["next"]}]
b84:["$","span","code-segment-90",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
b85:["$","span","code-segment-91",{"style":{},"children":["\n"]}]
b86:["$","span","line-number--15",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[15]}]
b87:["$","span","code-segment-93",{"style":{},"children":["    "]}]
b88:["$","span","code-segment-94",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
b89:["$","span","code-segment-95",{"style":{},"children":[" "]}]
b8a:["$","span","code-segment-96",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["else"]}]
b8b:["$","span","code-segment-97",{"style":{},"children":[" "]}]
b8c:["$","span","code-segment-98",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
b8d:["$","span","code-segment-99",{"style":{},"children":["\n"]}]
b8e:["$","span","line-number--16",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[16]}]
b8f:["$","span","code-segment-101",{"style":{},"children":["      "]}]
b90:["$","span","code-segment-102",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 没有指针，就从 hook0 开始"]}]
b91:["$","span","code-segment-103",{"style":{},"children":["\n"]}]
b92:["$","span","line-number--17",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[17]}]
b93:["$","span","code-segment-105",{"style":{},"children":["      workInProgressHook "]}]
b94:["$","span","code-segment-106",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
b95:["$","span","code-segment-107",{"style":{},"children":[" hook "]}]
b96:["$","span","code-segment-108",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
b97:["$","span","code-segment-109",{"style":{},"children":[" currentlyRenderingFiber"]}]
b98:["$","span","code-segment-110",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
b99:["$","span","code-segment-111",{"className":"token property-access","style":{},"children":["memorizedState"]}]
b9a:["$","span","code-segment-112",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
b9b:["$","span","code-segment-113",{"style":{},"children":["\n"]}]
b9c:["$","span","line-number--18",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[18]}]
b9d:["$","span","code-segment-115",{"style":{},"children":["      currentHook "]}]
b9e:["$","span","code-segment-116",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
b9f:["$","span","code-segment-117",{"style":{},"children":[" current"]}]
ba0:["$","span","code-segment-118",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
ba1:["$","span","code-segment-119",{"className":"token property-access","style":{},"children":["memorizedState"]}]
ba2:["$","span","code-segment-120",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
ba3:["$","span","code-segment-121",{"style":{},"children":["\n"]}]
ba4:["$","span","line-number--19",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[19]}]
ba5:["$","span","code-segment-123",{"style":{},"children":["    "]}]
ba6:["$","span","code-segment-124",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
ba7:["$","span","code-segment-125",{"style":{},"children":["\n"]}]
ba8:["$","span","line-number--20",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[20]}]
ba9:["$","span","code-segment-127",{"style":{},"children":["  "]}]
baa:["$","span","code-segment-128",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
bab:["$","span","code-segment-129",{"style":{},"children":[" "]}]
bac:["$","span","code-segment-130",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["else"]}]
bad:["$","span","code-segment-131",{"style":{},"children":[" "]}]
bae:["$","span","code-segment-132",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
baf:["$","span","code-segment-133",{"style":{},"children":["\n"]}]
bb0:["$","span","line-number--21",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[21]}]
bb1:["$","span","code-segment-135",{"style":{},"children":["    "]}]
bb2:["$","span","code-segment-136",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// currentHook 只有在 fiber 变更时才起作用，不然一直是 null"]}]
bb3:["$","span","code-segment-137",{"style":{},"children":["\n"]}]
bb4:["$","span","line-number--22",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[22]}]
bb5:["$","span","code-segment-139",{"style":{},"children":["    currentHook "]}]
bb6:["$","span","code-segment-140",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
bb7:["$","span","code-segment-141",{"style":{},"children":[" "]}]
bb8:["$","span","code-segment-142",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}]
bb9:["$","span","code-segment-143",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
bba:["$","span","code-segment-144",{"style":{},"children":["\n"]}]
bbb:["$","span","line-number--23",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[23]}]
bbc:["$","span","line-number--24",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[24]}]
bbd:["$","span","code-segment-148",{"style":{},"children":["    "]}]
bbe:["$","span","code-segment-149",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 1.初次渲染"]}]
bbf:["$","span","code-segment-150",{"style":{},"children":["\n"]}]
bc0:["$","span","line-number--25",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[25]}]
bc1:["$","span","code-segment-152",{"style":{},"children":["    hook "]}]
bc2:["$","span","code-segment-153",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
bc3:["$","span","code-segment-154",{"style":{},"children":[" "]}]
bc4:["$","span","code-segment-155",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
bc5:["$","span","code-segment-156",{"style":{},"children":["\n"]}]
bc6:["$","span","line-number--26",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[26]}]
bc7:["$","span","code-segment-158",{"style":{},"children":["      "]}]
bc8:["$","span","code-segment-159",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["memorizedState"]}]
bc9:["$","span","code-segment-160",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
bca:["$","span","code-segment-161",{"style":{},"children":[" "]}]
bcb:["$","span","code-segment-162",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}]
bcc:["$","span","code-segment-163",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
bcd:["$","span","code-segment-164",{"style":{},"children":[" "]}]
bce:["$","span","code-segment-165",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// state"]}]
bcf:["$","span","code-segment-166",{"style":{},"children":["\n"]}]
bd0:["$","span","line-number--27",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[27]}]
bd1:["$","span","code-segment-168",{"style":{},"children":["      "]}]
bd2:["$","span","code-segment-169",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["next"]}]
bd3:["$","span","code-segment-170",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
bd4:["$","span","code-segment-171",{"style":{},"children":[" "]}]
bd5:["$","span","code-segment-172",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}]
bd6:["$","span","code-segment-173",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
bd7:["$","span","code-segment-174",{"style":{},"children":[" "]}]
bd8:["$","span","code-segment-175",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 下一个hook"]}]
bd9:["$","span","code-segment-176",{"style":{},"children":["\n"]}]
bda:["$","span","line-number--28",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[28]}]
bdb:["$","span","code-segment-178",{"style":{},"children":["    "]}]
bdc:["$","span","code-segment-179",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
bdd:["$","span","code-segment-180",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
bde:["$","span","code-segment-181",{"style":{},"children":["\n"]}]
bdf:["$","span","line-number--29",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[29]}]
be0:["$","span","line-number--30",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[30]}]
be1:["$","span","code-segment-185",{"style":{},"children":["    "]}]
be2:["$","span","code-segment-186",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
be3:["$","span","code-segment-187",{"style":{},"children":[" "]}]
be4:["$","span","code-segment-188",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
be5:["$","span","code-segment-189",{"style":{},"children":["workInProgressHook"]}]
be6:["$","span","code-segment-190",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
be7:["$","span","code-segment-191",{"style":{},"children":[" "]}]
be8:["$","span","code-segment-192",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
be9:["$","span","code-segment-193",{"style":{},"children":["\n"]}]
bea:["$","span","line-number--31",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[31]}]
beb:["$","span","code-segment-195",{"style":{},"children":["      "]}]
bec:["$","span","code-segment-196",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 如果已经有hook，就找链表下一个，移动指针"]}]
bed:["$","span","code-segment-197",{"style":{},"children":["\n"]}]
bee:["$","span","line-number--32",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[32]}]
bef:["$","span","code-segment-199",{"style":{},"children":["      workInProgressHook "]}]
bf0:["$","span","code-segment-200",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
bf1:["$","span","code-segment-201",{"style":{},"children":[" workInProgressHook"]}]
bf2:["$","span","code-segment-202",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
bf3:["$","span","code-segment-203",{"className":"token property-access","style":{},"children":["next"]}]
bf4:["$","span","code-segment-204",{"style":{},"children":[" "]}]
bf5:["$","span","code-segment-205",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
bf6:["$","span","code-segment-206",{"style":{},"children":[" hook"]}]
bf7:["$","span","code-segment-207",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
bf8:["$","span","code-segment-208",{"style":{},"children":["\n"]}]
bf9:["$","span","line-number--33",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[33]}]
bfa:["$","span","code-segment-210",{"style":{},"children":["    "]}]
bfb:["$","span","code-segment-211",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
bfc:["$","span","code-segment-212",{"style":{},"children":[" "]}]
bfd:["$","span","code-segment-213",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["else"]}]
bfe:["$","span","code-segment-214",{"style":{},"children":[" "]}]
bff:["$","span","code-segment-215",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
c00:["$","span","code-segment-216",{"style":{},"children":["\n"]}]
c01:["$","span","line-number--34",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[34]}]
c02:["$","span","code-segment-218",{"style":{},"children":["      "]}]
c03:["$","span","code-segment-219",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 不然就初始化memorizedState"]}]
c04:["$","span","code-segment-220",{"style":{},"children":["\n"]}]
c05:["$","span","line-number--35",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[35]}]
c06:["$","span","code-segment-222",{"style":{},"children":["      workInProgressHook "]}]
c07:["$","span","code-segment-223",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
c08:["$","span","code-segment-224",{"style":{},"children":[" currentlyRenderingFiber"]}]
c09:["$","span","code-segment-225",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
c0a:["$","span","code-segment-226",{"className":"token property-access","style":{},"children":["memorizedState"]}]
c0b:["$","span","code-segment-227",{"style":{},"children":[" "]}]
c0c:["$","span","code-segment-228",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
c0d:["$","span","code-segment-229",{"style":{},"children":[" hook"]}]
c0e:["$","span","code-segment-230",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
c0f:["$","span","code-segment-231",{"style":{},"children":["\n"]}]
c10:["$","span","line-number--36",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[36]}]
c11:["$","span","code-segment-233",{"style":{},"children":["    "]}]
c12:["$","span","code-segment-234",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
c13:["$","span","code-segment-235",{"style":{},"children":["\n"]}]
c14:["$","span","line-number--37",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[37]}]
c15:["$","span","code-segment-237",{"style":{},"children":["  "]}]
c16:["$","span","code-segment-238",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
c17:["$","span","code-segment-239",{"style":{},"children":["\n"]}]
c18:["$","span","line-number--38",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[38]}]
c19:["$","span","line-number--39",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[39]}]
c1a:["$","span","code-segment-243",{"style":{},"children":["  "]}]
c1b:["$","span","code-segment-244",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
c1c:["$","span","code-segment-245",{"style":{},"children":[" hook"]}]
c1d:["$","span","code-segment-246",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
c1e:["$","span","code-segment-247",{"style":{},"children":["\n"]}]
c1f:["$","span","line-number--40",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[40]}]
c20:["$","span","code-segment-249",{"style":{},"children":[""]}]
c21:["$","span","code-segment-250",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
c22:["$","span","code-segment-27",{"className":"token parameter","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
c23:["$","span","code-segment-28",{"className":"token parameter","style":{},"children":[" any "]}]
c24:["$","span","code-segment-29",{"className":"token parameter","style":{"color":"hsl(221, 87%, 60%)"},"children":["|"]}]
c25:["$","span","code-segment-30",{"className":"token parameter","style":{},"children":[" "]}]
c26:["$","span","code-segment-31",{"className":"token parameter","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
c27:["$","span","code-segment-32",{"className":"token parameter","style":{},"children":[" "]}]
c28:["$","span","code-segment-33",{"className":"token parameter literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["type"]}]
c29:["$","span","code-segment-34",{"className":"token parameter","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
c2a:["$","span","code-segment-35",{"className":"token parameter","style":{},"children":[" string"]}]
c2b:["$","span","code-segment-36",{"className":"token parameter","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
c2c:["$","span","code-segment-37",{"className":"token parameter","style":{},"children":[" "]}]
c2d:["$","span","code-segment-38",{"className":"token parameter literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["value"]}]
c2e:["$","span","code-segment-39",{"className":"token parameter","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
c2f:["$","span","code-segment-40",{"className":"token parameter","style":{},"children":[" any "]}]
c30:["$","span","code-segment-41",{"className":"token parameter","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
c31:["$","span","code-segment-42",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
c32:["$","span","code-segment-43",{"style":{},"children":[" "]}]
c33:["$","span","code-segment-44",{"className":"token arrow","style":{"color":"hsl(221, 87%, 60%)"},"children":["=>"]}]
c34:["$","span","code-segment-45",{"style":{},"children":[" "]}]
c35:["$","span","code-segment-46",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
c36:["$","span","code-segment-47",{"style":{},"children":["\n"]}]
c37:["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}]
c38:["$","span","code-segment-49",{"style":{},"children":["  "]}]
c39:["$","span","code-segment-50",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
c3a:["$","span","code-segment-51",{"style":{},"children":[" state "]}]
c3b:["$","span","code-segment-52",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["+"]}]
c3c:["$","span","code-segment-53",{"style":{},"children":[" "]}]
c3d:["$","span","code-segment-54",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["1"]}]
c3e:["$","span","code-segment-55",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
c3f:["$","span","code-segment-56",{"style":{},"children":["\n"]}]
c40:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
c41:["$","span","code-segment-58",{"style":{},"children":[""]}]
c42:["$","span","code-segment-59",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
c43:["$","span","code-segment-60",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
c44:["$","span","code-segment-61",{"style":{},"children":["\n"]}]
c45:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
c46:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
c47:["$","span","code-segment-65",{"style":{},"children":[""]}]
c48:["$","span","code-segment-66",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
c49:["$","span","code-segment-67",{"style":{},"children":[" "]}]
c4a:["$","span","code-segment-68",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["["]}]
c4b:["$","span","code-segment-69",{"style":{},"children":["count"]}]
c4c:["$","span","code-segment-70",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
c4d:["$","span","code-segment-71",{"style":{},"children":[" dispatch"]}]
c4e:["$","span","code-segment-72",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["]"]}]
c4f:["$","span","code-segment-73",{"style":{},"children":[" "]}]
c50:["$","span","code-segment-74",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
c51:["$","span","code-segment-75",{"style":{},"children":[" "]}]
c52:["$","span","code-segment-76",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["useReducer"]}]
c53:["$","span","code-segment-77",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
c54:["$","span","code-segment-78",{"style":{},"children":["reducer"]}]
c55:["$","span","code-segment-79",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
c56:["$","span","code-segment-80",{"style":{},"children":[" initialState"]}]
c57:["$","span","code-segment-81",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
c58:["$","span","code-segment-82",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
c59:["$","span","code-segment-83",{"style":{},"children":["\n"]}]
c5a:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
c5b:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
c5c:["$","span","code-segment-87",{"style":{},"children":[""]}]
c5d:["$","span","code-segment-88",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 调用"]}]
c5e:["$","span","code-segment-89",{"style":{},"children":["\n"]}]
c5f:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
c60:["$","span","code-segment-91",{"style":{},"children":[""]}]
c61:["$","span","code-segment-92",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["dispatch"]}]
c62:["$","span","code-segment-93",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
c63:["$","span","code-segment-94",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["'add'"]}]
c64:["$","span","code-segment-95",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
c65:["$","span","code-segment-96",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
c66:["$","span","code-segment-27",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
c67:["$","span","code-segment-28",{"style":{},"children":["\n"]}]
c68:["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}]
c69:["$","span","code-segment-30",{"style":{},"children":["  "]}]
c6a:["$","span","code-segment-31",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 给初始值"]}]
c6b:["$","span","code-segment-32",{"style":{},"children":["\n"]}]
c6c:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
c6d:["$","span","code-segment-34",{"style":{},"children":["  "]}]
c6e:["$","span","code-segment-35",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
c6f:["$","span","code-segment-36",{"style":{},"children":[" "]}]
c70:["$","span","code-segment-37",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
c71:["$","span","code-segment-38",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["!"]}]
c72:["$","span","code-segment-39",{"style":{},"children":["currentlyRenderingFiber"]}]
c73:["$","span","code-segment-40",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
c74:["$","span","code-segment-41",{"className":"token property-access","style":{},"children":["alternate"]}]
c75:["$","span","code-segment-42",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
c76:["$","span","code-segment-43",{"style":{},"children":[" "]}]
c77:["$","span","code-segment-44",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
c78:["$","span","code-segment-45",{"style":{},"children":["\n"]}]
c79:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
c7a:["$","span","code-segment-47",{"style":{},"children":["    "]}]
c7b:["$","span","code-segment-48",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 如果没有经过 diff 标记赋值 alternate，说明还没有初始化过 state。没有对比就不会存在 state 改变"]}]
c7c:["$","span","code-segment-49",{"style":{},"children":["\n"]}]
c7d:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
c7e:["$","span","code-segment-51",{"style":{},"children":["    hook"]}]
c7f:["$","span","code-segment-52",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
c80:["$","span","code-segment-53",{"className":"token property-access","style":{},"children":["memorizedState"]}]
c81:["$","span","code-segment-54",{"style":{},"children":[" "]}]
c82:["$","span","code-segment-55",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
c83:["$","span","code-segment-56",{"style":{},"children":[" initalState"]}]
c84:["$","span","code-segment-57",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
c85:["$","span","code-segment-58",{"style":{},"children":["\n"]}]
c86:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
c87:["$","span","code-segment-60",{"style":{},"children":["  "]}]
c88:["$","span","code-segment-61",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
c89:["$","span","code-segment-62",{"style":{},"children":["\n"]}]
c8a:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
c8b:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
c8c:["$","span","code-segment-66",{"style":{},"children":["  "]}]
c8d:["$","span","code-segment-67",{"className":"token spread","style":{"color":"hsl(221, 87%, 60%)"},"children":["..."]}]
c8e:["$","span","code-segment-68",{"style":{},"children":["\n"]}]
c8f:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
c90:["$","span","code-segment-70",{"style":{},"children":[""]}]
c91:["$","span","code-segment-71",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
c92:["$","span","code-segment-22",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
c93:["$","span","code-segment-23",{"style":{},"children":[" "]}]
c94:["$","span","code-segment-24",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
c95:["$","span","code-segment-25",{"style":{},"children":["reducer"]}]
c96:["$","span","code-segment-26",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
c97:["$","span","code-segment-27",{"style":{},"children":[" "]}]
c98:["$","span","code-segment-28",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
c99:["$","span","code-segment-29",{"style":{},"children":["\n"]}]
c9a:["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}]
c9b:["$","span","code-segment-31",{"style":{},"children":["    hook"]}]
c9c:["$","span","code-segment-32",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
c9d:["$","span","code-segment-33",{"className":"token property-access","style":{},"children":["memorizedState"]}]
c9e:["$","span","code-segment-34",{"style":{},"children":[" "]}]
c9f:["$","span","code-segment-35",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
ca0:["$","span","code-segment-36",{"style":{},"children":[" "]}]
ca1:["$","span","code-segment-37",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["reducer"]}]
ca2:["$","span","code-segment-38",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
ca3:["$","span","code-segment-39",{"style":{},"children":["hook"]}]
ca4:["$","span","code-segment-40",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
ca5:["$","span","code-segment-41",{"className":"token property-access","style":{},"children":["memorizedState"]}]
ca6:["$","span","code-segment-42",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
ca7:["$","span","code-segment-43",{"style":{},"children":[" action"]}]
ca8:["$","span","code-segment-44",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
ca9:["$","span","code-segment-45",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
caa:["$","span","code-segment-46",{"style":{},"children":["\n"]}]
cab:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
cac:["$","span","code-segment-48",{"style":{},"children":["  "]}]
cad:["$","span","code-segment-49",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
cae:["$","span","code-segment-50",{"style":{},"children":[" "]}]
caf:["$","span","code-segment-51",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["else"]}]
cb0:["$","span","code-segment-52",{"style":{},"children":[" "]}]
cb1:["$","span","code-segment-53",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
cb2:["$","span","code-segment-54",{"style":{},"children":["\n"]}]
cb3:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
cb4:["$","span","code-segment-56",{"style":{},"children":["    "]}]
cb5:["$","span","code-segment-57",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// useState: setState(1);"]}]
cb6:["$","span","code-segment-58",{"style":{},"children":["\n"]}]
cb7:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
cb8:["$","span","code-segment-60",{"style":{},"children":["    hook"]}]
cb9:["$","span","code-segment-61",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
cba:["$","span","code-segment-62",{"className":"token property-access","style":{},"children":["memorizedState"]}]
cbb:["$","span","code-segment-63",{"style":{},"children":[" "]}]
cbc:["$","span","code-segment-64",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
cbd:["$","span","code-segment-65",{"style":{},"children":[" action"]}]
cbe:["$","span","code-segment-66",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
cbf:["$","span","code-segment-67",{"style":{},"children":["\n"]}]
cc0:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
cc1:["$","span","code-segment-69",{"style":{},"children":["  "]}]
cc2:["$","span","code-segment-70",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
cc3:["$","span","code-segment-71",{"style":{},"children":["\n"]}]
cc4:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
cc5:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
cc6:["$","span","code-segment-75",{"style":{},"children":["  "]}]
cc7:["$","span","code-segment-76",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 更新 alternate， fiber已经改变"]}]
cc8:["$","span","code-segment-77",{"style":{},"children":["\n"]}]
cc9:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
cca:["$","span","code-segment-79",{"style":{},"children":["  fiber"]}]
ccb:["$","span","code-segment-80",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
ccc:["$","span","code-segment-81",{"className":"token property-access","style":{},"children":["alternate"]}]
ccd:["$","span","code-segment-82",{"style":{},"children":[" "]}]
cce:["$","span","code-segment-83",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
ccf:["$","span","code-segment-84",{"style":{},"children":[" "]}]
cd0:["$","span","code-segment-85",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
cd1:["$","span","code-segment-86",{"style":{},"children":[" "]}]
cd2:["$","span","code-segment-87",{"className":"token spread","style":{"color":"hsl(221, 87%, 60%)"},"children":["..."]}]
cd3:["$","span","code-segment-88",{"style":{},"children":["fiber "]}]
cd4:["$","span","code-segment-89",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
cd5:["$","span","code-segment-90",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
cd6:["$","span","code-segment-91",{"style":{},"children":["\n"]}]
cd7:["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[12]}]
cd8:["$","span","code-segment-93",{"style":{},"children":["  "]}]
cd9:["$","span","code-segment-94",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 兄弟节点置空，意思是只更新当前函数节点即可。这里不用担心链表断掉，reconcileChildren 中会重新构造链表关系。hook 更新只是据局部更新"]}]
cda:["$","span","code-segment-95",{"style":{},"children":["\n"]}]
cdb:["$","span","line-number--13",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[13]}]
cdc:["$","span","code-segment-97",{"style":{},"children":["  fiber"]}]
cdd:["$","span","code-segment-98",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
cde:["$","span","code-segment-99",{"className":"token property-access","style":{},"children":["sibling"]}]
cdf:["$","span","code-segment-100",{"style":{},"children":[" "]}]
ce0:["$","span","code-segment-101",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
ce1:["$","span","code-segment-102",{"style":{},"children":[" "]}]
ce2:["$","span","code-segment-103",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}]
ce3:["$","span","code-segment-104",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
ce4:["$","span","code-segment-105",{"style":{},"children":["\n"]}]
ce5:["$","span","line-number--14",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[14]}]
ce6:["$","span","code-segment-107",{"style":{},"children":["  "]}]
ce7:["$","span","code-segment-108",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["scheduleUpdateOnFiber"]}]
ce8:["$","span","code-segment-109",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
ce9:["$","span","code-segment-110",{"style":{},"children":["fiber"]}]
cea:["$","span","code-segment-111",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
ceb:["$","span","code-segment-112",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
cec:["$","span","code-segment-113",{"style":{},"children":["\n"]}]
ced:["$","span","line-number--15",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[15]}]
cee:["$","span","code-segment-115",{"style":{},"children":[""]}]
cef:["$","span","code-segment-116",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
cf0:["$","span","code-segment-18",{"style":{},"children":[""]}]
cf1:["$","span","code-segment-19",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
cf2:["$","span","code-segment-20",{"style":{},"children":[" dispatch "]}]
cf3:["$","span","code-segment-21",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
cf4:["$","span","code-segment-22",{"style":{},"children":[" dispatchReducerAction"]}]
cf5:["$","span","code-segment-23",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
cf6:["$","span","code-segment-24",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["bind"]}]
cf7:["$","span","code-segment-25",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
cf8:["$","span","code-segment-26",{"style":{},"children":["\n"]}]
cf9:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
cfa:["$","span","code-segment-28",{"style":{},"children":["  "]}]
cfb:["$","span","code-segment-29",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}]
cfc:["$","span","code-segment-30",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
cfd:["$","span","code-segment-31",{"style":{},"children":["\n"]}]
cfe:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
cff:["$","span","code-segment-33",{"style":{},"children":["  currentlyRenderingFiber"]}]
d00:["$","span","code-segment-34",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
d01:["$","span","code-segment-35",{"style":{},"children":["\n"]}]
d02:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
d03:["$","span","code-segment-37",{"style":{},"children":["  hook"]}]
d04:["$","span","code-segment-38",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
d05:["$","span","code-segment-39",{"style":{},"children":["\n"]}]
d06:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
d07:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
d08:["$","span","code-segment-43",{"style":{},"children":[""]}]
d09:["$","span","code-segment-44",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
d0a:["$","span","code-segment-45",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
d0b:["$","span","code-segment-46",{"style":{},"children":["\n"]}]
d0c:["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[12]}]
d0d:["$","span","line-number--13",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[13]}]
d0e:["$","span","code-segment-50",{"style":{},"children":[""]}]
d0f:["$","span","code-segment-51",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
d10:["$","span","code-segment-52",{"style":{},"children":[" "]}]
d11:["$","span","code-segment-53",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["["]}]
d12:["$","span","code-segment-54",{"style":{},"children":["hook"]}]
d13:["$","span","code-segment-55",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
d14:["$","span","code-segment-56",{"className":"token property-access","style":{},"children":["memorizedState"]}]
d15:["$","span","code-segment-57",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
d16:["$","span","code-segment-58",{"style":{},"children":[" dispatch"]}]
d17:["$","span","code-segment-59",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["]"]}]
d18:["$","span","code-segment-60",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
d19:["$","span","code-segment-29",{"style":{},"children":[""]}]
d1a:["$","span","code-segment-30",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
d1b:["$","span","code-segment-25",{"className":"token property-access","style":{},"children":["memorizedState"]}]
d1c:["$","span","code-segment-26",{"style":{},"children":[" "]}]
d1d:["$","span","code-segment-27",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
d1e:["$","span","code-segment-28",{"style":{},"children":[" "]}]
d1f:["$","span","code-segment-29",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}]
d20:["$","span","code-segment-30",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
d21:["$","span","code-segment-31",{"style":{},"children":["\n"]}]
d22:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
d23:["$","span","code-segment-33",{"style":{},"children":["  workInProgressHook "]}]
d24:["$","span","code-segment-34",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
d25:["$","span","code-segment-35",{"style":{},"children":[" "]}]
d26:["$","span","code-segment-36",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}]
d27:["$","span","code-segment-37",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
d28:["$","span","code-segment-38",{"style":{},"children":["\n"]}]
d29:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
d2a:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
d2b:["$","span","code-segment-42",{"style":{},"children":["  "]}]
d2c:["$","span","code-segment-43",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 为了方便，useEffect与useLayoutEffect区分开，并且以数组管理"]}]
d2d:["$","span","code-segment-44",{"style":{},"children":["\n"]}]
d2e:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
d2f:["$","span","code-segment-46",{"style":{},"children":["  "]}]
d30:["$","span","code-segment-47",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 源码中是放一起的，并且是个链表"]}]
d31:["$","span","code-segment-48",{"style":{},"children":["\n"]}]
d32:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
d33:["$","span","code-segment-50",{"style":{},"children":["  currentlyRenderingFiber"]}]
d34:["$","span","code-segment-51",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
d35:["$","span","code-segment-52",{"className":"token property-access","style":{},"children":["updateQueueOfEffect"]}]
d36:["$","span","code-segment-53",{"style":{},"children":[" "]}]
d37:["$","span","code-segment-54",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
d38:["$","span","code-segment-55",{"style":{},"children":[" "]}]
d39:["$","span","code-segment-56",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["["]}]
d3a:["$","span","code-segment-57",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["]"]}]
d3b:["$","span","code-segment-58",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
d3c:["$","span","code-segment-59",{"style":{},"children":["\n"]}]
d3d:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
d3e:["$","span","code-segment-61",{"style":{},"children":["  currentlyRenderingFiber"]}]
d3f:["$","span","code-segment-62",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
d40:["$","span","code-segment-63",{"className":"token property-access","style":{},"children":["updateQueueOfLayout"]}]
d41:["$","span","code-segment-64",{"style":{},"children":[" "]}]
d42:["$","span","code-segment-65",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
d43:["$","span","code-segment-66",{"style":{},"children":[" "]}]
d44:["$","span","code-segment-67",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["["]}]
d45:["$","span","code-segment-68",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["]"]}]
d46:["$","span","code-segment-69",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
d47:["$","span","code-segment-70",{"style":{},"children":["\n"]}]
d48:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
d49:["$","span","code-segment-72",{"style":{},"children":[""]}]
d4a:["$","span","code-segment-73",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
d4c:["$","span","code-segment-16",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
d4d:["$","span","code-segment-17",{"style":{},"children":[" hook "]}]
d4e:["$","span","code-segment-18",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
d4f:["$","span","code-segment-19",{"style":{},"children":[" "]}]
d50:["$","span","code-segment-20",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["updateWorkInProgressHook"]}]
d51:["$","span","code-segment-21",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
d52:["$","span","code-segment-22",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
d53:["$","span","code-segment-23",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
d54:["$","span","code-segment-24",{"style":{},"children":["\n"]}]
d55:["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}]
d56:["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}]
d57:["$","span","code-segment-28",{"style":{},"children":["  "]}]
d58:["$","span","code-segment-29",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 初始化时没有 currentHook，必然会走到下边执行函数，组件状态变更时，会赋值 currentHook，用于拦截是否要更新"]}]
d59:["$","span","code-segment-30",{"style":{},"children":["\n"]}]
d5a:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
d5b:["$","span","code-segment-32",{"style":{},"children":["  "]}]
d5c:["$","span","code-segment-33",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
d5d:["$","span","code-segment-34",{"style":{},"children":[" "]}]
d5e:["$","span","code-segment-35",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
d5f:["$","span","code-segment-36",{"style":{},"children":["currentHook"]}]
d60:["$","span","code-segment-37",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
d61:["$","span","code-segment-38",{"style":{},"children":[" "]}]
d62:["$","span","code-segment-39",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
d63:["$","span","code-segment-40",{"style":{},"children":["\n"]}]
d64:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
d65:["$","span","code-segment-42",{"style":{},"children":["    "]}]
d66:["$","span","code-segment-43",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 用于校验两次 依赖 是否有变化"]}]
d67:["$","span","code-segment-44",{"style":{},"children":["\n"]}]
d68:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
d69:["$","span","code-segment-46",{"style":{},"children":["    "]}]
d6a:["$","span","code-segment-47",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
d6b:["$","span","code-segment-48",{"style":{},"children":[" prevEffect "]}]
d6c:["$","span","code-segment-49",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
d6d:["$","span","code-segment-50",{"style":{},"children":[" currentHook"]}]
d6e:["$","span","code-segment-51",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
d6f:["$","span","code-segment-52",{"className":"token property-access","style":{},"children":["memorizedState"]}]
d70:["$","span","code-segment-53",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
d71:["$","span","code-segment-54",{"style":{},"children":["\n"]}]
d72:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
d73:["$","span","code-segment-56",{"style":{},"children":["    "]}]
d74:["$","span","code-segment-57",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
d75:["$","span","code-segment-58",{"style":{},"children":[" "]}]
d76:["$","span","code-segment-59",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
d77:["$","span","code-segment-60",{"style":{},"children":["deps"]}]
d78:["$","span","code-segment-61",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
d79:["$","span","code-segment-62",{"style":{},"children":[" "]}]
d7a:["$","span","code-segment-63",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
d7b:["$","span","code-segment-64",{"style":{},"children":["\n"]}]
d7c:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
d7d:["$","span","code-segment-66",{"style":{},"children":["      "]}]
d7e:["$","span","code-segment-67",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
d7f:["$","span","code-segment-68",{"style":{},"children":[" prevDeps "]}]
d80:["$","span","code-segment-69",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
d81:["$","span","code-segment-70",{"style":{},"children":[" prevEffect"]}]
d82:["$","span","code-segment-71",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
d83:["$","span","code-segment-72",{"className":"token property-access","style":{},"children":["deps"]}]
d84:["$","span","code-segment-73",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
d85:["$","span","code-segment-74",{"style":{},"children":["\n"]}]
d86:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
d87:["$","span","code-segment-76",{"style":{},"children":["      "]}]
d88:["$","span","code-segment-77",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
d89:["$","span","code-segment-78",{"style":{},"children":[" "]}]
d8a:["$","span","code-segment-79",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
d8b:["$","span","code-segment-80",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["areHookInputsEqual"]}]
d8c:["$","span","code-segment-81",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
d8d:["$","span","code-segment-82",{"style":{},"children":["deps"]}]
d8e:["$","span","code-segment-83",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
d8f:["$","span","code-segment-84",{"style":{},"children":[" prevDeps"]}]
d90:["$","span","code-segment-85",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
d91:["$","span","code-segment-86",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
d92:["$","span","code-segment-87",{"style":{},"children":[" "]}]
d93:["$","span","code-segment-88",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
d94:["$","span","code-segment-89",{"style":{},"children":["\n"]}]
d95:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
d96:["$","span","code-segment-91",{"style":{},"children":["        "]}]
d97:["$","span","code-segment-92",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
d98:["$","span","code-segment-93",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
d99:["$","span","code-segment-94",{"style":{},"children":["\n"]}]
d9a:["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[12]}]
d9b:["$","span","code-segment-96",{"style":{},"children":["      "]}]
d9c:["$","span","code-segment-97",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
d9d:["$","span","code-segment-98",{"style":{},"children":["\n"]}]
d9e:["$","span","line-number--13",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[13]}]
d9f:["$","span","code-segment-100",{"style":{},"children":["    "]}]
da0:["$","span","code-segment-101",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
da1:["$","span","code-segment-102",{"style":{},"children":["\n"]}]
da2:["$","span","line-number--14",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[14]}]
da3:["$","span","code-segment-104",{"style":{},"children":["  "]}]
da4:["$","span","code-segment-105",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
da5:["$","span","code-segment-106",{"style":{},"children":["\n"]}]
da6:["$","span","line-number--15",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[15]}]
da7:["$","span","line-number--16",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[16]}]
da8:["$","span","code-segment-110",{"style":{},"children":["  "]}]
da9:["$","span","code-segment-111",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
daa:["$","span","code-segment-112",{"style":{},"children":[" effect "]}]
dab:["$","span","code-segment-113",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
dac:["$","span","code-segment-114",{"style":{},"children":[" "]}]
dad:["$","span","code-segment-115",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
dae:["$","span","code-segment-116",{"style":{},"children":[" hooksFlags"]}]
daf:["$","span","code-segment-117",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
db0:["$","span","code-segment-118",{"style":{},"children":[" create"]}]
db1:["$","span","code-segment-119",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
db2:["$","span","code-segment-120",{"style":{},"children":[" deps "]}]
db3:["$","span","code-segment-121",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
db4:["$","span","code-segment-122",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
db5:["$","span","code-segment-123",{"style":{},"children":["\n"]}]
db6:["$","span","line-number--17",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[17]}]
db7:["$","span","line-number--18",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[18]}]
db8:["$","span","code-segment-127",{"style":{},"children":["  hook"]}]
db9:["$","span","code-segment-128",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
dba:["$","span","code-segment-129",{"className":"token property-access","style":{},"children":["memorizedState"]}]
dbb:["$","span","code-segment-130",{"style":{},"children":[" "]}]
dbc:["$","span","code-segment-131",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
dbd:["$","span","code-segment-132",{"style":{},"children":[" effect"]}]
dbe:["$","span","code-segment-133",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
dbf:["$","span","code-segment-134",{"style":{},"children":["\n"]}]
dc0:["$","span","line-number--19",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[19]}]
dc1:["$","span","line-number--20",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[20]}]
dc2:["$","span","code-segment-138",{"style":{},"children":["  "]}]
dc3:["$","span","code-segment-139",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// useEffect"]}]
dc4:["$","span","code-segment-140",{"style":{},"children":["\n"]}]
dc5:["$","span","line-number--21",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[21]}]
dc6:["$","span","code-segment-142",{"style":{},"children":["  "]}]
dc7:["$","span","code-segment-143",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
dc8:["$","span","code-segment-144",{"style":{},"children":[" "]}]
dc9:["$","span","code-segment-145",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
dca:["$","span","code-segment-146",{"style":{},"children":["hooksFlags "]}]
dcb:["$","span","code-segment-147",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["&"]}]
dcc:["$","span","code-segment-148",{"style":{},"children":[" "]}]
dcd:["$","span","code-segment-149",{"className":"token maybe-class-name","style":{},"children":["HookPassive"]}]
dce:["$","span","code-segment-150",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
dcf:["$","span","code-segment-151",{"style":{},"children":[" "]}]
dd0:["$","span","code-segment-152",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
dd1:["$","span","code-segment-153",{"style":{},"children":["\n"]}]
dd2:["$","span","line-number--22",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[22]}]
dd3:["$","span","code-segment-155",{"style":{},"children":["    currentlyRenderingFiber"]}]
dd4:["$","span","code-segment-156",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
dd5:["$","span","code-segment-157",{"className":"token property-access","style":{},"children":["updateQueueOfEffect"]}]
dd6:["$","span","code-segment-158",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
dd7:["$","span","code-segment-159",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["push"]}]
dd8:["$","span","code-segment-160",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
dd9:["$","span","code-segment-161",{"style":{},"children":["effect"]}]
dda:["$","span","code-segment-162",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
ddb:["$","span","code-segment-163",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
ddc:["$","span","code-segment-164",{"style":{},"children":["\n"]}]
ddd:["$","span","line-number--23",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[23]}]
dde:["$","span","code-segment-166",{"style":{},"children":["    "]}]
ddf:["$","span","code-segment-167",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// useLayoutEffect"]}]
de0:["$","span","code-segment-168",{"style":{},"children":["\n"]}]
de1:["$","span","line-number--24",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[24]}]
de2:["$","span","code-segment-170",{"style":{},"children":["  "]}]
de3:["$","span","code-segment-171",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
de4:["$","span","code-segment-172",{"style":{},"children":[" "]}]
de5:["$","span","code-segment-173",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["else"]}]
de6:["$","span","code-segment-174",{"style":{},"children":[" "]}]
de7:["$","span","code-segment-175",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
de8:["$","span","code-segment-176",{"style":{},"children":[" "]}]
de9:["$","span","code-segment-177",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
dea:["$","span","code-segment-178",{"style":{},"children":["hooksFlags "]}]
deb:["$","span","code-segment-179",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["&"]}]
dec:["$","span","code-segment-180",{"style":{},"children":[" "]}]
ded:["$","span","code-segment-181",{"className":"token maybe-class-name","style":{},"children":["HookLayout"]}]
dee:["$","span","code-segment-182",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
def:["$","span","code-segment-183",{"style":{},"children":[" "]}]
df0:["$","span","code-segment-184",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
df1:["$","span","code-segment-185",{"style":{},"children":["\n"]}]
df2:["$","span","line-number--25",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[25]}]
df3:["$","span","code-segment-187",{"style":{},"children":["    currentlyRenderingFiber"]}]
df4:["$","span","code-segment-188",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
df5:["$","span","code-segment-189",{"className":"token property-access","style":{},"children":["updateQueueOfLayout"]}]
df6:["$","span","code-segment-190",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
df7:["$","span","code-segment-191",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["push"]}]
df8:["$","span","code-segment-192",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
df9:["$","span","code-segment-193",{"style":{},"children":["effect"]}]
dfa:["$","span","code-segment-194",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
dfb:["$","span","code-segment-195",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
dfc:["$","span","code-segment-196",{"style":{},"children":["\n"]}]
dfd:["$","span","line-number--26",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[26]}]
dfe:["$","span","code-segment-198",{"style":{},"children":["  "]}]
dff:["$","span","code-segment-199",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
e00:["$","span","code-segment-200",{"style":{},"children":["\n"]}]
e01:["$","span","line-number--27",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[27]}]
e02:["$","span","code-segment-202",{"style":{},"children":[""]}]
e03:["$","span","code-segment-203",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
e04:["$","span","code-segment-204",{"style":{},"children":["\n"]}]
e05:["$","span","line-number--28",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[28]}]
e06:["$","span","line-number--29",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[29]}]
e07:["$","span","code-segment-208",{"style":{},"children":[""]}]
e08:["$","span","code-segment-209",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// ! HookFlags"]}]
e09:["$","span","code-segment-210",{"style":{},"children":["\n"]}]
e0a:["$","span","line-number--30",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[30]}]
e0b:["$","span","code-segment-212",{"style":{},"children":[""]}]
e0c:["$","span","code-segment-213",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}]
e0d:["$","span","code-segment-214",{"style":{},"children":[" "]}]
e0e:["$","span","code-segment-215",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
e0f:["$","span","code-segment-216",{"style":{},"children":[" "]}]
e10:["$","span","code-segment-217",{"className":"token maybe-class-name","style":{},"children":["HookLayout"]}]
e11:["$","span","code-segment-218",{"style":{},"children":[" "]}]
e12:["$","span","code-segment-219",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
e13:["$","span","code-segment-220",{"style":{},"children":[" "]}]
e14:["$","span","code-segment-221",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["/*    */"]}]
e15:["$","span","code-segment-222",{"style":{},"children":[" "]}]
e16:["$","span","code-segment-223",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["0b010"]}]
e17:["$","span","code-segment-224",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
e18:["$","span","code-segment-225",{"style":{},"children":["\n"]}]
e19:["$","span","line-number--31",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[31]}]
e1a:["$","span","code-segment-227",{"style":{},"children":[""]}]
e1b:["$","span","code-segment-228",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}]
e1c:["$","span","code-segment-229",{"style":{},"children":[" "]}]
e1d:["$","span","code-segment-230",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
e1e:["$","span","code-segment-231",{"style":{},"children":[" "]}]
e1f:["$","span","code-segment-232",{"className":"token maybe-class-name","style":{},"children":["HookPassive"]}]
e20:["$","span","code-segment-233",{"style":{},"children":[" "]}]
e21:["$","span","code-segment-234",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
e22:["$","span","code-segment-235",{"style":{},"children":[" "]}]
e23:["$","span","code-segment-236",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["/*   */"]}]
e24:["$","span","code-segment-237",{"style":{},"children":[" "]}]
e25:["$","span","code-segment-238",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["0b100"]}]
e26:["$","span","code-segment-239",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
e27:["$","span","code-segment-240",{"style":{},"children":["\n"]}]
e28:["$","span","line-number--32",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[32]}]
e29:["$","span","line-number--33",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[33]}]
e2a:["$","span","code-segment-244",{"style":{},"children":[""]}]
e2b:["$","span","code-segment-245",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}]
e2c:["$","span","code-segment-246",{"style":{},"children":[" "]}]
e2d:["$","span","code-segment-247",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}]
e2e:["$","span","code-segment-248",{"style":{},"children":[" "]}]
e2f:["$","span","code-segment-249",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["areHookInputsEqual"]}]
e30:["$","span","code-segment-250",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
e31:["$","span","code-segment-251",{"className":"token parameter","style":{},"children":["nextDeps"]}]
e32:["$","span","code-segment-252",{"className":"token parameter","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
e33:["$","span","code-segment-253",{"className":"token parameter","style":{},"children":[" prevDeps"]}]
e34:["$","span","code-segment-254",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
e35:["$","span","code-segment-255",{"style":{},"children":[" "]}]
e36:["$","span","code-segment-256",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
e37:["$","span","code-segment-257",{"style":{},"children":["\n"]}]
e38:["$","span","line-number--34",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[34]}]
e39:["$","span","code-segment-259",{"style":{},"children":["  "]}]
e3a:["$","span","code-segment-260",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
e3b:["$","span","code-segment-261",{"style":{},"children":[" "]}]
e3c:["$","span","code-segment-262",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
e3d:["$","span","code-segment-263",{"style":{},"children":["prevDeps "]}]
e3e:["$","span","code-segment-264",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["=="]}]
e3f:["$","span","code-segment-265",{"style":{},"children":[" "]}]
e40:["$","span","code-segment-266",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}]
e41:["$","span","code-segment-267",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
e42:["$","span","code-segment-268",{"style":{},"children":[" "]}]
e43:["$","span","code-segment-269",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
e44:["$","span","code-segment-270",{"style":{},"children":["\n"]}]
e45:["$","span","line-number--35",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[35]}]
e46:["$","span","code-segment-272",{"style":{},"children":["    "]}]
e47:["$","span","code-segment-273",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
e48:["$","span","code-segment-274",{"style":{},"children":[" "]}]
e49:["$","span","code-segment-275",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["false"]}]
e4a:["$","span","code-segment-276",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
e4b:["$","span","code-segment-277",{"style":{},"children":["\n"]}]
e4c:["$","span","line-number--36",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[36]}]
e4d:["$","span","code-segment-279",{"style":{},"children":["  "]}]
e4e:["$","span","code-segment-280",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
e4f:["$","span","code-segment-281",{"style":{},"children":["\n"]}]
e50:["$","span","line-number--37",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[37]}]
e51:["$","span","line-number--38",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[38]}]
e52:["$","span","code-segment-285",{"style":{},"children":["  "]}]
e53:["$","span","code-segment-286",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 这里只是简单的按位置索引对比"]}]
e54:["$","span","code-segment-287",{"style":{},"children":["\n"]}]
e55:["$","span","line-number--39",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[39]}]
e56:["$","span","code-segment-289",{"style":{},"children":["  "]}]
e57:["$","span","code-segment-290",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["for"]}]
e58:["$","span","code-segment-291",{"style":{},"children":[" "]}]
e59:["$","span","code-segment-292",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
e5a:["$","span","code-segment-293",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["let"]}]
e5b:["$","span","code-segment-294",{"style":{},"children":[" i "]}]
e5c:["$","span","code-segment-295",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
e5d:["$","span","code-segment-296",{"style":{},"children":[" "]}]
e5e:["$","span","code-segment-297",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["0"]}]
e5f:["$","span","code-segment-298",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
e60:["$","span","code-segment-299",{"style":{},"children":[" i "]}]
e61:["$","span","code-segment-300",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["<"]}]
e62:["$","span","code-segment-301",{"style":{},"children":[" prevDeps"]}]
e63:["$","span","code-segment-302",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
e64:["$","span","code-segment-303",{"className":"token property-access","style":{},"children":["length"]}]
e65:["$","span","code-segment-304",{"style":{},"children":[" "]}]
e66:["$","span","code-segment-305",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["&&"]}]
e67:["$","span","code-segment-306",{"style":{},"children":[" i "]}]
e68:["$","span","code-segment-307",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["<"]}]
e69:["$","span","code-segment-308",{"style":{},"children":[" nextDeps"]}]
e6a:["$","span","code-segment-309",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
e6b:["$","span","code-segment-310",{"className":"token property-access","style":{},"children":["length"]}]
e6c:["$","span","code-segment-311",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
e6d:["$","span","code-segment-312",{"style":{},"children":[" i"]}]
e6e:["$","span","code-segment-313",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["++"]}]
e6f:["$","span","code-segment-314",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
e70:["$","span","code-segment-315",{"style":{},"children":[" "]}]
e71:["$","span","code-segment-316",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
e72:["$","span","code-segment-317",{"style":{},"children":["\n"]}]
e73:["$","span","line-number--40",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[40]}]
e74:["$","span","code-segment-319",{"style":{},"children":["    "]}]
e75:["$","span","code-segment-320",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
e76:["$","span","code-segment-321",{"style":{},"children":[" "]}]
e77:["$","span","code-segment-322",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
e78:["$","span","code-segment-323",{"className":"token known-class-name","style":{"color":"hsl(35, 99%, 36%)"},"children":["Object"]}]
e79:["$","span","code-segment-324",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
e7a:["$","span","code-segment-325",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["is"]}]
e7b:["$","span","code-segment-326",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
e7c:["$","span","code-segment-327",{"style":{},"children":["nextDeps"]}]
e7d:["$","span","code-segment-328",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["["]}]
e7e:["$","span","code-segment-329",{"style":{},"children":["i"]}]
e7f:["$","span","code-segment-330",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["]"]}]
e80:["$","span","code-segment-331",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
e81:["$","span","code-segment-332",{"style":{},"children":[" prevDeps"]}]
e82:["$","span","code-segment-333",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["["]}]
e83:["$","span","code-segment-334",{"style":{},"children":["i"]}]
e84:["$","span","code-segment-335",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["]"]}]
e85:["$","span","code-segment-336",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
e86:["$","span","code-segment-337",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
e87:["$","span","code-segment-338",{"style":{},"children":[" "]}]
e88:["$","span","code-segment-339",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
e89:["$","span","code-segment-340",{"style":{},"children":["\n"]}]
e8a:["$","span","line-number--41",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[41]}]
e8b:["$","span","code-segment-342",{"style":{},"children":["      "]}]
e8c:["$","span","code-segment-343",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["continue"]}]
e8d:["$","span","code-segment-344",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
e8e:["$","span","code-segment-345",{"style":{},"children":["\n"]}]
e8f:["$","span","line-number--42",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[42]}]
e90:["$","span","code-segment-347",{"style":{},"children":["    "]}]
e91:["$","span","code-segment-348",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
e92:["$","span","code-segment-349",{"style":{},"children":["\n"]}]
e93:["$","span","line-number--43",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[43]}]
e94:["$","span","code-segment-351",{"style":{},"children":["    "]}]
e95:["$","span","code-segment-352",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
e96:["$","span","code-segment-353",{"style":{},"children":[" "]}]
e97:["$","span","code-segment-354",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["false"]}]
e98:["$","span","code-segment-355",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
e99:["$","span","code-segment-356",{"style":{},"children":["\n"]}]
e9a:["$","span","line-number--44",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[44]}]
e9b:["$","span","code-segment-358",{"style":{},"children":["  "]}]
e9c:["$","span","code-segment-359",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
e9d:["$","span","code-segment-360",{"style":{},"children":["\n"]}]
e9e:["$","span","line-number--45",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[45]}]
e9f:["$","span","line-number--46",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[46]}]
ea0:["$","span","code-segment-364",{"style":{},"children":["  "]}]
ea1:["$","span","code-segment-365",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
ea2:["$","span","code-segment-366",{"style":{},"children":[" "]}]
ea3:["$","span","code-segment-367",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["true"]}]
ea4:["$","span","code-segment-368",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
ea5:["$","span","code-segment-369",{"style":{},"children":["\n"]}]
ea6:["$","span","line-number--47",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[47]}]
ea7:["$","span","code-segment-371",{"style":{},"children":[""]}]
ea8:["$","span","code-segment-372",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
ea9:["$","span","code-segment-29",{"style":{},"children":[""]}]
eaa:["$","span","code-segment-30",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
eab:["$","span","code-segment-31",{"style":{},"children":["\n"]}]
eac:["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}]
ead:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
eae:["$","span","code-segment-35",{"style":{},"children":[""]}]
eaf:["$","span","code-segment-36",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}]
eb0:["$","span","code-segment-37",{"style":{},"children":[" "]}]
eb1:["$","span","code-segment-38",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}]
eb2:["$","span","code-segment-39",{"style":{},"children":[" "]}]
eb3:["$","span","code-segment-40",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["useLayoutEffect"]}]
eb4:["$","span","code-segment-41",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
eb5:["$","span","code-segment-42",{"className":"token parameter","style":{},"children":["create"]}]
eb6:["$","span","code-segment-43",{"className":"token parameter","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
eb7:["$","span","code-segment-44",{"className":"token parameter","style":{},"children":[" deps"]}]
eb8:["$","span","code-segment-45",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
eb9:["$","span","code-segment-46",{"style":{},"children":[" "]}]
eba:["$","span","code-segment-47",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
ebb:["$","span","code-segment-48",{"style":{},"children":["\n"]}]
ebc:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
ebd:["$","span","code-segment-50",{"style":{},"children":["  "]}]
ebe:["$","span","code-segment-51",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
ebf:["$","span","code-segment-52",{"style":{},"children":[" "]}]
ec0:["$","span","code-segment-53",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["updateEffectImp"]}]
ec1:["$","span","code-segment-54",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
ec2:["$","span","code-segment-55",{"className":"token maybe-class-name","style":{},"children":["HookLayout"]}]
ec3:["$","span","code-segment-56",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
ec4:["$","span","code-segment-57",{"style":{},"children":[" create"]}]
ec5:["$","span","code-segment-58",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
ec6:["$","span","code-segment-59",{"style":{},"children":[" deps"]}]
ec7:["$","span","code-segment-60",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
ec8:["$","span","code-segment-61",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
ec9:["$","span","code-segment-62",{"style":{},"children":["\n"]}]
eca:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
ecb:["$","span","code-segment-64",{"style":{},"children":[""]}]
ecc:["$","span","code-segment-65",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
ecd:["$","span","code-segment-29",{"style":{},"children":[" "]}]
ece:["$","span","code-segment-30",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
ecf:["$","span","code-segment-31",{"style":{},"children":["\n"]}]
ed0:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
ed1:["$","span","code-segment-33",{"style":{},"children":["    "]}]
ed2:["$","span","code-segment-34",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["invokeHooks"]}]
ed3:["$","span","code-segment-35",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
ed4:["$","span","code-segment-36",{"style":{},"children":["wip"]}]
ed5:["$","span","code-segment-37",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
ed6:["$","span","code-segment-38",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
ed7:["$","span","code-segment-39",{"style":{},"children":["\n"]}]
ed8:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
ed9:["$","span","code-segment-41",{"style":{},"children":["  "]}]
eda:["$","span","code-segment-42",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
edb:["$","span","code-segment-43",{"style":{},"children":["\n"]}]
edc:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
edd:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
ede:["$","span","code-segment-47",{"style":{},"children":["  "]}]
edf:["$","span","code-segment-48",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 2. 提交子节点"]}]
ee0:["$","span","code-segment-49",{"style":{},"children":["\n"]}]
ee1:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
ee2:["$","span","code-segment-51",{"style":{},"children":["  "]}]
ee3:["$","span","code-segment-52",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["commitWorker"]}]
ee4:["$","span","code-segment-53",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
ee5:["$","span","code-segment-54",{"style":{},"children":["wip"]}]
ee6:["$","span","code-segment-55",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
ee7:["$","span","code-segment-56",{"className":"token property-access","style":{},"children":["child"]}]
ee8:["$","span","code-segment-57",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
ee9:["$","span","code-segment-58",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
eea:["$","span","code-segment-59",{"style":{},"children":["\n"]}]
eeb:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
eec:["$","span","code-segment-61",{"style":{},"children":["  "]}]
eed:["$","span","code-segment-62",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 3. 提交兄弟"]}]
eee:["$","span","code-segment-63",{"style":{},"children":["\n"]}]
eef:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
ef0:["$","span","code-segment-65",{"style":{},"children":["  "]}]
ef1:["$","span","code-segment-66",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["commitWorker"]}]
ef2:["$","span","code-segment-67",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
ef3:["$","span","code-segment-68",{"style":{},"children":["wip"]}]
ef4:["$","span","code-segment-69",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
ef5:["$","span","code-segment-70",{"className":"token property-access","style":{},"children":["sibling"]}]
ef6:["$","span","code-segment-71",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
ef7:["$","span","code-segment-72",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
ef8:["$","span","code-segment-73",{"style":{},"children":["\n"]}]
ef9:["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[12]}]
efa:["$","span","code-segment-75",{"style":{},"children":[""]}]
efb:["$","span","code-segment-76",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
efc:["$","span","code-segment-23",{"style":{},"children":[""]}]
efd:["$","span","code-segment-24",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}]
efe:["$","span","code-segment-25",{"style":{},"children":[" "]}]
eff:["$","span","code-segment-26",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["invokeHooks"]}]
f00:["$","span","code-segment-27",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
f01:["$","span","code-segment-28",{"className":"token parameter","style":{},"children":["wip"]}]
f02:["$","span","code-segment-29",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
f03:["$","span","code-segment-30",{"style":{},"children":[" "]}]
f04:["$","span","code-segment-31",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
f05:["$","span","code-segment-32",{"style":{},"children":["\n"]}]
f06:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
f07:["$","span","code-segment-34",{"style":{},"children":["  "]}]
f08:["$","span","code-segment-35",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
f09:["$","span","code-segment-36",{"style":{},"children":[" "]}]
f0a:["$","span","code-segment-37",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
f0b:["$","span","code-segment-38",{"style":{},"children":[" updateQueueOfEffect"]}]
f0c:["$","span","code-segment-39",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
f0d:["$","span","code-segment-40",{"style":{},"children":[" updateQueueOfLayout "]}]
f0e:["$","span","code-segment-41",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
f0f:["$","span","code-segment-42",{"style":{},"children":[" "]}]
f10:["$","span","code-segment-43",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
f11:["$","span","code-segment-44",{"style":{},"children":[" wip"]}]
f12:["$","span","code-segment-45",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
f13:["$","span","code-segment-46",{"style":{},"children":["\n"]}]
f14:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
f15:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
f16:["$","span","code-segment-50",{"style":{},"children":["  "]}]
f17:["$","span","code-segment-51",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 同步，阻塞了 commitWorker"]}]
f18:["$","span","code-segment-52",{"style":{},"children":["\n"]}]
f19:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
f1a:["$","span","code-segment-54",{"style":{},"children":["  "]}]
f1b:["$","span","code-segment-55",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["for"]}]
f1c:["$","span","code-segment-56",{"style":{},"children":[" "]}]
f1d:["$","span","code-segment-57",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
f1e:["$","span","code-segment-58",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["let"]}]
f1f:["$","span","code-segment-59",{"style":{},"children":[" i "]}]
f20:["$","span","code-segment-60",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
f21:["$","span","code-segment-61",{"style":{},"children":[" "]}]
f22:["$","span","code-segment-62",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["0"]}]
f23:["$","span","code-segment-63",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
f24:["$","span","code-segment-64",{"style":{},"children":[" i "]}]
f25:["$","span","code-segment-65",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["<"]}]
f26:["$","span","code-segment-66",{"style":{},"children":[" updateQueueOfLayout"]}]
f27:["$","span","code-segment-67",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
f28:["$","span","code-segment-68",{"className":"token property-access","style":{},"children":["length"]}]
f29:["$","span","code-segment-69",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
f2a:["$","span","code-segment-70",{"style":{},"children":[" i"]}]
f2b:["$","span","code-segment-71",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["++"]}]
f2c:["$","span","code-segment-72",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
f2d:["$","span","code-segment-73",{"style":{},"children":[" "]}]
f2e:["$","span","code-segment-74",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
f2f:["$","span","code-segment-75",{"style":{},"children":["\n"]}]
f30:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
f31:["$","span","code-segment-77",{"style":{},"children":["    "]}]
f32:["$","span","code-segment-78",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
f33:["$","span","code-segment-79",{"style":{},"children":[" effect "]}]
f34:["$","span","code-segment-80",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
f35:["$","span","code-segment-81",{"style":{},"children":[" updateQueueOfLayout"]}]
f36:["$","span","code-segment-82",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["["]}]
f37:["$","span","code-segment-83",{"style":{},"children":["i"]}]
f38:["$","span","code-segment-84",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["]"]}]
f39:["$","span","code-segment-85",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
f3a:["$","span","code-segment-86",{"style":{},"children":["\n"]}]
f3b:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
f3c:["$","span","code-segment-88",{"style":{},"children":["    "]}]
f3d:["$","span","code-segment-89",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 未处理其返回值"]}]
f3e:["$","span","code-segment-90",{"style":{},"children":["\n"]}]
f3f:["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[12]}]
f40:["$","span","code-segment-92",{"style":{},"children":["    effect"]}]
f41:["$","span","code-segment-93",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
f42:["$","span","code-segment-94",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["create"]}]
f43:["$","span","code-segment-95",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
f44:["$","span","code-segment-96",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
f45:["$","span","code-segment-97",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
f46:["$","span","code-segment-98",{"style":{},"children":["\n"]}]
f47:["$","span","line-number--13",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[13]}]
f48:["$","span","code-segment-100",{"style":{},"children":["  "]}]
f49:["$","span","code-segment-101",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
f4a:["$","span","code-segment-102",{"style":{},"children":["\n"]}]
f4b:["$","span","line-number--14",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[14]}]
f4c:["$","span","line-number--15",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[15]}]
f4d:["$","span","code-segment-106",{"style":{},"children":["  "]}]
f4e:["$","span","code-segment-107",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 加入调度，一般会在渲染结束后执行"]}]
f4f:["$","span","code-segment-108",{"style":{},"children":["\n"]}]
f50:["$","span","line-number--16",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[16]}]
f51:["$","span","code-segment-110",{"style":{},"children":["  "]}]
f52:["$","span","code-segment-111",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["for"]}]
f53:["$","span","code-segment-112",{"style":{},"children":[" "]}]
f54:["$","span","code-segment-113",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
f55:["$","span","code-segment-114",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["let"]}]
f56:["$","span","code-segment-115",{"style":{},"children":[" i "]}]
f57:["$","span","code-segment-116",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
f58:["$","span","code-segment-117",{"style":{},"children":[" "]}]
f59:["$","span","code-segment-118",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["0"]}]
f5a:["$","span","code-segment-119",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
f5b:["$","span","code-segment-120",{"style":{},"children":[" i "]}]
f5c:["$","span","code-segment-121",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["<"]}]
f5d:["$","span","code-segment-122",{"style":{},"children":[" updateQueueOfEffect"]}]
f5e:["$","span","code-segment-123",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
f5f:["$","span","code-segment-124",{"className":"token property-access","style":{},"children":["length"]}]
f60:["$","span","code-segment-125",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
f61:["$","span","code-segment-126",{"style":{},"children":[" i"]}]
f62:["$","span","code-segment-127",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["++"]}]
f63:["$","span","code-segment-128",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
f64:["$","span","code-segment-129",{"style":{},"children":[" "]}]
f65:["$","span","code-segment-130",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
f66:["$","span","code-segment-131",{"style":{},"children":["\n"]}]
f67:["$","span","line-number--17",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[17]}]
f68:["$","span","code-segment-133",{"style":{},"children":["    "]}]
f69:["$","span","code-segment-134",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
f6a:["$","span","code-segment-135",{"style":{},"children":[" effect "]}]
f6b:["$","span","code-segment-136",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
f6c:["$","span","code-segment-137",{"style":{},"children":[" updateQueueOfEffect"]}]
f6d:["$","span","code-segment-138",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["["]}]
f6e:["$","span","code-segment-139",{"style":{},"children":["i"]}]
f6f:["$","span","code-segment-140",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["]"]}]
f70:["$","span","code-segment-141",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
f71:["$","span","code-segment-142",{"style":{},"children":["\n"]}]
f72:["$","span","line-number--18",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[18]}]
f73:["$","span","line-number--19",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[19]}]
f74:["$","span","code-segment-146",{"style":{},"children":["    "]}]
f75:["$","span","code-segment-147",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["scheduleCallback"]}]
f76:["$","span","code-segment-148",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
f77:["$","span","code-segment-149",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
f78:["$","span","code-segment-150",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
f79:["$","span","code-segment-151",{"style":{},"children":[" "]}]
f7a:["$","span","code-segment-152",{"className":"token arrow","style":{"color":"hsl(221, 87%, 60%)"},"children":["=>"]}]
f7b:["$","span","code-segment-153",{"style":{},"children":[" "]}]
f7c:["$","span","code-segment-154",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
f7d:["$","span","code-segment-155",{"style":{},"children":["\n"]}]
f7e:["$","span","line-number--20",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[20]}]
f7f:["$","span","code-segment-157",{"style":{},"children":["      effect"]}]
f80:["$","span","code-segment-158",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
f81:["$","span","code-segment-159",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["create"]}]
f82:["$","span","code-segment-160",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
f83:["$","span","code-segment-161",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
f84:["$","span","code-segment-162",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
f85:["$","span","code-segment-163",{"style":{},"children":["\n"]}]
f86:["$","span","line-number--21",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[21]}]
f87:["$","span","code-segment-165",{"style":{},"children":["    "]}]
f88:["$","span","code-segment-166",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
f89:["$","span","code-segment-167",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
f8a:["$","span","code-segment-168",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
f8b:["$","span","code-segment-169",{"style":{},"children":["\n"]}]
f8c:["$","span","line-number--22",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[22]}]
f8d:["$","span","code-segment-171",{"style":{},"children":["  "]}]
f8e:["$","span","code-segment-172",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
f8f:["$","span","code-segment-173",{"style":{},"children":["\n"]}]
f90:["$","span","line-number--23",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[23]}]
f91:["$","span","code-segment-175",{"style":{},"children":[""]}]
f92:["$","span","code-segment-176",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
f93:["$","td","td-1",{"className":"px-4 py-3 text-sm font-semibold border-r border-black last:border-r-0","children":"10"}]
f94:["$","tr","tr-10",{"className":"border-b border-black last:border-b-0","children":[["$","td","td-0",{"className":"px-4 py-3 text-sm font-semibold border-r border-black last:border-r-0","children":"useId"}],["$","td","td-1",{"className":"px-4 py-3 text-sm font-semibold border-r border-black last:border-r-0","children":"11"}]]}]
f95:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
f96:["$","span","code-segment-25",{"style":{},"children":["  "]}]
f97:["$","span","code-segment-26",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
f98:["$","span","code-segment-27",{"style":{},"children":[" hooks "]}]
f99:["$","span","code-segment-28",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
f9a:["$","span","code-segment-29",{"style":{},"children":["\n"]}]
f9b:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
f9c:["$","span","code-segment-31",{"style":{},"children":["\t\tcurrentComponent"]}]
f9d:["$","span","code-segment-32",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
f9e:["$","span","code-segment-33",{"className":"token property-access","style":{},"children":["__hooks"]}]
f9f:["$","span","code-segment-34",{"style":{},"children":[" "]}]
fa0:["$","span","code-segment-35",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["||"]}]
fa1:["$","span","code-segment-36",{"style":{},"children":["\n"]}]
fa2:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
fa3:["$","span","code-segment-38",{"style":{},"children":["\t\t"]}]
fa4:["$","span","code-segment-39",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
fa5:["$","span","code-segment-40",{"style":{},"children":["currentComponent"]}]
fa6:["$","span","code-segment-41",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
fa7:["$","span","code-segment-42",{"className":"token property-access","style":{},"children":["__hooks"]}]
fa8:["$","span","code-segment-43",{"style":{},"children":[" "]}]
fa9:["$","span","code-segment-44",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
faa:["$","span","code-segment-45",{"style":{},"children":[" "]}]
fab:["$","span","code-segment-46",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
fac:["$","span","code-segment-47",{"style":{},"children":["\n"]}]
fad:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
fae:["$","span","code-segment-49",{"style":{},"children":["\t\t\t"]}]
faf:["$","span","code-segment-50",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["_list"]}]
fb0:["$","span","code-segment-51",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
fb1:["$","span","code-segment-52",{"style":{},"children":[" "]}]
fb2:["$","span","code-segment-53",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["["]}]
fb3:["$","span","code-segment-54",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["]"]}]
fb4:["$","span","code-segment-55",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
fb5:["$","span","code-segment-56",{"style":{},"children":["\n"]}]
fb6:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
fb7:["$","span","code-segment-58",{"style":{},"children":["\t\t\t"]}]
fb8:["$","span","code-segment-59",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["_pendingEffects"]}]
fb9:["$","span","code-segment-60",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
fba:["$","span","code-segment-61",{"style":{},"children":[" "]}]
fbb:["$","span","code-segment-62",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["["]}]
fbc:["$","span","code-segment-63",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["]"]}]
fbd:["$","span","code-segment-64",{"style":{},"children":["\n"]}]
fbe:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
fbf:["$","span","code-segment-66",{"style":{},"children":["\t\t"]}]
fc0:["$","span","code-segment-67",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
fc1:["$","span","code-segment-68",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
fc2:["$","span","code-segment-69",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
fc3:["$","span","code-segment-70",{"style":{},"children":["\n"]}]
fc4:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
fc5:["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[12]}]
fc6:["$","span","code-segment-74",{"style":{},"children":["\t"]}]
fc7:["$","span","code-segment-75",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
fc8:["$","span","code-segment-76",{"style":{},"children":[" "]}]
fc9:["$","span","code-segment-77",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
fca:["$","span","code-segment-78",{"style":{},"children":["index "]}]
fcb:["$","span","code-segment-79",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[">="]}]
fcc:["$","span","code-segment-80",{"style":{},"children":[" hooks"]}]
fcd:["$","span","code-segment-81",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
fce:["$","span","code-segment-82",{"className":"token property-access","style":{},"children":["_list"]}]
fcf:["$","span","code-segment-83",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
fd0:["$","span","code-segment-84",{"className":"token property-access","style":{},"children":["length"]}]
fd1:["$","span","code-segment-85",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
fd2:["$","span","code-segment-86",{"style":{},"children":[" "]}]
fd3:["$","span","code-segment-87",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
fd4:["$","span","code-segment-88",{"style":{},"children":["\n"]}]
fd5:["$","span","line-number--13",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[13]}]
fd6:["$","span","code-segment-90",{"style":{},"children":["\t\thooks"]}]
fd7:["$","span","code-segment-91",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
fd8:["$","span","code-segment-92",{"className":"token property-access","style":{},"children":["_list"]}]
fd9:["$","span","code-segment-93",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
fda:["$","span","code-segment-94",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["push"]}]
fdb:["$","span","code-segment-95",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
fdc:["$","span","code-segment-96",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
fdd:["$","span","code-segment-97",{"style":{},"children":[" "]}]
fde:["$","span","code-segment-98",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["_pendingValue"]}]
fdf:["$","span","code-segment-99",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
fe0:["$","span","code-segment-100",{"style":{},"children":[" "]}]
fe1:["$","span","code-segment-101",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["EMPTY"]}]
fe2:["$","span","code-segment-102",{"style":{},"children":[" "]}]
fe3:["$","span","code-segment-103",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
fe4:["$","span","code-segment-104",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
fe5:["$","span","code-segment-105",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
fe6:["$","span","code-segment-106",{"style":{},"children":["\n"]}]
fe7:["$","span","line-number--14",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[14]}]
fe8:["$","span","code-segment-108",{"style":{},"children":["\t"]}]
fe9:["$","span","code-segment-109",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
fea:["$","span","code-segment-110",{"style":{},"children":["\n"]}]
feb:["$","span","line-number--15",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[15]}]
fec:["$","span","code-segment-112",{"style":{},"children":["\t"]}]
fed:["$","span","code-segment-113",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
fee:["$","span","code-segment-114",{"style":{},"children":[" hooks"]}]
fef:["$","span","code-segment-115",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
ff0:["$","span","code-segment-116",{"className":"token property-access","style":{},"children":["_list"]}]
ff1:["$","span","code-segment-117",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["["]}]
ff2:["$","span","code-segment-118",{"style":{},"children":["index"]}]
ff3:["$","span","code-segment-119",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["]"]}]
ff4:["$","span","code-segment-120",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
ff5:["$","span","code-segment-121",{"style":{},"children":["\n"]}]
ff6:["$","span","line-number--16",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[16]}]
ff7:["$","span","code-segment-123",{"style":{},"children":[""]}]
ff8:["$","span","code-segment-124",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
ff9:["$","span","code-segment-29",{"style":{},"children":[" "]}]
ffa:["$","span","code-segment-30",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["any"]}]
ffb:["$","span","code-segment-31",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["["]}]
ffc:["$","span","code-segment-32",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["]"]}]
ffd:["$","span","code-segment-33",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
ffe:["$","span","code-segment-34",{"style":{},"children":["\n"]}]
fff:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
1000:["$","span","code-segment-36",{"style":{},"children":["  _pendingArgs"]}]
1001:["$","span","code-segment-37",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["?"]}]
1002:["$","span","code-segment-38",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
1003:["$","span","code-segment-39",{"style":{},"children":[" "]}]
1004:["$","span","code-segment-40",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["any"]}]
1005:["$","span","code-segment-41",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["["]}]
1006:["$","span","code-segment-42",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["]"]}]
1007:["$","span","code-segment-43",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1008:["$","span","code-segment-44",{"style":{},"children":["\n"]}]
1009:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
100a:["$","span","code-segment-46",{"style":{},"children":["  _factory"]}]
100b:["$","span","code-segment-47",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["?"]}]
100c:["$","span","code-segment-48",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
100d:["$","span","code-segment-49",{"style":{},"children":[" "]}]
100e:["$","span","code-segment-50",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
100f:["$","span","code-segment-51",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1010:["$","span","code-segment-52",{"style":{},"children":[" "]}]
1011:["$","span","code-segment-53",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["=>"]}]
1012:["$","span","code-segment-54",{"style":{},"children":[" "]}]
1013:["$","span","code-segment-55",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["any"]}]
1014:["$","span","code-segment-56",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1015:["$","span","code-segment-57",{"style":{},"children":["\n"]}]
1016:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
1017:["$","span","code-segment-59",{"style":{},"children":[""]}]
1018:["$","span","code-segment-60",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
1019:["$","span","code-segment-29",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
101a:["$","span","code-segment-30",{"style":{},"children":[" "]}]
101b:["$","span","code-segment-31",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["any"]}]
101c:["$","span","code-segment-32",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["["]}]
101d:["$","span","code-segment-33",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["]"]}]
101e:["$","span","code-segment-34",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
101f:["$","span","code-segment-35",{"style":{},"children":["\n"]}]
1020:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
1021:["$","span","code-segment-37",{"style":{},"children":["  _cleanup"]}]
1022:["$","span","code-segment-38",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["?"]}]
1023:["$","span","code-segment-39",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
1024:["$","span","code-segment-40",{"style":{},"children":[" Cleanup "]}]
1025:["$","span","code-segment-41",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["|"]}]
1026:["$","span","code-segment-42",{"style":{},"children":[" "]}]
1027:["$","span","code-segment-43",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["void"]}]
1028:["$","span","code-segment-44",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1029:["$","span","code-segment-45",{"style":{},"children":["\n"]}]
102a:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
102b:["$","span","code-segment-47",{"style":{},"children":[""]}]
102c:["$","span","code-segment-48",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
102d:["$","span","code-segment-20",{"className":"token parameter","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
102e:["$","span","code-segment-21",{"className":"token parameter","style":{},"children":[" args"]}]
102f:["$","span","code-segment-22",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1030:["$","span","code-segment-23",{"style":{},"children":[" "]}]
1031:["$","span","code-segment-24",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1032:["$","span","code-segment-25",{"style":{},"children":["\n"]}]
1033:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
1034:["$","span","code-segment-27",{"style":{},"children":["  "]}]
1035:["$","span","code-segment-28",{"className":"token doc-comment","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["/** "]}]
1036:["$","span","code-segment-29",{"className":"token doc-comment","style":{"color":"hsl(301, 63%, 40%)","fontStyle":"italic"},"children":["@type"]}]
1037:["$","span","code-segment-30",{"className":"token doc-comment","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[" "]}]
1038:["$","span","code-segment-31",{"className":"token doc-comment","style":{"color":"hsl(230, 8%, 24%)","fontStyle":"italic"},"children":["{"]}]
1039:["$","span","code-segment-32",{"className":"token doc-comment","style":{"color":"hsl(301, 63%, 40%)","fontStyle":"italic"},"children":["import"]}]
103a:["$","span","code-segment-33",{"className":"token doc-comment","style":{"color":"hsl(230, 8%, 24%)","fontStyle":"italic"},"children":["("]}]
103b:["$","span","code-segment-34",{"className":"token doc-comment","style":{"color":"hsl(119, 34%, 47%)","fontStyle":"italic"},"children":["'./internal'"]}]
103c:["$","span","code-segment-35",{"className":"token doc-comment","style":{"color":"hsl(230, 8%, 24%)","fontStyle":"italic"},"children":[")"]}]
103d:["$","span","code-segment-36",{"className":"token doc-comment","style":{"color":"hsl(230, 8%, 24%)","fontStyle":"italic"},"children":["."]}]
103e:["$","span","code-segment-37",{"className":"token doc-comment","style":{"color":"hsl(35, 99%, 36%)","fontStyle":"italic"},"children":["MemoHookState"]}]
103f:["$","span","code-segment-38",{"className":"token doc-comment","style":{"color":"hsl(230, 8%, 24%)","fontStyle":"italic"},"children":["}"]}]
1040:["$","span","code-segment-39",{"className":"token doc-comment","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[" */"]}]
1041:["$","span","code-segment-40",{"style":{},"children":["\n"]}]
1042:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
1043:["$","span","code-segment-42",{"style":{},"children":["  "]}]
1044:["$","span","code-segment-43",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
1045:["$","span","code-segment-44",{"style":{},"children":[" state "]}]
1046:["$","span","code-segment-45",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
1047:["$","span","code-segment-46",{"style":{},"children":[" "]}]
1048:["$","span","code-segment-47",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["getHookState"]}]
1049:["$","span","code-segment-48",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
104a:["$","span","code-segment-49",{"style":{},"children":["currentIndex"]}]
104b:["$","span","code-segment-50",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["++"]}]
104c:["$","span","code-segment-51",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
104d:["$","span","code-segment-52",{"style":{},"children":[" "]}]
104e:["$","span","code-segment-53",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["7"]}]
104f:["$","span","code-segment-54",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1050:["$","span","code-segment-55",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1051:["$","span","code-segment-56",{"style":{},"children":["\n"]}]
1052:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
1053:["$","span","code-segment-58",{"style":{},"children":["  "]}]
1054:["$","span","code-segment-59",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
1055:["$","span","code-segment-60",{"style":{},"children":[" "]}]
1056:["$","span","code-segment-61",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1057:["$","span","code-segment-62",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["argsChanged"]}]
1058:["$","span","code-segment-63",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1059:["$","span","code-segment-64",{"style":{},"children":["state"]}]
105a:["$","span","code-segment-65",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
105b:["$","span","code-segment-66",{"className":"token property-access","style":{},"children":["_args"]}]
105c:["$","span","code-segment-67",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
105d:["$","span","code-segment-68",{"style":{},"children":[" args"]}]
105e:["$","span","code-segment-69",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
105f:["$","span","code-segment-70",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1060:["$","span","code-segment-71",{"style":{},"children":[" "]}]
1061:["$","span","code-segment-72",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1062:["$","span","code-segment-73",{"style":{},"children":["\n"]}]
1063:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
1064:["$","span","code-segment-75",{"style":{},"children":["    state"]}]
1065:["$","span","code-segment-76",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
1066:["$","span","code-segment-77",{"className":"token property-access","style":{},"children":["_pendingValue"]}]
1067:["$","span","code-segment-78",{"style":{},"children":[" "]}]
1068:["$","span","code-segment-79",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
1069:["$","span","code-segment-80",{"style":{},"children":[" "]}]
106a:["$","span","code-segment-81",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["factory"]}]
106b:["$","span","code-segment-82",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
106c:["$","span","code-segment-83",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
106d:["$","span","code-segment-84",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
106e:["$","span","code-segment-85",{"style":{},"children":["\n"]}]
106f:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
1070:["$","span","code-segment-87",{"style":{},"children":["    state"]}]
1071:["$","span","code-segment-88",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
1072:["$","span","code-segment-89",{"className":"token property-access","style":{},"children":["_pendingArgs"]}]
1073:["$","span","code-segment-90",{"style":{},"children":[" "]}]
1074:["$","span","code-segment-91",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
1075:["$","span","code-segment-92",{"style":{},"children":[" args"]}]
1076:["$","span","code-segment-93",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1077:["$","span","code-segment-94",{"style":{},"children":["\n"]}]
1078:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
1079:["$","span","code-segment-96",{"style":{},"children":["    state"]}]
107a:["$","span","code-segment-97",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
107b:["$","span","code-segment-98",{"className":"token property-access","style":{},"children":["_factory"]}]
107c:["$","span","code-segment-99",{"style":{},"children":[" "]}]
107d:["$","span","code-segment-100",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
107e:["$","span","code-segment-101",{"style":{},"children":[" factory"]}]
107f:["$","span","code-segment-102",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1080:["$","span","code-segment-103",{"style":{},"children":["\n"]}]
1081:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
1082:["$","span","code-segment-105",{"style":{},"children":["    "]}]
1083:["$","span","code-segment-106",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
1084:["$","span","code-segment-107",{"style":{},"children":[" state"]}]
1085:["$","span","code-segment-108",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
1086:["$","span","code-segment-109",{"className":"token property-access","style":{},"children":["_pendingValue"]}]
1087:["$","span","code-segment-110",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1088:["$","span","code-segment-111",{"style":{},"children":["\n"]}]
1089:["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[12]}]
108a:["$","span","code-segment-113",{"style":{},"children":["  "]}]
108b:["$","span","code-segment-114",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
108c:["$","span","code-segment-115",{"style":{},"children":["\n"]}]
108d:["$","span","line-number--13",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[13]}]
108e:["$","span","line-number--14",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[14]}]
108f:["$","span","code-segment-119",{"style":{},"children":["  "]}]
1090:["$","span","code-segment-120",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
1091:["$","span","code-segment-121",{"style":{},"children":[" state"]}]
1092:["$","span","code-segment-122",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
1093:["$","span","code-segment-123",{"className":"token property-access","style":{},"children":["_value"]}]
1094:["$","span","code-segment-124",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1095:["$","span","code-segment-125",{"style":{},"children":["\n"]}]
1096:["$","span","line-number--15",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[15]}]
1097:["$","span","code-segment-127",{"style":{},"children":[""]}]
1098:["$","span","code-segment-128",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
1099:["$","span","code-segment-129",{"style":{},"children":["\n"]}]
109a:["$","span","line-number--16",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[16]}]
109b:["$","span","line-number--17",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[17]}]
109c:["$","span","code-segment-133",{"style":{},"children":[""]}]
109d:["$","span","code-segment-134",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 检测依赖更新"]}]
109e:["$","span","code-segment-135",{"style":{},"children":["\n"]}]
109f:["$","span","line-number--18",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[18]}]
10a0:["$","span","code-segment-137",{"style":{},"children":[""]}]
10a1:["$","span","code-segment-138",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 返回true的情况：没有old deps、依赖长度变化、新依赖中有不和原依赖一样的对象"]}]
10a2:["$","span","code-segment-139",{"style":{},"children":["\n"]}]
10a3:["$","span","line-number--19",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[19]}]
10a4:["$","span","code-segment-141",{"style":{},"children":[""]}]
10a5:["$","span","code-segment-142",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}]
10a6:["$","span","code-segment-143",{"style":{},"children":[" "]}]
10a7:["$","span","code-segment-144",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["argsChanged"]}]
10a8:["$","span","code-segment-145",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
10a9:["$","span","code-segment-146",{"className":"token parameter","style":{},"children":["oldArgs"]}]
10aa:["$","span","code-segment-147",{"className":"token parameter","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
10ab:["$","span","code-segment-148",{"className":"token parameter","style":{},"children":[" newArgs"]}]
10ac:["$","span","code-segment-149",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
10ad:["$","span","code-segment-150",{"style":{},"children":[" "]}]
10ae:["$","span","code-segment-151",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
10af:["$","span","code-segment-152",{"style":{},"children":["\n"]}]
10b0:["$","span","line-number--20",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[20]}]
10b1:["$","span","code-segment-154",{"style":{},"children":["  "]}]
10b2:["$","span","code-segment-155",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
10b3:["$","span","code-segment-156",{"style":{},"children":[" "]}]
10b4:["$","span","code-segment-157",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
10b5:["$","span","code-segment-158",{"style":{},"children":["\n"]}]
10b6:["$","span","line-number--21",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[21]}]
10b7:["$","span","code-segment-160",{"style":{},"children":["    "]}]
10b8:["$","span","code-segment-161",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["!"]}]
10b9:["$","span","code-segment-162",{"style":{},"children":["oldArgs "]}]
10ba:["$","span","code-segment-163",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["||"]}]
10bb:["$","span","code-segment-164",{"style":{},"children":["\n"]}]
10bc:["$","span","line-number--22",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[22]}]
10bd:["$","span","code-segment-166",{"style":{},"children":["    oldArgs"]}]
10be:["$","span","code-segment-167",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
10bf:["$","span","code-segment-168",{"className":"token property-access","style":{},"children":["length"]}]
10c0:["$","span","code-segment-169",{"style":{},"children":[" "]}]
10c1:["$","span","code-segment-170",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["!=="]}]
10c2:["$","span","code-segment-171",{"style":{},"children":[" newArgs"]}]
10c3:["$","span","code-segment-172",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
10c4:["$","span","code-segment-173",{"className":"token property-access","style":{},"children":["length"]}]
10c5:["$","span","code-segment-174",{"style":{},"children":[" "]}]
10c6:["$","span","code-segment-175",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["||"]}]
10c7:["$","span","code-segment-176",{"style":{},"children":["\n"]}]
10c8:["$","span","line-number--23",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[23]}]
10c9:["$","span","code-segment-178",{"style":{},"children":["    newArgs"]}]
10ca:["$","span","code-segment-179",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
10cb:["$","span","code-segment-180",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["some"]}]
10cc:["$","span","code-segment-181",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
10cd:["$","span","code-segment-182",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
10ce:["$","span","code-segment-183",{"className":"token parameter","style":{},"children":["arg"]}]
10cf:["$","span","code-segment-184",{"className":"token parameter","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
10d0:["$","span","code-segment-185",{"className":"token parameter","style":{},"children":[" index"]}]
10d1:["$","span","code-segment-186",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
10d2:["$","span","code-segment-187",{"style":{},"children":[" "]}]
10d3:["$","span","code-segment-188",{"className":"token arrow","style":{"color":"hsl(221, 87%, 60%)"},"children":["=>"]}]
10d4:["$","span","code-segment-189",{"style":{},"children":[" arg "]}]
10d5:["$","span","code-segment-190",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["!=="]}]
10d6:["$","span","code-segment-191",{"style":{},"children":[" oldArgs"]}]
10d7:["$","span","code-segment-192",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["["]}]
10d8:["$","span","code-segment-193",{"style":{},"children":["index"]}]
10d9:["$","span","code-segment-194",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["]"]}]
10da:["$","span","code-segment-195",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
10db:["$","span","code-segment-196",{"style":{},"children":["\n"]}]
10dc:["$","span","line-number--24",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[24]}]
10dd:["$","span","code-segment-198",{"style":{},"children":["  "]}]
10de:["$","span","code-segment-199",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
10df:["$","span","code-segment-200",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
10e0:["$","span","code-segment-201",{"style":{},"children":["\n"]}]
10e1:["$","span","line-number--25",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[25]}]
10e2:["$","span","code-segment-203",{"style":{},"children":[""]}]
10e3:["$","span","code-segment-204",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
10e4:["$","span","code-segment-28",{"style":{},"children":[" "]}]
10e5:["$","span","code-segment-29",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["useMemo"]}]
10e6:["$","span","code-segment-30",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
10e7:["$","span","code-segment-31",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
10e8:["$","span","code-segment-32",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
10e9:["$","span","code-segment-33",{"style":{},"children":[" "]}]
10ea:["$","span","code-segment-34",{"className":"token arrow","style":{"color":"hsl(221, 87%, 60%)"},"children":["=>"]}]
10eb:["$","span","code-segment-35",{"style":{},"children":[" callback"]}]
10ec:["$","span","code-segment-36",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
10ed:["$","span","code-segment-37",{"style":{},"children":[" args"]}]
10ee:["$","span","code-segment-38",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
10ef:["$","span","code-segment-39",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
10f0:["$","span","code-segment-40",{"style":{},"children":["\n"]}]
10f1:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
10f2:["$","span","code-segment-42",{"style":{},"children":[""]}]
10f3:["$","span","code-segment-43",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
10f4:["$","span","code-segment-26",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
10f5:["$","span","code-segment-27",{"style":{},"children":["\n"]}]
10f6:["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}]
10f7:["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}]
10f8:["$","span","code-segment-31",{"style":{},"children":[""]}]
10f9:["$","span","code-segment-32",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}]
10fa:["$","span","code-segment-33",{"style":{},"children":[" "]}]
10fb:["$","span","code-segment-34",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["default"]}]
10fc:["$","span","code-segment-35",{"style":{},"children":[" "]}]
10fd:["$","span","code-segment-36",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
10fe:["$","span","code-segment-37",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
10ff:["$","span","code-segment-38",{"style":{},"children":[" "]}]
1100:["$","span","code-segment-39",{"className":"token arrow","style":{"color":"hsl(221, 87%, 60%)"},"children":["=>"]}]
1101:["$","span","code-segment-40",{"style":{},"children":[" "]}]
1102:["$","span","code-segment-41",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1103:["$","span","code-segment-42",{"style":{},"children":["\n"]}]
1104:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
1105:["$","span","code-segment-44",{"style":{},"children":["  "]}]
1106:["$","span","code-segment-45",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
1107:["$","span","code-segment-46",{"style":{},"children":[" "]}]
1108:["$","span","code-segment-47",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["["]}]
1109:["$","span","code-segment-48",{"style":{},"children":["value"]}]
110a:["$","span","code-segment-49",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
110b:["$","span","code-segment-50",{"style":{},"children":[" setValue"]}]
110c:["$","span","code-segment-51",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["]"]}]
110d:["$","span","code-segment-52",{"style":{},"children":[" "]}]
110e:["$","span","code-segment-53",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
110f:["$","span","code-segment-54",{"style":{},"children":[" useState"]}]
1110:["$","span","code-segment-55",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["<"]}]
1111:["$","span","code-segment-56",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["string"]}]
1112:["$","span","code-segment-57",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[">"]}]
1113:["$","span","code-segment-58",{"className":"token plain-text","style":{},"children":["();\n"]}]
1114:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
1115:["$","span","code-segment-60",{"className":"token plain-text","style":{},"children":["  const debouncedValue = useDebounce(value, "]}]
1116:["$","span","code-segment-61",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1117:["$","span","code-segment-62",{"style":{},"children":[" "]}]
1118:["$","span","code-segment-63",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["wait"]}]
1119:["$","span","code-segment-64",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
111a:["$","span","code-segment-65",{"style":{},"children":[" "]}]
111b:["$","span","code-segment-66",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["500"]}]
111c:["$","span","code-segment-67",{"style":{},"children":[" "]}]
111d:["$","span","code-segment-68",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
111e:["$","span","code-segment-69",{"className":"token plain-text","style":{},"children":[");\n"]}]
111f:["$","span","code-segment-70",{"className":"token plain-text","style":{},"children":[["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}],"\n"]}]
1120:["$","span","code-segment-71",{"className":"token plain-text","style":{},"children":[["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}],"  return (\n"]}]
1121:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
1122:["$","span","code-segment-73",{"className":"token plain-text","style":{},"children":["    "]}]
1123:["$","span","code-segment-74",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["<"]}]
1124:["$","span","code-segment-75",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["div"]}]
1125:["$","span","code-segment-76",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[">"]}]
1126:["$","span","code-segment-77",{"className":"token plain-text","style":{},"children":["\n"]}]
1127:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
1128:["$","span","code-segment-79",{"className":"token plain-text","style":{},"children":["      "]}]
1129:["$","span","code-segment-80",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["<"]}]
112a:["$","span","code-segment-81",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["input"]}]
112b:["$","span","code-segment-82",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["\n"]}]
112c:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
112d:["$","span","code-segment-84",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["        "]}]
112e:["$","span","code-segment-85",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["value"]}]
112f:["$","span","code-segment-86",{"className":"token script language-javascript script-punctuation","style":{"color":"hsl(5, 74%, 59%)"},"children":["="]}]
1130:["$","span","code-segment-87",{"className":"token script language-javascript","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1131:["$","span","code-segment-88",{"className":"token script language-javascript","style":{"color":"hsl(5, 74%, 59%)"},"children":["value"]}]
1132:["$","span","code-segment-89",{"className":"token script language-javascript","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
1133:["$","span","code-segment-90",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["\n"]}]
1134:["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[12]}]
1135:["$","span","code-segment-92",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["        "]}]
1136:["$","span","code-segment-93",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["onChange"]}]
1137:["$","span","code-segment-94",{"className":"token script language-javascript script-punctuation","style":{"color":"hsl(5, 74%, 59%)"},"children":["="]}]
1138:["$","span","code-segment-95",{"className":"token script language-javascript","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1139:["$","span","code-segment-96",{"className":"token script language-javascript","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
113a:["$","span","code-segment-97",{"className":"token script language-javascript parameter","style":{"color":"hsl(5, 74%, 59%)"},"children":["e"]}]
113b:["$","span","code-segment-98",{"className":"token script language-javascript","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
113c:["$","span","code-segment-99",{"className":"token script language-javascript","style":{"color":"hsl(5, 74%, 59%)"},"children":[" "]}]
113d:["$","span","code-segment-100",{"className":"token script language-javascript arrow","style":{"color":"hsl(5, 74%, 59%)"},"children":["=>"]}]
113e:["$","span","code-segment-101",{"className":"token script language-javascript","style":{"color":"hsl(5, 74%, 59%)"},"children":[" "]}]
113f:["$","span","code-segment-102",{"className":"token script language-javascript","style":{"color":"hsl(221, 87%, 60%)"},"children":["setValue"]}]
1140:["$","span","code-segment-103",{"className":"token script language-javascript","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1141:["$","span","code-segment-104",{"className":"token script language-javascript","style":{"color":"hsl(5, 74%, 59%)"},"children":["e"]}]
1142:["$","span","code-segment-105",{"className":"token script language-javascript","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
1143:["$","span","code-segment-106",{"className":"token script language-javascript property-access","style":{"color":"hsl(5, 74%, 59%)"},"children":["target"]}]
1144:["$","span","code-segment-107",{"className":"token script language-javascript","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
1145:["$","span","code-segment-108",{"className":"token script language-javascript property-access","style":{"color":"hsl(5, 74%, 59%)"},"children":["value"]}]
1146:["$","span","code-segment-109",{"className":"token script language-javascript","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1147:["$","span","code-segment-110",{"className":"token script language-javascript","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
1148:["$","span","code-segment-111",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["\n"]}]
1149:["$","span","line-number--13",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[13]}]
114a:["$","span","code-segment-113",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["        "]}]
114b:["$","span","code-segment-114",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["placeholder"]}]
114c:["$","span","code-segment-115",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["="]}]
114d:["$","span","code-segment-116",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
114e:["$","span","code-segment-117",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["Typed value"]}]
114f:["$","span","code-segment-118",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
1150:["$","span","code-segment-119",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["\n"]}]
1151:["$","span","line-number--14",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[14]}]
1152:["$","span","code-segment-121",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["        "]}]
1153:["$","span","code-segment-122",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["style"]}]
1154:["$","span","code-segment-123",{"className":"token script language-javascript script-punctuation","style":{"color":"hsl(5, 74%, 59%)"},"children":["="]}]
1155:["$","span","code-segment-124",{"className":"token script language-javascript","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1156:["$","span","code-segment-125",{"className":"token script language-javascript","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1157:["$","span","code-segment-126",{"className":"token script language-javascript","style":{"color":"hsl(5, 74%, 59%)"},"children":[" "]}]
1158:["$","span","code-segment-127",{"className":"token script language-javascript literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["width"]}]
1159:["$","span","code-segment-128",{"className":"token script language-javascript","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
115a:["$","span","code-segment-129",{"className":"token script language-javascript","style":{"color":"hsl(5, 74%, 59%)"},"children":[" "]}]
115b:["$","span","code-segment-130",{"className":"token script language-javascript","style":{"color":"hsl(35, 99%, 36%)"},"children":["280"]}]
115c:["$","span","code-segment-131",{"className":"token script language-javascript","style":{"color":"hsl(5, 74%, 59%)"},"children":[" "]}]
115d:["$","span","code-segment-132",{"className":"token script language-javascript","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
115e:["$","span","code-segment-133",{"className":"token script language-javascript","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
115f:["$","span","code-segment-134",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["\n"]}]
1160:["$","span","line-number--15",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[15]}]
1161:["$","span","code-segment-136",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["      "]}]
1162:["$","span","code-segment-137",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["/>"]}]
1163:["$","span","code-segment-138",{"className":"token plain-text","style":{},"children":["\n"]}]
1164:["$","span","line-number--16",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[16]}]
1165:["$","span","code-segment-140",{"className":"token plain-text","style":{},"children":["      "]}]
1166:["$","span","code-segment-141",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["<"]}]
1167:["$","span","code-segment-142",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["p"]}]
1168:["$","span","code-segment-143",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":[" "]}]
1169:["$","span","code-segment-144",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["style"]}]
116a:["$","span","code-segment-145",{"className":"token script language-javascript script-punctuation","style":{"color":"hsl(5, 74%, 59%)"},"children":["="]}]
116b:["$","span","code-segment-146",{"className":"token script language-javascript","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
116c:["$","span","code-segment-147",{"className":"token script language-javascript","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
116d:["$","span","code-segment-148",{"className":"token script language-javascript","style":{"color":"hsl(5, 74%, 59%)"},"children":[" "]}]
116e:["$","span","code-segment-149",{"className":"token script language-javascript literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["marginTop"]}]
116f:["$","span","code-segment-150",{"className":"token script language-javascript","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
1170:["$","span","code-segment-151",{"className":"token script language-javascript","style":{"color":"hsl(5, 74%, 59%)"},"children":[" "]}]
1171:["$","span","code-segment-152",{"className":"token script language-javascript","style":{"color":"hsl(35, 99%, 36%)"},"children":["16"]}]
1172:["$","span","code-segment-153",{"className":"token script language-javascript","style":{"color":"hsl(5, 74%, 59%)"},"children":[" "]}]
1173:["$","span","code-segment-154",{"className":"token script language-javascript","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
1174:["$","span","code-segment-155",{"className":"token script language-javascript","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
1175:["$","span","code-segment-156",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[">"]}]
1176:["$","span","code-segment-157",{"className":"token plain-text","style":{},"children":["DebouncedValue: "]}]
1177:["$","span","code-segment-158",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1178:["$","span","code-segment-159",{"style":{},"children":["debouncedValue"]}]
1179:["$","span","code-segment-160",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
117a:["$","span","code-segment-161",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["</"]}]
117b:["$","span","code-segment-162",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["p"]}]
117c:["$","span","code-segment-163",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[">"]}]
117d:["$","span","code-segment-164",{"className":"token plain-text","style":{},"children":["\n"]}]
117e:["$","span","line-number--17",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[17]}]
117f:["$","span","code-segment-166",{"className":"token plain-text","style":{},"children":["    "]}]
1180:["$","span","code-segment-167",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["</"]}]
1181:["$","span","code-segment-168",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["div"]}]
1182:["$","span","code-segment-169",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[">"]}]
1183:["$","span","code-segment-170",{"className":"token plain-text","style":{},"children":["\n"]}]
1184:["$","span","code-segment-171",{"className":"token plain-text","style":{},"children":[["$","span","line-number--18",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[18]}],"  );\n"]}]
1185:["$","span","code-segment-172",{"className":"token plain-text","style":{},"children":[["$","span","line-number--19",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[19]}],"};"]}]
1186:["$","span","code-segment-20",{"style":{},"children":["  "]}]
1187:["$","span","code-segment-21",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
1188:["$","span","code-segment-22",{"style":{},"children":[" time "]}]
1189:["$","span","code-segment-23",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
118a:["$","span","code-segment-24",{"style":{},"children":[" "]}]
118b:["$","span","code-segment-25",{"className":"token known-class-name","style":{"color":"hsl(35, 99%, 36%)"},"children":["Date"]}]
118c:["$","span","code-segment-26",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
118d:["$","span","code-segment-27",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["now"]}]
118e:["$","span","code-segment-28",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
118f:["$","span","code-segment-29",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1190:["$","span","code-segment-30",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1191:["$","span","code-segment-31",{"style":{},"children":["\n"]}]
1192:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
1193:["$","span","code-segment-33",{"style":{},"children":["  "]}]
1194:["$","span","code-segment-34",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
1195:["$","span","code-segment-35",{"style":{},"children":[" isInvoking "]}]
1196:["$","span","code-segment-36",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
1197:["$","span","code-segment-37",{"style":{},"children":[" "]}]
1198:["$","span","code-segment-38",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["shouldInvoke"]}]
1199:["$","span","code-segment-39",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
119a:["$","span","code-segment-40",{"style":{},"children":["time"]}]
119b:["$","span","code-segment-41",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
119c:["$","span","code-segment-42",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
119d:["$","span","code-segment-43",{"style":{},"children":["\n"]}]
119e:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
119f:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
11a0:["$","span","code-segment-47",{"style":{},"children":["  lastArgs "]}]
11a1:["$","span","code-segment-48",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
11a2:["$","span","code-segment-49",{"style":{},"children":[" args"]}]
11a3:["$","span","code-segment-50",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
11a4:["$","span","code-segment-51",{"style":{},"children":["\n"]}]
11a5:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
11a6:["$","span","code-segment-53",{"style":{},"children":["  lastThis "]}]
11a7:["$","span","code-segment-54",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
11a8:["$","span","code-segment-55",{"style":{},"children":[" "]}]
11a9:["$","span","code-segment-56",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["this"]}]
11aa:["$","span","code-segment-57",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
11ab:["$","span","code-segment-58",{"style":{},"children":["\n"]}]
11ac:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
11ad:["$","span","code-segment-60",{"style":{},"children":["  lastInvokeTime "]}]
11ae:["$","span","code-segment-61",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
11af:["$","span","code-segment-62",{"style":{},"children":[" time"]}]
11b0:["$","span","code-segment-63",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
11b1:["$","span","code-segment-64",{"style":{},"children":["\n"]}]
11b2:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
11b3:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
11b4:["$","span","code-segment-68",{"style":{},"children":["  "]}]
11b5:["$","span","code-segment-69",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
11b6:["$","span","code-segment-70",{"style":{},"children":[" "]}]
11b7:["$","span","code-segment-71",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
11b8:["$","span","code-segment-72",{"style":{},"children":["timerId"]}]
11b9:["$","span","code-segment-73",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
11ba:["$","span","code-segment-74",{"style":{},"children":[" "]}]
11bb:["$","span","code-segment-75",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
11bc:["$","span","code-segment-76",{"style":{},"children":["\n"]}]
11bd:["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[12]}]
11be:["$","span","code-segment-78",{"style":{},"children":["    "]}]
11bf:["$","span","code-segment-79",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["cancelTimer"]}]
11c0:["$","span","code-segment-80",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
11c1:["$","span","code-segment-81",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
11c2:["$","span","code-segment-82",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
11c3:["$","span","code-segment-83",{"style":{},"children":["\n"]}]
11c4:["$","span","line-number--13",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[13]}]
11c5:["$","span","code-segment-85",{"style":{},"children":["  "]}]
11c6:["$","span","code-segment-86",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
11c7:["$","span","code-segment-87",{"style":{},"children":["\n"]}]
11c8:["$","span","line-number--14",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[14]}]
11c9:["$","span","line-number--15",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[15]}]
11ca:["$","span","code-segment-91",{"style":{},"children":["  "]}]
11cb:["$","span","code-segment-92",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
11cc:["$","span","code-segment-93",{"style":{},"children":[" "]}]
11cd:["$","span","code-segment-94",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
11ce:["$","span","code-segment-95",{"style":{},"children":["isInvoking"]}]
11cf:["$","span","code-segment-96",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
11d0:["$","span","code-segment-97",{"style":{},"children":[" "]}]
11d1:["$","span","code-segment-98",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
11d2:["$","span","code-segment-99",{"style":{},"children":["\n"]}]
11d3:["$","span","line-number--16",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[16]}]
11d4:["$","span","code-segment-101",{"style":{},"children":["    "]}]
11d5:["$","span","code-segment-102",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 重启定时器函数 timerExpired"]}]
11d6:["$","span","code-segment-103",{"style":{},"children":["\n"]}]
11d7:["$","span","line-number--17",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[17]}]
11d8:["$","span","code-segment-105",{"style":{},"children":["    timerId "]}]
11d9:["$","span","code-segment-106",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
11da:["$","span","code-segment-107",{"style":{},"children":[" "]}]
11db:["$","span","code-segment-108",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["startTimer"]}]
11dc:["$","span","code-segment-109",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
11dd:["$","span","code-segment-110",{"style":{},"children":["timerExpired"]}]
11de:["$","span","code-segment-111",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
11df:["$","span","code-segment-112",{"style":{},"children":[" wait"]}]
11e0:["$","span","code-segment-113",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
11e1:["$","span","code-segment-114",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
11e2:["$","span","code-segment-115",{"style":{},"children":["\n"]}]
11e3:["$","span","line-number--18",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[18]}]
11e4:["$","span","code-segment-117",{"style":{},"children":["    "]}]
11e5:["$","span","code-segment-118",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
11e6:["$","span","code-segment-119",{"style":{},"children":[" "]}]
11e7:["$","span","code-segment-120",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["invokeFunc"]}]
11e8:["$","span","code-segment-121",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
11e9:["$","span","code-segment-122",{"style":{},"children":["lastInvokeTime"]}]
11ea:["$","span","code-segment-123",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
11eb:["$","span","code-segment-124",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
11ec:["$","span","code-segment-125",{"style":{},"children":["\n"]}]
11ed:["$","span","line-number--19",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[19]}]
11ee:["$","span","code-segment-127",{"style":{},"children":["  "]}]
11ef:["$","span","code-segment-128",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
11f0:["$","span","code-segment-129",{"style":{},"children":["\n"]}]
11f1:["$","span","line-number--20",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[20]}]
11f2:["$","span","line-number--21",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[21]}]
11f3:["$","span","code-segment-133",{"style":{},"children":["  "]}]
11f4:["$","span","code-segment-134",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
11f5:["$","span","code-segment-135",{"style":{},"children":[" result"]}]
11f6:["$","span","code-segment-136",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
11f7:["$","span","code-segment-137",{"style":{},"children":["\n"]}]
11f8:["$","span","line-number--22",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[22]}]
11f9:["$","span","code-segment-139",{"style":{},"children":[""]}]
11fa:["$","span","code-segment-140",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
11fb:["$","span","code-segment-141",{"style":{},"children":["\n"]}]
11fc:["$","span","line-number--23",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[23]}]
11fd:["$","span","line-number--24",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[24]}]
11fe:["$","span","code-segment-145",{"style":{},"children":[""]}]
11ff:["$","span","code-segment-146",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}]
1200:["$","span","code-segment-147",{"style":{},"children":[" "]}]
1201:["$","span","code-segment-148",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["invokeFunc"]}]
1202:["$","span","code-segment-149",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1203:["$","span","code-segment-150",{"className":"token parameter","style":{},"children":["time"]}]
1204:["$","span","code-segment-151",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1205:["$","span","code-segment-152",{"style":{},"children":[" "]}]
1206:["$","span","code-segment-153",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1207:["$","span","code-segment-154",{"style":{},"children":["\n"]}]
1208:["$","span","line-number--25",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[25]}]
1209:["$","span","code-segment-156",{"style":{},"children":["  "]}]
120a:["$","span","code-segment-157",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
120b:["$","span","code-segment-158",{"style":{},"children":[" args "]}]
120c:["$","span","code-segment-159",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
120d:["$","span","code-segment-160",{"style":{},"children":[" lastArgs"]}]
120e:["$","span","code-segment-161",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
120f:["$","span","code-segment-162",{"style":{},"children":["\n"]}]
1210:["$","span","line-number--26",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[26]}]
1211:["$","span","code-segment-164",{"style":{},"children":["  "]}]
1212:["$","span","code-segment-165",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
1213:["$","span","code-segment-166",{"style":{},"children":[" thisArg "]}]
1214:["$","span","code-segment-167",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
1215:["$","span","code-segment-168",{"style":{},"children":[" lastThis"]}]
1216:["$","span","code-segment-169",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1217:["$","span","code-segment-170",{"style":{},"children":["\n"]}]
1218:["$","span","line-number--27",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[27]}]
1219:["$","span","line-number--28",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[28]}]
121a:["$","span","code-segment-174",{"style":{},"children":["  lastArgs "]}]
121b:["$","span","code-segment-175",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
121c:["$","span","code-segment-176",{"style":{},"children":[" lastThis "]}]
121d:["$","span","code-segment-177",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
121e:["$","span","code-segment-178",{"style":{},"children":[" "]}]
121f:["$","span","code-segment-179",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["undefined"]}]
1220:["$","span","code-segment-180",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1221:["$","span","code-segment-181",{"style":{},"children":["\n"]}]
1222:["$","span","line-number--29",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[29]}]
1223:["$","span","code-segment-183",{"style":{},"children":["  lastInvokeTime "]}]
1224:["$","span","code-segment-184",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
1225:["$","span","code-segment-185",{"style":{},"children":[" time"]}]
1226:["$","span","code-segment-186",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1227:["$","span","code-segment-187",{"style":{},"children":["\n"]}]
1228:["$","span","line-number--30",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[30]}]
1229:["$","span","code-segment-189",{"style":{},"children":["  result "]}]
122a:["$","span","code-segment-190",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
122b:["$","span","code-segment-191",{"style":{},"children":[" func"]}]
122c:["$","span","code-segment-192",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
122d:["$","span","code-segment-193",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["apply"]}]
122e:["$","span","code-segment-194",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
122f:["$","span","code-segment-195",{"style":{},"children":["thisArg"]}]
1230:["$","span","code-segment-196",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
1231:["$","span","code-segment-197",{"style":{},"children":[" args"]}]
1232:["$","span","code-segment-198",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1233:["$","span","code-segment-199",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1234:["$","span","code-segment-200",{"style":{},"children":["\n"]}]
1235:["$","span","line-number--31",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[31]}]
1236:["$","span","code-segment-202",{"style":{},"children":["  "]}]
1237:["$","span","code-segment-203",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
1238:["$","span","code-segment-204",{"style":{},"children":[" result"]}]
1239:["$","span","code-segment-205",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
123a:["$","span","code-segment-206",{"style":{},"children":["\n"]}]
123b:["$","span","line-number--32",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[32]}]
123c:["$","span","code-segment-208",{"style":{},"children":[""]}]
123d:["$","span","code-segment-209",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
123e:["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}]
123f:["$","span","code-segment-25",{"style":{},"children":["  "]}]
1240:["$","span","code-segment-26",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
1241:["$","span","code-segment-27",{"style":{},"children":[" "]}]
1242:["$","span","code-segment-28",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1243:["$","span","code-segment-29",{"style":{},"children":["\n"]}]
1244:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
1245:["$","span","code-segment-31",{"style":{},"children":["    lastInvokeTime "]}]
1246:["$","span","code-segment-32",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["==="]}]
1247:["$","span","code-segment-33",{"style":{},"children":[" "]}]
1248:["$","span","code-segment-34",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["undefined"]}]
1249:["$","span","code-segment-35",{"style":{},"children":[" "]}]
124a:["$","span","code-segment-36",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["||"]}]
124b:["$","span","code-segment-37",{"style":{},"children":["\n"]}]
124c:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
124d:["$","span","code-segment-39",{"style":{},"children":["    timeSinceLastInvoke "]}]
124e:["$","span","code-segment-40",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[">="]}]
124f:["$","span","code-segment-41",{"style":{},"children":[" wait "]}]
1250:["$","span","code-segment-42",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["||"]}]
1251:["$","span","code-segment-43",{"style":{},"children":["\n"]}]
1252:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
1253:["$","span","code-segment-45",{"style":{},"children":["    timeSinceLastInvoke "]}]
1254:["$","span","code-segment-46",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["<"]}]
1255:["$","span","code-segment-47",{"style":{},"children":[" "]}]
1256:["$","span","code-segment-48",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["0"]}]
1257:["$","span","code-segment-49",{"style":{},"children":[" "]}]
1258:["$","span","code-segment-50",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["||"]}]
1259:["$","span","code-segment-51",{"style":{},"children":["\n"]}]
125a:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
125b:["$","span","code-segment-53",{"style":{},"children":["    "]}]
125c:["$","span","code-segment-54",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
125d:["$","span","code-segment-55",{"style":{},"children":["maxing "]}]
125e:["$","span","code-segment-56",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["&&"]}]
125f:["$","span","code-segment-57",{"style":{},"children":[" timeSinceLastInvoke "]}]
1260:["$","span","code-segment-58",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[">="]}]
1261:["$","span","code-segment-59",{"style":{},"children":[" maxWait"]}]
1262:["$","span","code-segment-60",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1263:["$","span","code-segment-61",{"style":{},"children":["\n"]}]
1264:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
1265:["$","span","code-segment-63",{"style":{},"children":["  "]}]
1266:["$","span","code-segment-64",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1267:["$","span","code-segment-65",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1268:["$","span","code-segment-66",{"style":{},"children":["\n"]}]
1269:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
126a:["$","span","code-segment-68",{"style":{},"children":[""]}]
126b:["$","span","code-segment-69",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
126c:["$","span","code-segment-70",{"style":{},"children":["\n"]}]
126d:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
126e:["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[12]}]
126f:["$","span","code-segment-74",{"style":{},"children":[""]}]
1270:["$","span","code-segment-75",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 这些都是内部对象，兼容了js不同运行时环境的其那句对象"]}]
1271:["$","span","code-segment-76",{"style":{},"children":["\n"]}]
1272:["$","span","line-number--13",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[13]}]
1273:["$","span","code-segment-78",{"style":{},"children":[""]}]
1274:["$","span","code-segment-79",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
1275:["$","span","code-segment-80",{"style":{},"children":[" root "]}]
1276:["$","span","code-segment-81",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
1277:["$","span","code-segment-82",{"style":{},"children":["\n"]}]
1278:["$","span","line-number--14",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[14]}]
1279:["$","span","code-segment-84",{"style":{},"children":["  freeGlobalThis "]}]
127a:["$","span","code-segment-85",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["||"]}]
127b:["$","span","code-segment-86",{"style":{},"children":[" freeGlobal "]}]
127c:["$","span","code-segment-87",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["||"]}]
127d:["$","span","code-segment-88",{"style":{},"children":[" freeSelf "]}]
127e:["$","span","code-segment-89",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["||"]}]
127f:["$","span","code-segment-90",{"style":{},"children":[" "]}]
1280:["$","span","code-segment-91",{"className":"token known-class-name","style":{"color":"hsl(35, 99%, 36%)"},"children":["Function"]}]
1281:["$","span","code-segment-92",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1282:["$","span","code-segment-93",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["'return this'"]}]
1283:["$","span","code-segment-94",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1284:["$","span","code-segment-95",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1285:["$","span","code-segment-96",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1286:["$","span","code-segment-97",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1287:["$","span","code-segment-98",{"style":{},"children":["\n"]}]
1288:["$","span","line-number--15",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[15]}]
1289:["$","span","code-segment-100",{"style":{},"children":[""]}]
128a:["$","span","code-segment-101",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
128b:["$","span","code-segment-102",{"style":{},"children":[" useRAF "]}]
128c:["$","span","code-segment-103",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
128d:["$","span","code-segment-104",{"style":{},"children":["\n"]}]
128e:["$","span","line-number--16",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[16]}]
128f:["$","span","code-segment-106",{"style":{},"children":["  "]}]
1290:["$","span","code-segment-107",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["!"]}]
1291:["$","span","code-segment-108",{"style":{},"children":["wait "]}]
1292:["$","span","code-segment-109",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["&&"]}]
1293:["$","span","code-segment-110",{"style":{},"children":[" wait "]}]
1294:["$","span","code-segment-111",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["!=="]}]
1295:["$","span","code-segment-112",{"style":{},"children":[" "]}]
1296:["$","span","code-segment-113",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["0"]}]
1297:["$","span","code-segment-114",{"style":{},"children":[" "]}]
1298:["$","span","code-segment-115",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["&&"]}]
1299:["$","span","code-segment-116",{"style":{},"children":[" "]}]
129a:["$","span","code-segment-117",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["typeof"]}]
129b:["$","span","code-segment-118",{"style":{},"children":[" root"]}]
129c:["$","span","code-segment-119",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
129d:["$","span","code-segment-120",{"className":"token property-access","style":{},"children":["requestAnimationFrame"]}]
129e:["$","span","code-segment-121",{"style":{},"children":[" "]}]
129f:["$","span","code-segment-122",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["==="]}]
12a0:["$","span","code-segment-123",{"style":{},"children":[" "]}]
12a1:["$","span","code-segment-124",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["'function'"]}]
12a2:["$","span","code-segment-125",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
12a3:["$","span","code-segment-126",{"style":{},"children":["\n"]}]
12a4:["$","span","line-number--17",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[17]}]
12a5:["$","span","line-number--18",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[18]}]
12a6:["$","span","code-segment-130",{"style":{},"children":[""]}]
12a7:["$","span","code-segment-131",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}]
12a8:["$","span","code-segment-132",{"style":{},"children":[" "]}]
12a9:["$","span","code-segment-133",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["startTimer"]}]
12aa:["$","span","code-segment-134",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
12ab:["$","span","code-segment-135",{"className":"token parameter","style":{},"children":["pendingFunc"]}]
12ac:["$","span","code-segment-136",{"className":"token parameter","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
12ad:["$","span","code-segment-137",{"className":"token parameter","style":{},"children":[" wait"]}]
12ae:["$","span","code-segment-138",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
12af:["$","span","code-segment-139",{"style":{},"children":[" "]}]
12b0:["$","span","code-segment-140",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
12b1:["$","span","code-segment-141",{"style":{},"children":["\n"]}]
12b2:["$","span","line-number--19",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[19]}]
12b3:["$","span","code-segment-143",{"style":{},"children":["  "]}]
12b4:["$","span","code-segment-144",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
12b5:["$","span","code-segment-145",{"style":{},"children":[" "]}]
12b6:["$","span","code-segment-146",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
12b7:["$","span","code-segment-147",{"style":{},"children":["useRAF"]}]
12b8:["$","span","code-segment-148",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
12b9:["$","span","code-segment-149",{"style":{},"children":[" "]}]
12ba:["$","span","code-segment-150",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
12bb:["$","span","code-segment-151",{"style":{},"children":["\n"]}]
12bc:["$","span","line-number--20",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[20]}]
12bd:["$","span","code-segment-153",{"style":{},"children":["    root"]}]
12be:["$","span","code-segment-154",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
12bf:["$","span","code-segment-155",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["cancelAnimationFrame"]}]
12c0:["$","span","code-segment-156",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
12c1:["$","span","code-segment-157",{"style":{},"children":["timerId"]}]
12c2:["$","span","code-segment-158",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
12c3:["$","span","code-segment-159",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
12c4:["$","span","code-segment-160",{"style":{},"children":["\n"]}]
12c5:["$","span","line-number--21",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[21]}]
12c6:["$","span","code-segment-162",{"style":{},"children":["    "]}]
12c7:["$","span","code-segment-163",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
12c8:["$","span","code-segment-164",{"style":{},"children":[" root"]}]
12c9:["$","span","code-segment-165",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
12ca:["$","span","code-segment-166",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["requestAnimationFrame"]}]
12cb:["$","span","code-segment-167",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
12cc:["$","span","code-segment-168",{"style":{},"children":["pendingFunc"]}]
12cd:["$","span","code-segment-169",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
12ce:["$","span","code-segment-170",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
12cf:["$","span","code-segment-171",{"style":{},"children":["\n"]}]
12d0:["$","span","line-number--22",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[22]}]
12d1:["$","span","code-segment-173",{"style":{},"children":["  "]}]
12d2:["$","span","code-segment-174",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
12d3:["$","span","code-segment-175",{"style":{},"children":["\n"]}]
12d4:["$","span","line-number--23",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[23]}]
12d5:["$","span","code-segment-177",{"style":{},"children":["  "]}]
12d6:["$","span","code-segment-178",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
12d7:["$","span","code-segment-179",{"style":{},"children":[" "]}]
12d8:["$","span","code-segment-180",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["setTimeout"]}]
12d9:["$","span","code-segment-181",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
12da:["$","span","code-segment-182",{"style":{},"children":["pendingFunc"]}]
12db:["$","span","code-segment-183",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
12dc:["$","span","code-segment-184",{"style":{},"children":[" wait"]}]
12dd:["$","span","code-segment-185",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
12de:["$","span","code-segment-186",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
12df:["$","span","code-segment-187",{"style":{},"children":["\n"]}]
12e0:["$","span","line-number--24",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[24]}]
12e1:["$","span","code-segment-189",{"style":{},"children":[""]}]
12e2:["$","span","code-segment-190",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
12e3:["$","span","code-segment-28",{"style":{},"children":[" newFiber "]}]
12e4:["$","span","code-segment-29",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
12e5:["$","span","code-segment-30",{"style":{},"children":[" "]}]
12e6:["$","span","code-segment-31",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["createFiber"]}]
12e7:["$","span","code-segment-32",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
12e8:["$","span","code-segment-33",{"style":{},"children":["newChild"]}]
12e9:["$","span","code-segment-34",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
12ea:["$","span","code-segment-35",{"style":{},"children":[" returnFiber"]}]
12eb:["$","span","code-segment-36",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
12ec:["$","span","code-segment-37",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
12ed:["$","span","code-segment-38",{"style":{},"children":["\n"]}]
12ee:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
12ef:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
12f0:["$","span","code-segment-42",{"style":{},"children":["  "]}]
12f1:["$","span","code-segment-43",{"className":"token known-class-name","style":{"color":"hsl(35, 99%, 36%)"},"children":["Object"]}]
12f2:["$","span","code-segment-44",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
12f3:["$","span","code-segment-45",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["assign"]}]
12f4:["$","span","code-segment-46",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
12f5:["$","span","code-segment-47",{"style":{},"children":["newFiber"]}]
12f6:["$","span","code-segment-48",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
12f7:["$","span","code-segment-49",{"style":{},"children":[" "]}]
12f8:["$","span","code-segment-50",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
12f9:["$","span","code-segment-51",{"style":{},"children":["\n"]}]
12fa:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
12fb:["$","span","code-segment-53",{"style":{},"children":["    "]}]
12fc:["$","span","code-segment-54",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["stateNode"]}]
12fd:["$","span","code-segment-55",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
12fe:["$","span","code-segment-56",{"style":{},"children":[" oldFiber"]}]
12ff:["$","span","code-segment-57",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
1300:["$","span","code-segment-58",{"className":"token property-access","style":{},"children":["stateNode"]}]
1301:["$","span","code-segment-59",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
1302:["$","span","code-segment-60",{"style":{},"children":["\n"]}]
1303:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
1304:["$","span","code-segment-62",{"style":{},"children":["    "]}]
1305:["$","span","code-segment-63",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["alternate"]}]
1306:["$","span","code-segment-64",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
1307:["$","span","code-segment-65",{"style":{},"children":[" oldFiber"]}]
1308:["$","span","code-segment-66",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
1309:["$","span","code-segment-67",{"style":{},"children":["\n"]}]
130a:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
130b:["$","span","code-segment-69",{"style":{},"children":["    "]}]
130c:["$","span","code-segment-70",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["flags"]}]
130d:["$","span","code-segment-71",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
130e:["$","span","code-segment-72",{"style":{},"children":[" "]}]
130f:["$","span","code-segment-73",{"className":"token maybe-class-name","style":{},"children":["Update"]}]
1310:["$","span","code-segment-74",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
1311:["$","span","code-segment-75",{"style":{},"children":["\n"]}]
1312:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
1313:["$","span","code-segment-77",{"style":{},"children":["  "]}]
1314:["$","span","code-segment-78",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
1315:["$","span","code-segment-79",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1316:["$","span","code-segment-80",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1317:["$","span","code-segment-81",{"style":{},"children":["\n"]}]
1318:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
1319:["$","span","code-segment-83",{"style":{},"children":[""]}]
131a:["$","span","code-segment-84",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
131b:["$","span","code-segment-85",{"style":{},"children":["\n"]}]
131c:["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[12]}]
131d:["$","span","line-number--13",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[13]}]
131e:["$","span","code-segment-89",{"style":{},"children":[""]}]
131f:["$","span","code-segment-90",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// newIndex 指针后移"]}]
1320:["$","span","code-segment-91",{"style":{},"children":["\n"]}]
1321:["$","span","line-number--14",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[14]}]
1322:["$","span","code-segment-93",{"style":{},"children":[""]}]
1323:["$","span","code-segment-94",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// lastPlacedIndex 指向最后放置的位置"]}]
1324:["$","span","code-segment-30",{"style":{},"children":[" "]}]
1325:["$","span","code-segment-31",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1326:["$","span","code-segment-32",{"style":{},"children":["\n"]}]
1327:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
1328:["$","span","code-segment-34",{"style":{},"children":["  previousNewFiber"]}]
1329:["$","span","code-segment-35",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
132a:["$","span","code-segment-36",{"className":"token property-access","style":{},"children":["sibling"]}]
132b:["$","span","code-segment-37",{"style":{},"children":[" "]}]
132c:["$","span","code-segment-38",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
132d:["$","span","code-segment-39",{"style":{},"children":[" newFiber"]}]
132e:["$","span","code-segment-40",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
132f:["$","span","code-segment-41",{"style":{},"children":["\n"]}]
1330:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
1331:["$","span","code-segment-43",{"style":{},"children":[""]}]
1332:["$","span","code-segment-44",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
1333:["$","span","code-segment-22",{"style":{},"children":[""]}]
1334:["$","span","code-segment-23",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// [2 1 3 4 5]"]}]
1335:["$","span","code-segment-24",{"style":{},"children":["\n"]}]
1336:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
1337:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
1338:["$","span","code-segment-28",{"style":{},"children":[""]}]
1339:["$","span","code-segment-29",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 把老节点加入Map"]}]
133a:["$","span","code-segment-30",{"style":{},"children":["\n"]}]
133b:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
133c:["$","span","code-segment-32",{"style":{},"children":[""]}]
133d:["$","span","code-segment-33",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
133e:["$","span","code-segment-34",{"style":{},"children":[" existingChildren "]}]
133f:["$","span","code-segment-35",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
1340:["$","span","code-segment-36",{"style":{},"children":[" "]}]
1341:["$","span","code-segment-37",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["mapRemainingChildren"]}]
1342:["$","span","code-segment-38",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1343:["$","span","code-segment-39",{"style":{},"children":["oldFiber"]}]
1344:["$","span","code-segment-40",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1345:["$","span","code-segment-41",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1346:["$","span","code-segment-42",{"style":{},"children":[" "]}]
1347:["$","span","code-segment-43",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// new Map()"]}]
1348:["$","span","code-segment-44",{"style":{},"children":["\n"]}]
1349:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
134a:["$","span","code-segment-46",{"style":{},"children":[""]}]
134b:["$","span","code-segment-47",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 遍历新节点，通过新节点的key去哈希表中查找节点，找到就复用节点，并且删除哈希表中对应的节点"]}]
134d:["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// oldfiber的头结点"]}],["$","span","code-segment-2",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-4",{"style":{},"children":[""]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["let"]}],["$","span","code-segment-6",{"style":{},"children":[" oldFiber "]}],["$","span","code-segment-7",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}],["$","span","code-segment-8",{"style":{},"children":[" returnFiber"]}],["$","span","code-segment-9",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}],["$","span","code-segment-10",{"className":"token property-access","style":{},"children":["alternate"]}],["$","span","code-segment-11",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["?."]}],["$","span","code-segment-12",{"style":{},"children":["child"]}],["$","span","code-segment-13",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],["$","span","code-segment-14",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-16",{"style":{},"children":[""]}],["$","span","code-segment-17",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 下一个oldFiber | 暂时缓存下一个oldFiber"]}],["$","span","code-segment-18",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],["$","span","code-segment-20",{"style":{},"children":[""]}],["$","span","code-segment-21",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["let"]}],["$","span","code-segment-22",{"style":{},"children":[" nextOldFiber "]}],["$","span","code-segment-23",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}],["$","span","code-segment-24",{"style":{},"children":[" "]}],["$","span","code-segment-25",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}],["$","span","code-segment-26",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],["$","span","code-segment-27",{"style":{},"children":["\n"]}],["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}],["$","span","code-segment-29",{"style":{},"children":[""]}],["$","span","code-segment-30",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 用于判断是returnFiber初次渲染还是更新"]}],["$","span","code-segment-31",{"style":{},"children":["\n"]}],["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}],["$","span","code-segment-33",{"style":{},"children":[""]}],["$","span","code-segment-34",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["let"]}],"$L1657","$L1658","$L1659","$L165a","$L165b","$L165c","$L165d","$L165e","$L165f","$L1660","$L1661","$L1662","$L1663","$L1664","$L1665","$L1666","$L1667","$L1668","$L1669","$L166a","$L166b","$L166c","$L166d","$L166e","$L166f","$L1670","$L1671","$L1672","$L1673","$L1674","$L1675","$L1676","$L1677","$L1678","$L1679","$L167a","$L167b","$L167c","$L167d","$L167e","$L167f","$L1680","$L1681","$L1682","$L1683","$L1684","$L1685","$L1686","$L1687","$L1688","\n","$L1689","$L168a","$L168b","$L168c","$L168d","$L168e","$L168f","$L1690","$L1691","$L1692","$L1693","$L1694","$L1695","$L1696","$L1697","$L1698","$L1699","$L169a","$L169b","$L169c","$L169d","$L169e","$L169f","$L16a0","$L16a1","$L16a2","$L16a3","$L16a4","$L16a5","$L16a6","$L16a7","$L16a8","$L16a9","$L16aa","$L16ab","$L16ac","$L16ad","$L16ae","$L16af","$L16b0","$L16b1","$L16b2","$L16b3","$L16b4","$L16b5","$L16b6","$L16b7","$L16b8","$L16b9","$L16ba","$L16bb","$L16bc","$L16bd","$L16be","$L16bf","$L16c0","$L16c1","$L16c2","\n","$L16c3","$L16c4","$L16c5","$L16c6","$L16c7","$L16c8","$L16c9","$L16ca","$L16cb","$L16cc","$L16cd","$L16ce","$L16cf","$L16d0","$L16d1","$L16d2","$L16d3","$L16d4","$L16d5","$L16d6","$L16d7","$L16d8","$L16d9","$L16da","$L16db","$L16dc","$L16dd","$L16de","$L16df","$L16e0","$L16e1","$L16e2","$L16e3","$L16e4","$L16e5","$L16e6","$L16e7","$L16e8","$L16e9","$L16ea","$L16eb","$L16ec","$L16ed","$L16ee","$L16ef","$L16f0","$L16f1","$L16f2","$L16f3","\n","$L16f4","$L16f5","$L16f6","$L16f7","$L16f8","$L16f9","$L16fa","$L16fb","$L16fc","$L16fd","$L16fe","$L16ff","$L1700","$L1701","$L1702","$L1703","$L1704","$L1705","$L1706","$L1707","$L1708","$L1709","$L170a","$L170b","$L170c","$L170d","$L170e","$L170f","$L1710","$L1711","$L1712","$L1713","$L1714","$L1715","$L1716","$L1717","$L1718","$L1719","$L171a","$L171b","$L171c","$L171d","$L171e","$L171f","$L1720","$L1721","$L1722","$L1723","$L1724","$L1725","$L1726","$L1727","$L1728","$L1729","$L172a","$L172b","$L172c","$L172d","$L172e","$L172f","$L1730","$L1731","$L1732","$L1733","$L1734","$L1735","$L1736","$L1737","$L1738","$L1739","$L173a","$L173b","\n","$L173c","$L173d","$L173e","$L173f","$L1740","$L1741","$L1742","$L1743","$L1744","$L1745","$L1746","$L1747","$L1748","$L1749","$L174a","$L174b","$L174c","$L174d","$L174e","$L174f","$L1750","$L1751","$L1752","$L1753","$L1754","$L1755","$L1756","$L1757","$L1758","$L1759","$L175a","$L175b","$L175c","$L175d","$L175e","$L175f","$L1760","$L1761","$L1762","$L1763","$L1764","$L1765","\n","$L1766","$L1767","$L1768","$L1769","$L176a","$L176b","$L176c","$L176d","$L176e","$L176f","$L1770","$L1771","$L1772","$L1773","$L1774","$L1775","$L1776","$L1777","$L1778","$L1779","$L177a","$L177b","$L177c","$L177d","$L177e","$L177f","$L1780","$L1781","$L1782","$L1783","$L1784","$L1785","$L1786","\n","$L1787","$L1788","$L1789","$L178a","$L178b","$L178c","$L178d","$L178e","$L178f","$L1790","$L1791","$L1792","$L1793","$L1794","$L1795","$L1796","$L1797","$L1798","$L1799","$L179a","$L179b","$L179c","$L179d","$L179e","$L179f","$L17a0","$L17a1","$L17a2","$L17a3","$L17a4","$L17a5","$L17a6","$L17a7","$L17a8","$L17a9","$L17aa","$L17ab","$L17ac","$L17ad","$L17ae","$L17af","$L17b0","$L17b1","$L17b2","\n","$L17b3","$L17b4","$L17b5","$L17b6","$L17b7","$L17b8","$L17b9","$L17ba","$L17bb","$L17bc","$L17bd","$L17be","$L17bf","$L17c0","$L17c1","$L17c2","$L17c3","\n","$L17c4","$L17c5","$L17c6","$L17c7","$L17c8","$L17c9","$L17ca","$L17cb","$L17cc","$L17cd","$L17ce","$L17cf","$L17d0","$L17d1","$L17d2","$L17d3","$L17d4","$L17d5","$L17d6","$L17d7","$L17d8","$L17d9","$L17da","$L17db","$L17dc","$L17dd","$L17de","$L17df","$L17e0","$L17e1","$L17e2","$L17e3","$L17e4","$L17e5","$L17e6","$L17e7","$L17e8","$L17e9","$L17ea","$L17eb","$L17ec","$L17ed","$L17ee","$L17ef","$L17f0","$L17f1","\n","$L17f2","$L17f3","$L17f4","$L17f5","$L17f6","$L17f7","$L17f8","$L17f9","$L17fa","$L17fb","$L17fc","$L17fd","$L17fe","$L17ff","$L1800","$L1801","$L1802","$L1803","$L1804","$L1805","$L1806","$L1807","$L1808","$L1809","$L180a","$L180b","$L180c","$L180d","$L180e","$L180f","$L1810","$L1811","$L1812","$L1813","$L1814","$L1815","$L1816","$L1817","$L1818","$L1819","$L181a","$L181b","$L181c","$L181d","$L181e","$L181f","$L1820","$L1821","$L1822","$L1823","$L1824","$L1825","$L1826","$L1827","$L1828","$L1829","$L182a","$L182b","$L182c","$L182d","$L182e","$L182f","$L1830","$L1831","$L1832","$L1833","$L1834","$L1835","$L1836","$L1837","$L1838","$L1839","$L183a","$L183b","$L183c","$L183d","$L183e","$L183f","$L1840","$L1841","$L1842","$L1843","$L1844","$L1845","$L1846","$L1847","$L1848","$L1849","$L184a","\n","$L184b","$L184c","$L184d","$L184e","$L184f","$L1850","$L1851","$L1852","$L1853","$L1854","$L1855","$L1856","$L1857","$L1858","$L1859","$L185a","$L185b","$L185c","$L185d","$L185e","$L185f","$L1860","$L1861","$L1862","$L1863","$L1864","$L1865","$L1866","$L1867","\n","$L1868","$L1869","$L186a","$L186b","$L186c","$L186d","$L186e","$L186f","$L1870","$L1871","$L1872","$L1873","$L1874","$L1875","$L1876","$L1877","$L1878","$L1879","$L187a","$L187b","$L187c","$L187d","$L187e","$L187f","$L1880","$L1881","$L1882","$L1883","$L1884","$L1885","$L1886","$L1887","$L1888","$L1889","$L188a","$L188b","$L188c","$L188d","$L188e","$L188f","$L1890","$L1891","$L1892","$L1893","$L1894","$L1895","$L1896","$L1897","\n","$L1898","$L1899","$L189a","$L189b","$L189c","$L189d","$L189e","$L189f","$L18a0","$L18a1","$L18a2","$L18a3","$L18a4","$L18a5","$L18a6","\n","$L18a7","$L18a8","$L18a9","$L18aa","$L18ab","$L18ac","$L18ad","$L18ae","$L18af","$L18b0","$L18b1","$L18b2","$L18b3","$L18b4","$L18b5","$L18b6","$L18b7","$L18b8","$L18b9","$L18ba","$L18bb","$L18bc","$L18bd","$L18be","$L18bf","$L18c0","$L18c1","$L18c2","$L18c3","$L18c4","$L18c5","$L18c6","$L18c7","\n","$L18c8","$L18c9","$L18ca","$L18cb","$L18cc","$L18cd","$L18ce","$L18cf","$L18d0","$L18d1","$L18d2","$L18d3","$L18d4","$L18d5","$L18d6","$L18d7","$L18d8","$L18d9","$L18da","$L18db","$L18dc","$L18dd","$L18de","$L18df","$L18e0","$L18e1","$L18e2","$L18e3","$L18e4","$L18e5","$L18e6","$L18e7","$L18e8","$L18e9","$L18ea","$L18eb","$L18ec","$L18ed","$L18ee","$L18ef","$L18f0","$L18f1","$L18f2","$L18f3","$L18f4","$L18f5","$L18f6","$L18f7","$L18f8","$L18f9","$L18fa","$L18fb","$L18fc","$L18fd","$L18fe","$L18ff","$L1900","$L1901","$L1902","$L1903","$L1904","$L1905","$L1906","$L1907","$L1908","$L1909","$L190a","$L190b","$L190c","$L190d","\n","$L190e","$L190f","$L1910","$L1911","$L1912","$L1913","$L1914","$L1915","$L1916","$L1917","$L1918","$L1919","$L191a","$L191b","$L191c","$L191d","$L191e","$L191f","$L1920","$L1921","$L1922","$L1923","$L1924","$L1925","$L1926","$L1927","$L1928","$L1929","$L192a","$L192b","$L192c","$L192d","$L192e","$L192f","$L1930","$L1931","$L1932","$L1933","$L1934","$L1935","$L1936","$L1937","$L1938","$L1939","$L193a","$L193b","$L193c","$L193d","$L193e","$L193f","$L1940","$L1941","$L1942","$L1943","$L1944","$L1945","$L1946","$L1947","$L1948","$L1949","$L194a","$L194b","$L194c","$L194d","$L194e","$L194f","$L1950","$L1951","$L1952","$L1953","$L1954","$L1955","$L1956","$L1957","$L1958","$L1959","$L195a","$L195b","$L195c","$L195d","\n","$L195e","$L195f","$L1960","$L1961","$L1962","$L1963","$L1964","$L1965","$L1966","$L1967","$L1968","$L1969","$L196a","$L196b","$L196c","$L196d","$L196e","$L196f","$L1970","$L1971","$L1972","\n","$L1973","$L1974","$L1975","$L1976","$L1977","$L1978","$L1979","$L197a","$L197b","$L197c","$L197d","$L197e","$L197f","$L1980","$L1981","$L1982","$L1983","$L1984","$L1985","$L1986","$L1987","$L1988","$L1989","$L198a","$L198b","$L198c","$L198d","$L198e","$L198f","\n","$L1990","$L1991","$L1992","$L1993","$L1994","$L1995","$L1996","$L1997","$L1998","$L1999","$L199a","$L199b","$L199c","$L199d","$L199e","$L199f","$L19a0","$L19a1","$L19a2","$L19a3","$L19a4","$L19a5","$L19a6","$L19a7","$L19a8","$L19a9","$L19aa","$L19ab","$L19ac","$L19ad","$L19ae","$L19af","$L19b0","$L19b1","$L19b2","$L19b3","$L19b4","$L19b5","$L19b6","$L19b7","$L19b8","$L19b9","$L19ba","$L19bb","$L19bc","$L19bd","$L19be","$L19bf","$L19c0","$L19c1","$L19c2","$L19c3","$L19c4","$L19c5","\n","$L19c6","$L19c7","$L19c8","$L19c9","$L19ca","$L19cb","$L19cc","$L19cd","$L19ce","$L19cf","$L19d0","$L19d1","$L19d2","$L19d3","$L19d4","$L19d5","$L19d6","$L19d7","$L19d8","$L19d9","$L19da","$L19db","$L19dc","$L19dd","$L19de","$L19df","$L19e0","$L19e1","$L19e2","$L19e3","$L19e4","$L19e5","$L19e6","$L19e7","$L19e8","$L19e9","$L19ea"]]}]
134f:["$","span","code-segment-15",{"style":{},"children":["  "]}]
1350:["$","span","code-segment-16",{"className":"token parameter","style":{},"children":["newFiber"]}]
1351:["$","span","code-segment-17",{"className":"token parameter","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
1352:["$","span","code-segment-18",{"className":"token parameter","style":{},"children":["\n"]}]
1353:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
1354:["$","span","code-segment-20",{"className":"token parameter","style":{},"children":["  lastPlacedIndex"]}]
1355:["$","span","code-segment-21",{"className":"token parameter","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
1356:["$","span","code-segment-22",{"className":"token parameter","style":{},"children":["\n"]}]
1357:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
1358:["$","span","code-segment-24",{"className":"token parameter","style":{},"children":["  newIndex"]}]
1359:["$","span","code-segment-25",{"className":"token parameter","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
135a:["$","span","code-segment-26",{"className":"token parameter","style":{},"children":["\n"]}]
135b:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
135c:["$","span","code-segment-28",{"className":"token parameter","style":{},"children":["  shouldTrackSideEffects"]}]
135d:["$","span","code-segment-29",{"className":"token parameter","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
135e:["$","span","code-segment-30",{"style":{},"children":["\n"]}]
135f:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
1360:["$","span","code-segment-32",{"style":{},"children":[""]}]
1361:["$","span","code-segment-33",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1362:["$","span","code-segment-34",{"style":{},"children":[" "]}]
1363:["$","span","code-segment-35",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1364:["$","span","code-segment-36",{"style":{},"children":["\n"]}]
1365:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
1366:["$","span","code-segment-38",{"style":{},"children":["  newFiber"]}]
1367:["$","span","code-segment-39",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
1368:["$","span","code-segment-40",{"className":"token property-access","style":{},"children":["index"]}]
1369:["$","span","code-segment-41",{"style":{},"children":[" "]}]
136a:["$","span","code-segment-42",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
136b:["$","span","code-segment-43",{"style":{},"children":[" newIndex"]}]
136c:["$","span","code-segment-44",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
136d:["$","span","code-segment-45",{"style":{},"children":["\n"]}]
136e:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
136f:["$","span","code-segment-47",{"style":{},"children":["  "]}]
1370:["$","span","code-segment-48",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
1371:["$","span","code-segment-49",{"style":{},"children":[" "]}]
1372:["$","span","code-segment-50",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1373:["$","span","code-segment-51",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["!"]}]
1374:["$","span","code-segment-52",{"style":{},"children":["shouldTrackSideEffects"]}]
1375:["$","span","code-segment-53",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1376:["$","span","code-segment-54",{"style":{},"children":[" "]}]
1377:["$","span","code-segment-55",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1378:["$","span","code-segment-56",{"style":{},"children":["\n"]}]
1379:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
137a:["$","span","code-segment-58",{"style":{},"children":["    "]}]
137b:["$","span","code-segment-59",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 父节点初次渲染"]}]
137c:["$","span","code-segment-60",{"style":{},"children":["\n"]}]
137d:["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[12]}]
137e:["$","span","code-segment-62",{"style":{},"children":["    "]}]
137f:["$","span","code-segment-63",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
1380:["$","span","code-segment-64",{"style":{},"children":[" lastPlacedIndex"]}]
1381:["$","span","code-segment-65",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1382:["$","span","code-segment-66",{"style":{},"children":["\n"]}]
1383:["$","span","line-number--13",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[13]}]
1384:["$","span","code-segment-68",{"style":{},"children":["  "]}]
1385:["$","span","code-segment-69",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
1386:["$","span","code-segment-70",{"style":{},"children":["\n"]}]
1387:["$","span","line-number--14",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[14]}]
1388:["$","span","code-segment-72",{"style":{},"children":["  "]}]
1389:["$","span","code-segment-73",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 父节点更新"]}]
138a:["$","span","code-segment-74",{"style":{},"children":["\n"]}]
138b:["$","span","line-number--15",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[15]}]
138c:["$","span","code-segment-76",{"style":{},"children":["  "]}]
138d:["$","span","code-segment-77",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 子节点是初次渲染还是更新呢"]}]
138e:["$","span","code-segment-78",{"style":{},"children":["\n"]}]
138f:["$","span","line-number--16",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[16]}]
1390:["$","span","code-segment-80",{"style":{},"children":["  "]}]
1391:["$","span","code-segment-81",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
1392:["$","span","code-segment-82",{"style":{},"children":[" current "]}]
1393:["$","span","code-segment-83",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
1394:["$","span","code-segment-84",{"style":{},"children":[" newFiber"]}]
1395:["$","span","code-segment-85",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
1396:["$","span","code-segment-86",{"className":"token property-access","style":{},"children":["alternate"]}]
1397:["$","span","code-segment-87",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1398:["$","span","code-segment-88",{"style":{},"children":["\n"]}]
1399:["$","span","line-number--17",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[17]}]
139a:["$","span","code-segment-90",{"style":{},"children":["  "]}]
139b:["$","span","code-segment-91",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
139c:["$","span","code-segment-92",{"style":{},"children":[" "]}]
139d:["$","span","code-segment-93",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
139e:["$","span","code-segment-94",{"style":{},"children":["current"]}]
139f:["$","span","code-segment-95",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
13a0:["$","span","code-segment-96",{"style":{},"children":[" "]}]
13a1:["$","span","code-segment-97",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
13a2:["$","span","code-segment-98",{"style":{},"children":["\n"]}]
13a3:["$","span","line-number--18",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[18]}]
13a4:["$","span","code-segment-100",{"style":{},"children":["    "]}]
13a5:["$","span","code-segment-101",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
13a6:["$","span","code-segment-102",{"style":{},"children":[" oldIndex "]}]
13a7:["$","span","code-segment-103",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
13a8:["$","span","code-segment-104",{"style":{},"children":[" current"]}]
13a9:["$","span","code-segment-105",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
13aa:["$","span","code-segment-106",{"className":"token property-access","style":{},"children":["index"]}]
13ab:["$","span","code-segment-107",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
13ac:["$","span","code-segment-108",{"style":{},"children":["\n"]}]
13ad:["$","span","line-number--19",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[19]}]
13ae:["$","span","code-segment-110",{"style":{},"children":["    "]}]
13af:["$","span","code-segment-111",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 子节点是更新"]}]
13b0:["$","span","code-segment-112",{"style":{},"children":["\n"]}]
13b1:["$","span","line-number--20",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[20]}]
13b2:["$","span","code-segment-114",{"style":{},"children":["    "]}]
13b3:["$","span","code-segment-115",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// lastPlacedIndex 记录了上次dom节点的相对更新节点的最远位置"]}]
13b4:["$","span","code-segment-116",{"style":{},"children":["\n"]}]
13b5:["$","span","line-number--21",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[21]}]
13b6:["$","span","code-segment-118",{"style":{},"children":["    "]}]
13b7:["$","span","code-segment-119",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// old 0 1 2 3 4"]}]
13b8:["$","span","code-segment-120",{"style":{},"children":["\n"]}]
13b9:["$","span","line-number--22",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[22]}]
13ba:["$","span","code-segment-122",{"style":{},"children":["    "]}]
13bb:["$","span","code-segment-123",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// new 2 1 3 4"]}]
13bc:["$","span","code-segment-124",{"style":{},"children":["\n"]}]
13bd:["$","span","line-number--23",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[23]}]
13be:["$","span","code-segment-126",{"style":{},"children":["    "]}]
13bf:["$","span","code-segment-127",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 2 1(6) 3 4"]}]
13c0:["$","span","code-segment-128",{"style":{},"children":["\n"]}]
13c1:["$","span","line-number--24",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[24]}]
13c2:["$","span","code-segment-130",{"style":{},"children":["    "]}]
13c3:["$","span","code-segment-131",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
13c4:["$","span","code-segment-132",{"style":{},"children":[" "]}]
13c5:["$","span","code-segment-133",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
13c6:["$","span","code-segment-134",{"style":{},"children":["oldIndex "]}]
13c7:["$","span","code-segment-135",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["<"]}]
13c8:["$","span","code-segment-136",{"style":{},"children":[" lastPlacedIndex"]}]
13c9:["$","span","code-segment-137",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
13ca:["$","span","code-segment-138",{"style":{},"children":[" "]}]
13cb:["$","span","code-segment-139",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
13cc:["$","span","code-segment-140",{"style":{},"children":["\n"]}]
13cd:["$","span","line-number--25",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[25]}]
13ce:["$","span","code-segment-142",{"style":{},"children":["      "]}]
13cf:["$","span","code-segment-143",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// move"]}]
13d0:["$","span","code-segment-144",{"style":{},"children":["\n"]}]
13d1:["$","span","line-number--26",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[26]}]
13d2:["$","span","code-segment-146",{"style":{},"children":["      newFiber"]}]
13d3:["$","span","code-segment-147",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
13d4:["$","span","code-segment-148",{"className":"token property-access","style":{},"children":["flags"]}]
13d5:["$","span","code-segment-149",{"style":{},"children":[" "]}]
13d6:["$","span","code-segment-150",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["|="]}]
13d7:["$","span","code-segment-151",{"style":{},"children":[" "]}]
13d8:["$","span","code-segment-152",{"className":"token maybe-class-name","style":{},"children":["Placement"]}]
13d9:["$","span","code-segment-153",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
13da:["$","span","code-segment-154",{"style":{},"children":["\n"]}]
13db:["$","span","line-number--27",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[27]}]
13dc:["$","span","code-segment-156",{"style":{},"children":["      "]}]
13dd:["$","span","code-segment-157",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
13de:["$","span","code-segment-158",{"style":{},"children":[" lastPlacedIndex"]}]
13df:["$","span","code-segment-159",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
13e0:["$","span","code-segment-160",{"style":{},"children":["\n"]}]
13e1:["$","span","line-number--28",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[28]}]
13e2:["$","span","code-segment-162",{"style":{},"children":["    "]}]
13e3:["$","span","code-segment-163",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
13e4:["$","span","code-segment-164",{"style":{},"children":[" "]}]
13e5:["$","span","code-segment-165",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["else"]}]
13e6:["$","span","code-segment-166",{"style":{},"children":[" "]}]
13e7:["$","span","code-segment-167",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
13e8:["$","span","code-segment-168",{"style":{},"children":["\n"]}]
13e9:["$","span","line-number--29",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[29]}]
13ea:["$","span","code-segment-170",{"style":{},"children":["      "]}]
13eb:["$","span","code-segment-171",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
13ec:["$","span","code-segment-172",{"style":{},"children":[" oldIndex"]}]
13ed:["$","span","code-segment-173",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
13ee:["$","span","code-segment-174",{"style":{},"children":["\n"]}]
13ef:["$","span","line-number--30",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[30]}]
13f0:["$","span","code-segment-176",{"style":{},"children":["    "]}]
13f1:["$","span","code-segment-177",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
13f2:["$","span","code-segment-178",{"style":{},"children":["\n"]}]
13f3:["$","span","line-number--31",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[31]}]
13f4:["$","span","code-segment-180",{"style":{},"children":["  "]}]
13f5:["$","span","code-segment-181",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
13f6:["$","span","code-segment-182",{"style":{},"children":[" "]}]
13f7:["$","span","code-segment-183",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["else"]}]
13f8:["$","span","code-segment-184",{"style":{},"children":[" "]}]
13f9:["$","span","code-segment-185",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
13fa:["$","span","code-segment-186",{"style":{},"children":["\n"]}]
13fb:["$","span","line-number--32",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[32]}]
13fc:["$","span","code-segment-188",{"style":{},"children":["    "]}]
13fd:["$","span","code-segment-189",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 子节点是初次渲染"]}]
13fe:["$","span","code-segment-190",{"style":{},"children":["\n"]}]
13ff:["$","span","line-number--33",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[33]}]
1400:["$","span","code-segment-192",{"style":{},"children":["    newFiber"]}]
1401:["$","span","code-segment-193",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
1402:["$","span","code-segment-194",{"className":"token property-access","style":{},"children":["flags"]}]
1403:["$","span","code-segment-195",{"style":{},"children":[" "]}]
1404:["$","span","code-segment-196",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["|="]}]
1405:["$","span","code-segment-197",{"style":{},"children":[" "]}]
1406:["$","span","code-segment-198",{"className":"token maybe-class-name","style":{},"children":["Placement"]}]
1407:["$","span","code-segment-199",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1408:["$","span","code-segment-200",{"style":{},"children":["\n"]}]
1409:["$","span","line-number--34",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[34]}]
140a:["$","span","code-segment-202",{"style":{},"children":["    "]}]
140b:["$","span","code-segment-203",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
140c:["$","span","code-segment-204",{"style":{},"children":[" lastPlacedIndex"]}]
140d:["$","span","code-segment-205",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
140e:["$","span","code-segment-206",{"style":{},"children":["\n"]}]
140f:["$","span","line-number--35",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[35]}]
1410:["$","span","code-segment-208",{"style":{},"children":["  "]}]
1411:["$","span","code-segment-209",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
1412:["$","span","code-segment-210",{"style":{},"children":["\n"]}]
1413:["$","span","line-number--36",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[36]}]
1414:["$","span","code-segment-212",{"style":{},"children":[""]}]
1415:["$","span","code-segment-213",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
1416:["$","span","code-segment-214",{"style":{},"children":["\n"]}]
1417:["$","span","line-number--37",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[37]}]
1418:["$","span","line-number--38",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[38]}]
1419:["$","span","code-segment-218",{"style":{},"children":[""]}]
141a:["$","span","code-segment-219",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// hash表"]}]
141b:["$","span","code-segment-220",{"style":{},"children":["\n"]}]
141c:["$","span","line-number--39",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[39]}]
141d:["$","span","code-segment-222",{"style":{},"children":[""]}]
141e:["$","span","code-segment-223",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}]
141f:["$","span","code-segment-224",{"style":{},"children":[" "]}]
1420:["$","span","code-segment-225",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["mapRemainingChildren"]}]
1421:["$","span","code-segment-226",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1422:["$","span","code-segment-227",{"className":"token parameter","style":{},"children":["currentFirstChild"]}]
1423:["$","span","code-segment-228",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1424:["$","span","code-segment-229",{"style":{},"children":[" "]}]
1425:["$","span","code-segment-230",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1426:["$","span","code-segment-231",{"style":{},"children":["\n"]}]
1427:["$","span","line-number--40",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[40]}]
1428:["$","span","code-segment-233",{"style":{},"children":["  "]}]
1429:["$","span","code-segment-234",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
142a:["$","span","code-segment-235",{"style":{},"children":[" existingChildren "]}]
142b:["$","span","code-segment-236",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
142c:["$","span","code-segment-237",{"style":{},"children":[" "]}]
142d:["$","span","code-segment-238",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["new"]}]
142e:["$","span","code-segment-239",{"style":{},"children":[" "]}]
142f:["$","span","code-segment-240",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["Map"]}]
1430:["$","span","code-segment-241",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1431:["$","span","code-segment-242",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1432:["$","span","code-segment-243",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1433:["$","span","code-segment-244",{"style":{},"children":["\n"]}]
1434:["$","span","line-number--41",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[41]}]
1435:["$","span","line-number--42",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[42]}]
1436:["$","span","code-segment-248",{"style":{},"children":["  "]}]
1437:["$","span","code-segment-249",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["let"]}]
1438:["$","span","code-segment-250",{"style":{},"children":[" existingChild "]}]
1439:["$","span","code-segment-251",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
143a:["$","span","code-segment-252",{"style":{},"children":[" currentFirstChild"]}]
143b:["$","span","code-segment-253",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
143c:["$","span","code-segment-254",{"style":{},"children":["\n"]}]
143d:["$","span","line-number--43",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[43]}]
143e:["$","span","code-segment-256",{"style":{},"children":["  "]}]
143f:["$","span","code-segment-257",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["while"]}]
1440:["$","span","code-segment-258",{"style":{},"children":[" "]}]
1441:["$","span","code-segment-259",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1442:["$","span","code-segment-260",{"style":{},"children":["existingChild"]}]
1443:["$","span","code-segment-261",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1444:["$","span","code-segment-262",{"style":{},"children":[" "]}]
1445:["$","span","code-segment-263",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1446:["$","span","code-segment-264",{"style":{},"children":["\n"]}]
1447:["$","span","line-number--44",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[44]}]
1448:["$","span","code-segment-266",{"style":{},"children":["    "]}]
1449:["$","span","code-segment-267",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// key: value"]}]
144a:["$","span","code-segment-268",{"style":{},"children":["\n"]}]
144b:["$","span","line-number--45",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[45]}]
144c:["$","span","code-segment-270",{"style":{},"children":["    "]}]
144d:["$","span","code-segment-271",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// key||index: fiber"]}]
144e:["$","span","code-segment-272",{"style":{},"children":["\n"]}]
144f:["$","span","line-number--46",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[46]}]
1450:["$","span","code-segment-274",{"style":{},"children":["    existingChildren"]}]
1451:["$","span","code-segment-275",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
1452:["$","span","code-segment-276",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["set"]}]
1453:["$","span","code-segment-277",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1454:["$","span","code-segment-278",{"style":{},"children":["\n"]}]
1455:["$","span","line-number--47",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[47]}]
1456:["$","span","code-segment-280",{"style":{},"children":["      existingChild"]}]
1457:["$","span","code-segment-281",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
1458:["$","span","code-segment-282",{"className":"token property-access","style":{},"children":["key"]}]
1459:["$","span","code-segment-283",{"style":{},"children":[" "]}]
145a:["$","span","code-segment-284",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["||"]}]
145b:["$","span","code-segment-285",{"style":{},"children":[" existingChild"]}]
145c:["$","span","code-segment-286",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
145d:["$","span","code-segment-287",{"className":"token property-access","style":{},"children":["index"]}]
145e:["$","span","code-segment-288",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
145f:["$","span","code-segment-289",{"style":{},"children":["\n"]}]
1460:["$","span","line-number--48",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[48]}]
1461:["$","span","code-segment-291",{"style":{},"children":["      existingChild"]}]
1462:["$","span","code-segment-292",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
1463:["$","span","code-segment-293",{"style":{},"children":["\n"]}]
1464:["$","span","line-number--49",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[49]}]
1465:["$","span","code-segment-295",{"style":{},"children":["    "]}]
1466:["$","span","code-segment-296",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1467:["$","span","code-segment-297",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1468:["$","span","code-segment-298",{"style":{},"children":["\n"]}]
1469:["$","span","line-number--50",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[50]}]
146a:["$","span","code-segment-300",{"style":{},"children":["    existingChild "]}]
146b:["$","span","code-segment-301",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
146c:["$","span","code-segment-302",{"style":{},"children":[" existingChild"]}]
146d:["$","span","code-segment-303",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
146e:["$","span","code-segment-304",{"className":"token property-access","style":{},"children":["sibling"]}]
146f:["$","span","code-segment-305",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1470:["$","span","code-segment-306",{"style":{},"children":["\n"]}]
1471:["$","span","line-number--51",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[51]}]
1472:["$","span","code-segment-308",{"style":{},"children":["  "]}]
1473:["$","span","code-segment-309",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
1474:["$","span","code-segment-310",{"style":{},"children":["\n"]}]
1475:["$","span","line-number--52",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[52]}]
1476:["$","span","line-number--53",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[53]}]
1477:["$","span","code-segment-314",{"style":{},"children":["  "]}]
1478:["$","span","code-segment-315",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
1479:["$","span","code-segment-316",{"style":{},"children":[" existingChildren"]}]
147a:["$","span","code-segment-317",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
147b:["$","span","code-segment-318",{"style":{},"children":["\n"]}]
147c:["$","span","line-number--54",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[54]}]
147d:["$","span","code-segment-320",{"style":{},"children":[""]}]
147e:["$","span","code-segment-321",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
147f:["$","span","code-segment-24",{"style":{},"children":["  "]}]
1480:["$","span","code-segment-25",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 2 1 3 4"]}]
1481:["$","span","code-segment-26",{"style":{},"children":["\n"]}]
1482:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
1483:["$","span","code-segment-28",{"style":{},"children":["  "]}]
1484:["$","span","code-segment-29",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
1485:["$","span","code-segment-30",{"style":{},"children":[" before "]}]
1486:["$","span","code-segment-31",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
1487:["$","span","code-segment-32",{"style":{},"children":[" "]}]
1488:["$","span","code-segment-33",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["getHostSibling"]}]
1489:["$","span","code-segment-34",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
148a:["$","span","code-segment-35",{"style":{},"children":["wip"]}]
148b:["$","span","code-segment-36",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
148c:["$","span","code-segment-37",{"className":"token property-access","style":{},"children":["sibling"]}]
148d:["$","span","code-segment-38",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
148e:["$","span","code-segment-39",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
148f:["$","span","code-segment-40",{"style":{},"children":["\n"]}]
1490:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
1491:["$","span","code-segment-42",{"style":{},"children":["  "]}]
1492:["$","span","code-segment-43",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["insertOrAppendPlacementNode"]}]
1493:["$","span","code-segment-44",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1494:["$","span","code-segment-45",{"style":{},"children":["stateNode"]}]
1495:["$","span","code-segment-46",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
1496:["$","span","code-segment-47",{"style":{},"children":[" before"]}]
1497:["$","span","code-segment-48",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
1498:["$","span","code-segment-49",{"style":{},"children":[" parentNode"]}]
1499:["$","span","code-segment-50",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
149a:["$","span","code-segment-51",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
149b:["$","span","code-segment-52",{"style":{},"children":["\n"]}]
149c:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
149d:["$","span","code-segment-54",{"style":{},"children":["  "]}]
149e:["$","span","code-segment-55",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// parentNode.appendChild(stateNode);"]}]
149f:["$","span","code-segment-56",{"style":{},"children":["\n"]}]
14a0:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
14a1:["$","span","code-segment-58",{"style":{},"children":[""]}]
14a2:["$","span","code-segment-59",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
14a3:["$","span","code-segment-60",{"style":{},"children":["\n"]}]
14a4:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
14a5:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
14a6:["$","span","code-segment-64",{"style":{},"children":[""]}]
14a7:["$","span","code-segment-65",{"className":"token spread","style":{"color":"hsl(221, 87%, 60%)"},"children":["..."]}]
14a8:["$","span","code-segment-66",{"style":{},"children":["\n"]}]
14a9:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
14aa:["$","span","code-segment-68",{"style":{},"children":[""]}]
14ab:["$","span","code-segment-69",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}]
14ac:["$","span","code-segment-70",{"style":{},"children":[" "]}]
14ad:["$","span","code-segment-71",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["getHostSibling"]}]
14ae:["$","span","code-segment-72",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
14af:["$","span","code-segment-73",{"className":"token parameter","style":{},"children":["sibling"]}]
14b0:["$","span","code-segment-74",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
14b1:["$","span","code-segment-75",{"style":{},"children":[" "]}]
14b2:["$","span","code-segment-76",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
14b3:["$","span","code-segment-77",{"style":{},"children":["\n"]}]
14b4:["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[12]}]
14b5:["$","span","code-segment-79",{"style":{},"children":["  "]}]
14b6:["$","span","code-segment-80",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["while"]}]
14b7:["$","span","code-segment-81",{"style":{},"children":[" "]}]
14b8:["$","span","code-segment-82",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
14b9:["$","span","code-segment-83",{"style":{},"children":["sibling"]}]
14ba:["$","span","code-segment-84",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
14bb:["$","span","code-segment-85",{"style":{},"children":[" "]}]
14bc:["$","span","code-segment-86",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
14bd:["$","span","code-segment-87",{"style":{},"children":["\n"]}]
14be:["$","span","line-number--13",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[13]}]
14bf:["$","span","code-segment-89",{"style":{},"children":["    "]}]
14c0:["$","span","code-segment-90",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
14c1:["$","span","code-segment-91",{"style":{},"children":[" "]}]
14c2:["$","span","code-segment-92",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
14c3:["$","span","code-segment-93",{"style":{},"children":["sibling"]}]
14c4:["$","span","code-segment-94",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
14c5:["$","span","code-segment-95",{"className":"token property-access","style":{},"children":["stateNode"]}]
14c6:["$","span","code-segment-96",{"style":{},"children":[" "]}]
14c7:["$","span","code-segment-97",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["&&"]}]
14c8:["$","span","code-segment-98",{"style":{},"children":[" "]}]
14c9:["$","span","code-segment-99",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["!"]}]
14ca:["$","span","code-segment-100",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
14cb:["$","span","code-segment-101",{"style":{},"children":["sibling"]}]
14cc:["$","span","code-segment-102",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
14cd:["$","span","code-segment-103",{"className":"token property-access","style":{},"children":["flags"]}]
14ce:["$","span","code-segment-104",{"style":{},"children":[" "]}]
14cf:["$","span","code-segment-105",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["&"]}]
14d0:["$","span","code-segment-106",{"style":{},"children":[" "]}]
14d1:["$","span","code-segment-107",{"className":"token maybe-class-name","style":{},"children":["Placement"]}]
14d2:["$","span","code-segment-108",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
14d3:["$","span","code-segment-109",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
14d4:["$","span","code-segment-110",{"style":{},"children":[" "]}]
14d5:["$","span","code-segment-111",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
14d6:["$","span","code-segment-112",{"style":{},"children":["\n"]}]
14d7:["$","span","line-number--14",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[14]}]
14d8:["$","span","code-segment-114",{"style":{},"children":["      "]}]
14d9:["$","span","code-segment-115",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
14da:["$","span","code-segment-116",{"style":{},"children":[" sibling"]}]
14db:["$","span","code-segment-117",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
14dc:["$","span","code-segment-118",{"className":"token property-access","style":{},"children":["stateNode"]}]
14dd:["$","span","code-segment-119",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
14de:["$","span","code-segment-120",{"style":{},"children":["\n"]}]
14df:["$","span","line-number--15",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[15]}]
14e0:["$","span","code-segment-122",{"style":{},"children":["    "]}]
14e1:["$","span","code-segment-123",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
14e2:["$","span","code-segment-124",{"style":{},"children":["\n"]}]
14e3:["$","span","line-number--16",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[16]}]
14e4:["$","span","code-segment-126",{"style":{},"children":["    sibling "]}]
14e5:["$","span","code-segment-127",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
14e6:["$","span","code-segment-128",{"style":{},"children":[" sibling"]}]
14e7:["$","span","code-segment-129",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
14e8:["$","span","code-segment-130",{"className":"token property-access","style":{},"children":["sibling"]}]
14e9:["$","span","code-segment-131",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
14ea:["$","span","code-segment-132",{"style":{},"children":["\n"]}]
14eb:["$","span","line-number--17",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[17]}]
14ec:["$","span","code-segment-134",{"style":{},"children":["  "]}]
14ed:["$","span","code-segment-135",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
14ee:["$","span","code-segment-136",{"style":{},"children":["\n"]}]
14ef:["$","span","line-number--18",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[18]}]
14f0:["$","span","code-segment-138",{"style":{},"children":["  "]}]
14f1:["$","span","code-segment-139",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
14f2:["$","span","code-segment-140",{"style":{},"children":[" "]}]
14f3:["$","span","code-segment-141",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}]
14f4:["$","span","code-segment-142",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
14f5:["$","span","code-segment-143",{"style":{},"children":["\n"]}]
14f6:["$","span","line-number--19",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[19]}]
14f7:["$","span","code-segment-145",{"style":{},"children":[""]}]
14f8:["$","span","code-segment-146",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
14f9:["$","span","code-segment-147",{"style":{},"children":["\n"]}]
14fa:["$","span","line-number--20",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[20]}]
14fb:["$","span","code-segment-149",{"style":{},"children":[""]}]
14fc:["$","span","code-segment-150",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}]
14fd:["$","span","code-segment-151",{"style":{},"children":[" "]}]
14fe:["$","span","code-segment-152",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["insertOrAppendPlacementNode"]}]
14ff:["$","span","code-segment-153",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1500:["$","span","code-segment-154",{"className":"token parameter","style":{},"children":["stateNode"]}]
1501:["$","span","code-segment-155",{"className":"token parameter","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
1502:["$","span","code-segment-156",{"className":"token parameter","style":{},"children":[" before"]}]
1503:["$","span","code-segment-157",{"className":"token parameter","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
1504:["$","span","code-segment-158",{"className":"token parameter","style":{},"children":[" parentNode"]}]
1505:["$","span","code-segment-159",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1506:["$","span","code-segment-160",{"style":{},"children":[" "]}]
1507:["$","span","code-segment-161",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1508:["$","span","code-segment-162",{"style":{},"children":["\n"]}]
1509:["$","span","line-number--21",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[21]}]
150a:["$","span","code-segment-164",{"style":{},"children":["  "]}]
150b:["$","span","code-segment-165",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
150c:["$","span","code-segment-166",{"style":{},"children":[" "]}]
150d:["$","span","code-segment-167",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
150e:["$","span","code-segment-168",{"style":{},"children":["before"]}]
150f:["$","span","code-segment-169",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1510:["$","span","code-segment-170",{"style":{},"children":[" "]}]
1511:["$","span","code-segment-171",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1512:["$","span","code-segment-172",{"style":{},"children":["\n"]}]
1513:["$","span","line-number--22",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[22]}]
1514:["$","span","code-segment-174",{"style":{},"children":["    parentNode"]}]
1515:["$","span","code-segment-175",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
1516:["$","span","code-segment-176",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["insertBefore"]}]
1517:["$","span","code-segment-177",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1518:["$","span","code-segment-178",{"style":{},"children":["stateNode"]}]
1519:["$","span","code-segment-179",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
151a:["$","span","code-segment-180",{"style":{},"children":[" before"]}]
151b:["$","span","code-segment-181",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
151c:["$","span","code-segment-182",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
151d:["$","span","code-segment-183",{"style":{},"children":["\n"]}]
151e:["$","span","line-number--23",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[23]}]
151f:["$","span","code-segment-185",{"style":{},"children":["  "]}]
1520:["$","span","code-segment-186",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
1521:["$","span","code-segment-187",{"style":{},"children":[" "]}]
1522:["$","span","code-segment-188",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["else"]}]
1523:["$","span","code-segment-189",{"style":{},"children":[" "]}]
1524:["$","span","code-segment-190",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1525:["$","span","code-segment-191",{"style":{},"children":["\n"]}]
1526:["$","span","line-number--24",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[24]}]
1527:["$","span","code-segment-193",{"style":{},"children":["    parentNode"]}]
1528:["$","span","code-segment-194",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
1529:["$","span","code-segment-195",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["appendChild"]}]
152a:["$","span","code-segment-196",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
152b:["$","span","code-segment-197",{"style":{},"children":["stateNode"]}]
152c:["$","span","code-segment-198",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
152d:["$","span","code-segment-199",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
152e:["$","span","code-segment-200",{"style":{},"children":["\n"]}]
152f:["$","span","line-number--25",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[25]}]
1530:["$","span","code-segment-202",{"style":{},"children":["  "]}]
1531:["$","span","code-segment-203",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
1532:["$","span","code-segment-204",{"style":{},"children":["\n"]}]
1533:["$","span","line-number--26",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[26]}]
1534:["$","span","code-segment-206",{"style":{},"children":[""]}]
1535:["$","span","code-segment-207",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
1536:["$","span","code-segment-10",{"style":{},"children":[" "]}]
1537:["$","span","code-segment-11",{"className":"token imports maybe-class-name","style":{},"children":["React"]}]
1538:["$","span","code-segment-12",{"style":{},"children":[" "]}]
1539:["$","span","code-segment-13",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["from"]}]
153a:["$","span","code-segment-14",{"style":{},"children":[" "]}]
153b:["$","span","code-segment-15",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["'react'"]}]
153c:["$","span","code-segment-16",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
153d:["$","span","code-segment-17",{"style":{},"children":["\n"]}]
153e:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
153f:["$","span","code-segment-19",{"style":{},"children":[""]}]
1540:["$","span","code-segment-20",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["import"]}]
1541:["$","span","code-segment-21",{"style":{},"children":[" "]}]
1542:["$","span","code-segment-22",{"className":"token imports maybe-class-name","style":{},"children":["Giscus"]}]
1543:["$","span","code-segment-23",{"style":{},"children":[" "]}]
1544:["$","span","code-segment-24",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["from"]}]
1545:["$","span","code-segment-25",{"style":{},"children":[" "]}]
1546:["$","span","code-segment-26",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["'@giscus/react'"]}]
1547:["$","span","code-segment-27",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1548:["$","span","code-segment-28",{"style":{},"children":["\n"]}]
1549:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
154a:["$","span","code-segment-30",{"style":{},"children":[""]}]
154b:["$","span","code-segment-31",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["import"]}]
154c:["$","span","code-segment-32",{"style":{},"children":[" "]}]
154d:["$","span","code-segment-33",{"className":"token imports","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
154e:["$","span","code-segment-34",{"className":"token imports","style":{},"children":[" usePrefersColor "]}]
154f:["$","span","code-segment-35",{"className":"token imports","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
1550:["$","span","code-segment-36",{"style":{},"children":[" "]}]
1551:["$","span","code-segment-37",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["from"]}]
1552:["$","span","code-segment-38",{"style":{},"children":[" "]}]
1553:["$","span","code-segment-39",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["'dumi'"]}]
1554:["$","span","code-segment-40",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1555:["$","span","code-segment-41",{"style":{},"children":["\n"]}]
1556:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
1557:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
1558:["$","span","code-segment-45",{"style":{},"children":[""]}]
1559:["$","span","code-segment-46",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["export"]}]
155a:["$","span","code-segment-47",{"style":{},"children":[" "]}]
155b:["$","span","code-segment-48",{"className":"token module","style":{"color":"hsl(301, 63%, 40%)"},"children":["default"]}]
155c:["$","span","code-segment-49",{"style":{},"children":[" "]}]
155d:["$","span","code-segment-50",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["function"]}]
155e:["$","span","code-segment-51",{"style":{},"children":[" "]}]
155f:["$","span","code-segment-52",{"className":"token maybe-class-name","style":{"color":"hsl(221, 87%, 60%)"},"children":["Main"]}]
1560:["$","span","code-segment-53",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1561:["$","span","code-segment-54",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1562:["$","span","code-segment-55",{"style":{},"children":[" "]}]
1563:["$","span","code-segment-56",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1564:["$","span","code-segment-57",{"style":{},"children":["\n"]}]
1565:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
1566:["$","span","code-segment-59",{"style":{},"children":["  "]}]
1567:["$","span","code-segment-60",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
1568:["$","span","code-segment-61",{"style":{},"children":[" "]}]
1569:["$","span","code-segment-62",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["["]}]
156a:["$","span","code-segment-63",{"style":{},"children":["color"]}]
156b:["$","span","code-segment-64",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["]"]}]
156c:["$","span","code-segment-65",{"style":{},"children":[" "]}]
156d:["$","span","code-segment-66",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
156e:["$","span","code-segment-67",{"style":{},"children":[" "]}]
156f:["$","span","code-segment-68",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["usePrefersColor"]}]
1570:["$","span","code-segment-69",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1571:["$","span","code-segment-70",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1572:["$","span","code-segment-71",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1573:["$","span","code-segment-72",{"style":{},"children":["\n"]}]
1574:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
1575:["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[12]}]
1576:["$","span","code-segment-76",{"style":{},"children":["  "]}]
1577:["$","span","code-segment-77",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
1578:["$","span","code-segment-78",{"style":{},"children":[" "]}]
1579:["$","span","code-segment-79",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
157a:["$","span","code-segment-80",{"style":{},"children":["\n"]}]
157b:["$","span","line-number--13",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[13]}]
157c:["$","span","code-segment-82",{"style":{},"children":["    "]}]
157d:["$","span","code-segment-83",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["<"]}]
157e:["$","span","code-segment-84",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["section"]}]
157f:["$","span","code-segment-85",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":[" "]}]
1580:["$","span","code-segment-86",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["style"]}]
1581:["$","span","code-segment-87",{"className":"token script language-javascript script-punctuation","style":{"color":"hsl(5, 74%, 59%)"},"children":["="]}]
1582:["$","span","code-segment-88",{"className":"token script language-javascript","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1583:["$","span","code-segment-89",{"className":"token script language-javascript","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1584:["$","span","code-segment-90",{"className":"token script language-javascript","style":{"color":"hsl(5, 74%, 59%)"},"children":[" "]}]
1585:["$","span","code-segment-91",{"className":"token script language-javascript literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["marginTop"]}]
1586:["$","span","code-segment-92",{"className":"token script language-javascript","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
1587:["$","span","code-segment-93",{"className":"token script language-javascript","style":{"color":"hsl(5, 74%, 59%)"},"children":[" "]}]
1588:["$","span","code-segment-94",{"className":"token script language-javascript","style":{"color":"hsl(119, 34%, 47%)"},"children":["'32px'"]}]
1589:["$","span","code-segment-95",{"className":"token script language-javascript","style":{"color":"hsl(5, 74%, 59%)"},"children":[" "]}]
158a:["$","span","code-segment-96",{"className":"token script language-javascript","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
158b:["$","span","code-segment-97",{"className":"token script language-javascript","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
158c:["$","span","code-segment-98",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[">"]}]
158d:["$","span","code-segment-99",{"className":"token plain-text","style":{},"children":["\n"]}]
158e:["$","span","line-number--14",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[14]}]
158f:["$","span","code-segment-101",{"className":"token plain-text","style":{},"children":["      "]}]
1590:["$","span","code-segment-102",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["<"]}]
1591:["$","span","code-segment-103",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["Giscus"]}]
1592:["$","span","code-segment-104",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["\n"]}]
1593:["$","span","line-number--15",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[15]}]
1594:["$","span","code-segment-106",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["        "]}]
1595:["$","span","code-segment-107",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["id"]}]
1596:["$","span","code-segment-108",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["="]}]
1597:["$","span","code-segment-109",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
1598:["$","span","code-segment-110",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["comments"]}]
1599:["$","span","code-segment-111",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
159a:["$","span","code-segment-112",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["\n"]}]
159b:["$","span","line-number--16",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[16]}]
159c:["$","span","code-segment-114",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["        "]}]
159d:["$","span","code-segment-115",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["reactionsEnabled"]}]
159e:["$","span","code-segment-116",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["="]}]
159f:["$","span","code-segment-117",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
15a0:["$","span","code-segment-118",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["1"]}]
15a1:["$","span","code-segment-119",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
15a2:["$","span","code-segment-120",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["\n"]}]
15a3:["$","span","line-number--17",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[17]}]
15a4:["$","span","code-segment-122",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["        "]}]
15a5:["$","span","code-segment-123",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["emitMetadata"]}]
15a6:["$","span","code-segment-124",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["="]}]
15a7:["$","span","code-segment-125",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
15a8:["$","span","code-segment-126",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["0"]}]
15a9:["$","span","code-segment-127",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
15aa:["$","span","code-segment-128",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["\n"]}]
15ab:["$","span","line-number--18",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[18]}]
15ac:["$","span","code-segment-130",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["        "]}]
15ad:["$","span","code-segment-131",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["inputPosition"]}]
15ae:["$","span","code-segment-132",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["="]}]
15af:["$","span","code-segment-133",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
15b0:["$","span","code-segment-134",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["bottom"]}]
15b1:["$","span","code-segment-135",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
15b2:["$","span","code-segment-136",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["\n"]}]
15b3:["$","span","line-number--19",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[19]}]
15b4:["$","span","code-segment-138",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["        "]}]
15b5:["$","span","code-segment-139",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["loading"]}]
15b6:["$","span","code-segment-140",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["="]}]
15b7:["$","span","code-segment-141",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
15b8:["$","span","code-segment-142",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["lazy"]}]
15b9:["$","span","code-segment-143",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
15ba:["$","span","code-segment-144",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["\n"]}]
15bb:["$","span","line-number--20",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[20]}]
15bc:["$","span","code-segment-146",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["        "]}]
15bd:["$","span","code-segment-147",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["src"]}]
15be:["$","span","code-segment-148",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["="]}]
15bf:["$","span","code-segment-149",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
15c0:["$","span","code-segment-150",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["https://giscus.app/client.js"]}]
15c1:["$","span","code-segment-151",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
15c2:["$","span","code-segment-152",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["\n"]}]
15c3:["$","span","line-number--21",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[21]}]
15c4:["$","span","code-segment-154",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["        "]}]
15c5:["$","span","code-segment-155",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["repo"]}]
15c6:["$","span","code-segment-156",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["="]}]
15c7:["$","span","code-segment-157",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
15c8:["$","span","code-segment-158",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["UMCloud-FE"]}]
15c9:["$","span","code-segment-159",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
15ca:["$","span","code-segment-160",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["\n"]}]
15cb:["$","span","line-number--22",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[22]}]
15cc:["$","span","code-segment-162",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["        "]}]
15cd:["$","span","code-segment-163",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["repoId"]}]
15ce:["$","span","code-segment-164",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["="]}]
15cf:["$","span","code-segment-165",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
15d0:["$","span","code-segment-166",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["R_kgDOIYRu5Q"]}]
15d1:["$","span","code-segment-167",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
15d2:["$","span","code-segment-168",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["\n"]}]
15d3:["$","span","line-number--23",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[23]}]
15d4:["$","span","code-segment-170",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["        "]}]
15d5:["$","span","code-segment-171",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["category"]}]
15d6:["$","span","code-segment-172",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["="]}]
15d7:["$","span","code-segment-173",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
15d8:["$","span","code-segment-174",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["Announcements"]}]
15d9:["$","span","code-segment-175",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
15da:["$","span","code-segment-176",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["\n"]}]
15db:["$","span","line-number--24",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[24]}]
15dc:["$","span","code-segment-178",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["        "]}]
15dd:["$","span","code-segment-179",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["categoryId"]}]
15de:["$","span","code-segment-180",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["="]}]
15df:["$","span","code-segment-181",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
15e0:["$","span","code-segment-182",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["DIC_kwDOIYRu5c4CU1sl"]}]
15e1:["$","span","code-segment-183",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
15e2:["$","span","code-segment-184",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["\n"]}]
15e3:["$","span","line-number--25",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[25]}]
15e4:["$","span","code-segment-186",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["        "]}]
15e5:["$","span","code-segment-187",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["mapping"]}]
15e6:["$","span","code-segment-188",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["="]}]
15e7:["$","span","code-segment-189",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
15e8:["$","span","code-segment-190",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["URL"]}]
15e9:["$","span","code-segment-191",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
15ea:["$","span","code-segment-192",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["\n"]}]
15eb:["$","span","line-number--26",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[26]}]
15ec:["$","span","code-segment-194",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["        "]}]
15ed:["$","span","code-segment-195",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["strict"]}]
15ee:["$","span","code-segment-196",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["="]}]
15ef:["$","span","code-segment-197",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
15f0:["$","span","code-segment-198",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["0"]}]
15f1:["$","span","code-segment-199",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
15f2:["$","span","code-segment-200",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["\n"]}]
15f3:["$","span","line-number--27",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[27]}]
15f4:["$","span","code-segment-202",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["        "]}]
15f5:["$","span","code-segment-203",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["reactionsEnabled"]}]
15f6:["$","span","code-segment-204",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["="]}]
15f7:["$","span","code-segment-205",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
15f8:["$","span","code-segment-206",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["1"]}]
15f9:["$","span","code-segment-207",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
15fa:["$","span","code-segment-208",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["\n"]}]
15fb:["$","span","line-number--28",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[28]}]
15fc:["$","span","code-segment-210",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["        "]}]
15fd:["$","span","code-segment-211",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["emitMetadata"]}]
15fe:["$","span","code-segment-212",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["="]}]
15ff:["$","span","code-segment-213",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
1600:["$","span","code-segment-214",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["1"]}]
1601:["$","span","code-segment-215",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
1602:["$","span","code-segment-216",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["\n"]}]
1603:["$","span","line-number--29",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[29]}]
1604:["$","span","code-segment-218",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["        "]}]
1605:["$","span","code-segment-219",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["inputPosition"]}]
1606:["$","span","code-segment-220",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["="]}]
1607:["$","span","code-segment-221",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
1608:["$","span","code-segment-222",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["bottom"]}]
1609:["$","span","code-segment-223",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
160a:["$","span","code-segment-224",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["\n"]}]
160b:["$","span","line-number--30",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[30]}]
160c:["$","span","code-segment-226",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["        "]}]
160d:["$","span","code-segment-227",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["theme"]}]
160e:["$","span","code-segment-228",{"className":"token script language-javascript script-punctuation","style":{"color":"hsl(5, 74%, 59%)"},"children":["="]}]
160f:["$","span","code-segment-229",{"className":"token script language-javascript","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1610:["$","span","code-segment-230",{"className":"token script language-javascript","style":{"color":"hsl(5, 74%, 59%)"},"children":["color "]}]
1611:["$","span","code-segment-231",{"className":"token script language-javascript","style":{"color":"hsl(221, 87%, 60%)"},"children":["==="]}]
1612:["$","span","code-segment-232",{"className":"token script language-javascript","style":{"color":"hsl(5, 74%, 59%)"},"children":[" "]}]
1613:["$","span","code-segment-233",{"className":"token script language-javascript","style":{"color":"hsl(119, 34%, 47%)"},"children":["'dark'"]}]
1614:["$","span","code-segment-234",{"className":"token script language-javascript","style":{"color":"hsl(5, 74%, 59%)"},"children":[" "]}]
1615:["$","span","code-segment-235",{"className":"token script language-javascript","style":{"color":"hsl(221, 87%, 60%)"},"children":["?"]}]
1616:["$","span","code-segment-236",{"className":"token script language-javascript","style":{"color":"hsl(5, 74%, 59%)"},"children":[" "]}]
1617:["$","span","code-segment-237",{"className":"token script language-javascript","style":{"color":"hsl(119, 34%, 47%)"},"children":["'dark_tritanopia'"]}]
1618:["$","span","code-segment-238",{"className":"token script language-javascript","style":{"color":"hsl(5, 74%, 59%)"},"children":[" "]}]
1619:["$","span","code-segment-239",{"className":"token script language-javascript","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
161a:["$","span","code-segment-240",{"className":"token script language-javascript","style":{"color":"hsl(5, 74%, 59%)"},"children":[" "]}]
161b:["$","span","code-segment-241",{"className":"token script language-javascript","style":{"color":"hsl(119, 34%, 47%)"},"children":["'light_tritanopia'"]}]
161c:["$","span","code-segment-242",{"className":"token script language-javascript","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
161d:["$","span","code-segment-243",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["\n"]}]
161e:["$","span","line-number--31",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[31]}]
161f:["$","span","code-segment-245",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["        "]}]
1620:["$","span","code-segment-246",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["lang"]}]
1621:["$","span","code-segment-247",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["="]}]
1622:["$","span","code-segment-248",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
1623:["$","span","code-segment-249",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["zh-CN"]}]
1624:["$","span","code-segment-250",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
1625:["$","span","code-segment-251",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["\n"]}]
1626:["$","span","line-number--32",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[32]}]
1627:["$","span","code-segment-253",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["        "]}]
1628:["$","span","code-segment-254",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["loading"]}]
1629:["$","span","code-segment-255",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["="]}]
162a:["$","span","code-segment-256",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
162b:["$","span","code-segment-257",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["lazy"]}]
162c:["$","span","code-segment-258",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
162d:["$","span","code-segment-259",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["\n"]}]
162e:["$","span","line-number--33",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[33]}]
162f:["$","span","code-segment-261",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["        "]}]
1630:["$","span","code-segment-262",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["crossorigin"]}]
1631:["$","span","code-segment-263",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["="]}]
1632:["$","span","code-segment-264",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
1633:["$","span","code-segment-265",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["anonymous"]}]
1634:["$","span","code-segment-266",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["\""]}]
1635:["$","span","code-segment-267",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["\n"]}]
1636:["$","span","line-number--34",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[34]}]
1637:["$","span","code-segment-269",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["        "]}]
1638:["$","span","code-segment-270",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["async"]}]
1639:["$","span","code-segment-271",{"className":"token script language-javascript script-punctuation","style":{"color":"hsl(5, 74%, 59%)"},"children":["="]}]
163a:["$","span","code-segment-272",{"className":"token script language-javascript","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
163b:["$","span","code-segment-273",{"className":"token script language-javascript","style":{"color":"hsl(35, 99%, 36%)"},"children":["true"]}]
163c:["$","span","code-segment-274",{"className":"token script language-javascript","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
163d:["$","span","code-segment-275",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["\n"]}]
163e:["$","span","line-number--35",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[35]}]
163f:["$","span","code-segment-277",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["        "]}]
1640:["$","span","code-segment-278",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// theme={giscusTheme}"]}]
1641:["$","span","code-segment-279",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["\n"]}]
1642:["$","span","line-number--36",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[36]}]
1643:["$","span","code-segment-281",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["      "]}]
1644:["$","span","code-segment-282",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["/>"]}]
1645:["$","span","code-segment-283",{"className":"token plain-text","style":{},"children":["\n"]}]
1646:["$","span","line-number--37",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[37]}]
1647:["$","span","code-segment-285",{"className":"token plain-text","style":{},"children":["    "]}]
1648:["$","span","code-segment-286",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["</"]}]
1649:["$","span","code-segment-287",{"className":"token","style":{"color":"hsl(5, 74%, 59%)"},"children":["section"]}]
164a:["$","span","code-segment-288",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[">"]}]
164b:["$","span","code-segment-289",{"style":{},"children":["\n"]}]
164c:["$","span","line-number--38",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[38]}]
164d:["$","span","code-segment-291",{"style":{},"children":["  "]}]
164e:["$","span","code-segment-292",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
164f:["$","span","code-segment-293",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1650:["$","span","code-segment-294",{"style":{},"children":["\n"]}]
1651:["$","span","line-number--39",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[39]}]
1652:["$","span","code-segment-296",{"style":{},"children":[""]}]
1653:["$","span","code-segment-297",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
1656:null
1657:["$","span","code-segment-35",{"style":{},"children":[" shouldTrackSideEffects "]}]
1658:["$","span","code-segment-36",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
1659:["$","span","code-segment-37",{"style":{},"children":[" "]}]
165a:["$","span","code-segment-38",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["!"]}]
165b:["$","span","code-segment-39",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["!"]}]
165c:["$","span","code-segment-40",{"style":{},"children":["returnFiber"]}]
165d:["$","span","code-segment-41",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
165e:["$","span","code-segment-42",{"className":"token property-access","style":{},"children":["alternate"]}]
165f:["$","span","code-segment-43",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1660:["$","span","code-segment-44",{"style":{},"children":["\n"]}]
1661:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
1662:["$","span","code-segment-46",{"style":{},"children":[""]}]
1663:["$","span","code-segment-47",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["let"]}]
1664:["$","span","code-segment-48",{"style":{},"children":[" previousNewFiber "]}]
1665:["$","span","code-segment-49",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
1666:["$","span","code-segment-50",{"style":{},"children":[" "]}]
1667:["$","span","code-segment-51",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}]
1668:["$","span","code-segment-52",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1669:["$","span","code-segment-53",{"style":{},"children":["\n"]}]
166a:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
166b:["$","span","code-segment-55",{"style":{},"children":[""]}]
166c:["$","span","code-segment-56",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["let"]}]
166d:["$","span","code-segment-57",{"style":{},"children":[" newIndex "]}]
166e:["$","span","code-segment-58",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
166f:["$","span","code-segment-59",{"style":{},"children":[" "]}]
1670:["$","span","code-segment-60",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["0"]}]
1671:["$","span","code-segment-61",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1672:["$","span","code-segment-62",{"style":{},"children":["\n"]}]
1673:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
1674:["$","span","code-segment-64",{"style":{},"children":[""]}]
1675:["$","span","code-segment-65",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 上一次dom节点插入的最远位置"]}]
1676:["$","span","code-segment-66",{"style":{},"children":["\n"]}]
1677:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
1678:["$","span","code-segment-68",{"style":{},"children":[""]}]
1679:["$","span","code-segment-69",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// old 0 1 2 3 4"]}]
167a:["$","span","code-segment-70",{"style":{},"children":["\n"]}]
167b:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
167c:["$","span","code-segment-72",{"style":{},"children":[""]}]
167d:["$","span","code-segment-73",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// new 2 1 3 4"]}]
167e:["$","span","code-segment-74",{"style":{},"children":["\n"]}]
167f:["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[12]}]
1680:["$","span","code-segment-76",{"style":{},"children":[""]}]
1681:["$","span","code-segment-77",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["let"]}]
1682:["$","span","code-segment-78",{"style":{},"children":[" lastPlacedIndex "]}]
1683:["$","span","code-segment-79",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
1684:["$","span","code-segment-80",{"style":{},"children":[" "]}]
1685:["$","span","code-segment-81",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["0"]}]
1686:["$","span","code-segment-82",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1687:["$","span","code-segment-83",{"style":{},"children":["\n"]}]
1688:["$","span","line-number--13",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[13]}]
1689:["$","span","line-number--14",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[14]}]
168a:["$","span","code-segment-87",{"style":{},"children":[""]}]
168b:["$","span","code-segment-88",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// *1. 从左边往右遍历，比较新老节点，如果节点可以复用，继续往右，否则就停止"]}]
168c:["$","span","code-segment-89",{"style":{},"children":["\n"]}]
168d:["$","span","line-number--15",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[15]}]
168e:["$","span","code-segment-91",{"style":{},"children":[""]}]
168f:["$","span","code-segment-92",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["for"]}]
1690:["$","span","code-segment-93",{"style":{},"children":[" "]}]
1691:["$","span","code-segment-94",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1692:["$","span","code-segment-95",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1693:["$","span","code-segment-96",{"style":{},"children":[" oldFiber "]}]
1694:["$","span","code-segment-97",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["&&"]}]
1695:["$","span","code-segment-98",{"style":{},"children":[" newIndex "]}]
1696:["$","span","code-segment-99",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["<"]}]
1697:["$","span","code-segment-100",{"style":{},"children":[" newChildren"]}]
1698:["$","span","code-segment-101",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
1699:["$","span","code-segment-102",{"className":"token property-access","style":{},"children":["length"]}]
169a:["$","span","code-segment-103",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
169b:["$","span","code-segment-104",{"style":{},"children":[" newIndex"]}]
169c:["$","span","code-segment-105",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["++"]}]
169d:["$","span","code-segment-106",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
169e:["$","span","code-segment-107",{"style":{},"children":[" "]}]
169f:["$","span","code-segment-108",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
16a0:["$","span","code-segment-109",{"style":{},"children":["\n"]}]
16a1:["$","span","line-number--16",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[16]}]
16a2:["$","span","code-segment-111",{"style":{},"children":["  "]}]
16a3:["$","span","code-segment-112",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
16a4:["$","span","code-segment-113",{"style":{},"children":[" newChild "]}]
16a5:["$","span","code-segment-114",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
16a6:["$","span","code-segment-115",{"style":{},"children":[" newChildren"]}]
16a7:["$","span","code-segment-116",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["["]}]
16a8:["$","span","code-segment-117",{"style":{},"children":["newIndex"]}]
16a9:["$","span","code-segment-118",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["]"]}]
16aa:["$","span","code-segment-119",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
16ab:["$","span","code-segment-120",{"style":{},"children":["\n"]}]
16ac:["$","span","line-number--17",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[17]}]
16ad:["$","span","code-segment-122",{"style":{},"children":["  "]}]
16ae:["$","span","code-segment-123",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
16af:["$","span","code-segment-124",{"style":{},"children":[" "]}]
16b0:["$","span","code-segment-125",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
16b1:["$","span","code-segment-126",{"style":{},"children":["newChild "]}]
16b2:["$","span","code-segment-127",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["=="]}]
16b3:["$","span","code-segment-128",{"style":{},"children":[" "]}]
16b4:["$","span","code-segment-129",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}]
16b5:["$","span","code-segment-130",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
16b6:["$","span","code-segment-131",{"style":{},"children":[" "]}]
16b7:["$","span","code-segment-132",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
16b8:["$","span","code-segment-133",{"style":{},"children":["\n"]}]
16b9:["$","span","line-number--18",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[18]}]
16ba:["$","span","code-segment-135",{"style":{},"children":["    "]}]
16bb:["$","span","code-segment-136",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["continue"]}]
16bc:["$","span","code-segment-137",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
16bd:["$","span","code-segment-138",{"style":{},"children":["\n"]}]
16be:["$","span","line-number--19",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[19]}]
16bf:["$","span","code-segment-140",{"style":{},"children":["  "]}]
16c0:["$","span","code-segment-141",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
16c1:["$","span","code-segment-142",{"style":{},"children":["\n"]}]
16c2:["$","span","line-number--20",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[20]}]
16c3:["$","span","line-number--21",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[21]}]
16c4:["$","span","code-segment-146",{"style":{},"children":["  "]}]
16c5:["$","span","code-segment-147",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
16c6:["$","span","code-segment-148",{"style":{},"children":[" "]}]
16c7:["$","span","code-segment-149",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
16c8:["$","span","code-segment-150",{"style":{},"children":["oldFiber"]}]
16c9:["$","span","code-segment-151",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
16ca:["$","span","code-segment-152",{"className":"token property-access","style":{},"children":["index"]}]
16cb:["$","span","code-segment-153",{"style":{},"children":[" "]}]
16cc:["$","span","code-segment-154",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[">"]}]
16cd:["$","span","code-segment-155",{"style":{},"children":[" newIndex"]}]
16ce:["$","span","code-segment-156",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
16cf:["$","span","code-segment-157",{"style":{},"children":[" "]}]
16d0:["$","span","code-segment-158",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
16d1:["$","span","code-segment-159",{"style":{},"children":["\n"]}]
16d2:["$","span","line-number--22",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[22]}]
16d3:["$","span","code-segment-161",{"style":{},"children":["    nextOldFiber "]}]
16d4:["$","span","code-segment-162",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
16d5:["$","span","code-segment-163",{"style":{},"children":[" oldFiber"]}]
16d6:["$","span","code-segment-164",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
16d7:["$","span","code-segment-165",{"style":{},"children":["\n"]}]
16d8:["$","span","line-number--23",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[23]}]
16d9:["$","span","code-segment-167",{"style":{},"children":["    oldFiber "]}]
16da:["$","span","code-segment-168",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
16db:["$","span","code-segment-169",{"style":{},"children":[" "]}]
16dc:["$","span","code-segment-170",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}]
16dd:["$","span","code-segment-171",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
16de:["$","span","code-segment-172",{"style":{},"children":["\n"]}]
16df:["$","span","line-number--24",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[24]}]
16e0:["$","span","code-segment-174",{"style":{},"children":["  "]}]
16e1:["$","span","code-segment-175",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
16e2:["$","span","code-segment-176",{"style":{},"children":[" "]}]
16e3:["$","span","code-segment-177",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["else"]}]
16e4:["$","span","code-segment-178",{"style":{},"children":[" "]}]
16e5:["$","span","code-segment-179",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
16e6:["$","span","code-segment-180",{"style":{},"children":["\n"]}]
16e7:["$","span","line-number--25",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[25]}]
16e8:["$","span","code-segment-182",{"style":{},"children":["    nextOldFiber "]}]
16e9:["$","span","code-segment-183",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
16ea:["$","span","code-segment-184",{"style":{},"children":[" oldFiber"]}]
16eb:["$","span","code-segment-185",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
16ec:["$","span","code-segment-186",{"className":"token property-access","style":{},"children":["sibling"]}]
16ed:["$","span","code-segment-187",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
16ee:["$","span","code-segment-188",{"style":{},"children":["\n"]}]
16ef:["$","span","line-number--26",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[26]}]
16f0:["$","span","code-segment-190",{"style":{},"children":["  "]}]
16f1:["$","span","code-segment-191",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
16f2:["$","span","code-segment-192",{"style":{},"children":["\n"]}]
16f3:["$","span","line-number--27",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[27]}]
16f4:["$","span","line-number--28",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[28]}]
16f5:["$","span","code-segment-196",{"style":{},"children":["  "]}]
16f6:["$","span","code-segment-197",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
16f7:["$","span","code-segment-198",{"style":{},"children":[" same "]}]
16f8:["$","span","code-segment-199",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
16f9:["$","span","code-segment-200",{"style":{},"children":[" "]}]
16fa:["$","span","code-segment-201",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["sameNode"]}]
16fb:["$","span","code-segment-202",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
16fc:["$","span","code-segment-203",{"style":{},"children":["newChild"]}]
16fd:["$","span","code-segment-204",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
16fe:["$","span","code-segment-205",{"style":{},"children":[" oldFiber"]}]
16ff:["$","span","code-segment-206",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1700:["$","span","code-segment-207",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1701:["$","span","code-segment-208",{"style":{},"children":["\n"]}]
1702:["$","span","line-number--29",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[29]}]
1703:["$","span","code-segment-210",{"style":{},"children":["  "]}]
1704:["$","span","code-segment-211",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
1705:["$","span","code-segment-212",{"style":{},"children":[" "]}]
1706:["$","span","code-segment-213",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1707:["$","span","code-segment-214",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["!"]}]
1708:["$","span","code-segment-215",{"style":{},"children":["same"]}]
1709:["$","span","code-segment-216",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
170a:["$","span","code-segment-217",{"style":{},"children":[" "]}]
170b:["$","span","code-segment-218",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
170c:["$","span","code-segment-219",{"style":{},"children":["\n"]}]
170d:["$","span","line-number--30",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[30]}]
170e:["$","span","code-segment-221",{"style":{},"children":["    "]}]
170f:["$","span","code-segment-222",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
1710:["$","span","code-segment-223",{"style":{},"children":[" "]}]
1711:["$","span","code-segment-224",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1712:["$","span","code-segment-225",{"style":{},"children":["oldFiber "]}]
1713:["$","span","code-segment-226",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["=="]}]
1714:["$","span","code-segment-227",{"style":{},"children":[" "]}]
1715:["$","span","code-segment-228",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}]
1716:["$","span","code-segment-229",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1717:["$","span","code-segment-230",{"style":{},"children":[" "]}]
1718:["$","span","code-segment-231",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1719:["$","span","code-segment-232",{"style":{},"children":["\n"]}]
171a:["$","span","line-number--31",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[31]}]
171b:["$","span","code-segment-234",{"style":{},"children":["      oldFiber "]}]
171c:["$","span","code-segment-235",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
171d:["$","span","code-segment-236",{"style":{},"children":[" nextOldFiber"]}]
171e:["$","span","code-segment-237",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
171f:["$","span","code-segment-238",{"style":{},"children":["\n"]}]
1720:["$","span","line-number--32",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[32]}]
1721:["$","span","code-segment-240",{"style":{},"children":["    "]}]
1722:["$","span","code-segment-241",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
1723:["$","span","code-segment-242",{"style":{},"children":["\n"]}]
1724:["$","span","line-number--33",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[33]}]
1725:["$","span","code-segment-244",{"style":{},"children":["    "]}]
1726:["$","span","code-segment-245",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["break"]}]
1727:["$","span","code-segment-246",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1728:["$","span","code-segment-247",{"style":{},"children":["\n"]}]
1729:["$","span","line-number--34",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[34]}]
172a:["$","span","code-segment-249",{"style":{},"children":["  "]}]
172b:["$","span","code-segment-250",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
172c:["$","span","code-segment-251",{"style":{},"children":["\n"]}]
172d:["$","span","line-number--35",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[35]}]
172e:["$","span","code-segment-253",{"style":{},"children":["  "]}]
172f:["$","span","code-segment-254",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
1730:["$","span","code-segment-255",{"style":{},"children":[" newFiber "]}]
1731:["$","span","code-segment-256",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
1732:["$","span","code-segment-257",{"style":{},"children":[" "]}]
1733:["$","span","code-segment-258",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["createFiber"]}]
1734:["$","span","code-segment-259",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1735:["$","span","code-segment-260",{"style":{},"children":["newChild"]}]
1736:["$","span","code-segment-261",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
1737:["$","span","code-segment-262",{"style":{},"children":[" returnFiber"]}]
1738:["$","span","code-segment-263",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1739:["$","span","code-segment-264",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
173a:["$","span","code-segment-265",{"style":{},"children":["\n"]}]
173b:["$","span","line-number--36",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[36]}]
173c:["$","span","line-number--37",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[37]}]
173d:["$","span","code-segment-269",{"style":{},"children":["  "]}]
173e:["$","span","code-segment-270",{"className":"token known-class-name","style":{"color":"hsl(35, 99%, 36%)"},"children":["Object"]}]
173f:["$","span","code-segment-271",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
1740:["$","span","code-segment-272",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["assign"]}]
1741:["$","span","code-segment-273",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1742:["$","span","code-segment-274",{"style":{},"children":["newFiber"]}]
1743:["$","span","code-segment-275",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
1744:["$","span","code-segment-276",{"style":{},"children":[" "]}]
1745:["$","span","code-segment-277",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1746:["$","span","code-segment-278",{"style":{},"children":["\n"]}]
1747:["$","span","line-number--38",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[38]}]
1748:["$","span","code-segment-280",{"style":{},"children":["    "]}]
1749:["$","span","code-segment-281",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["stateNode"]}]
174a:["$","span","code-segment-282",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
174b:["$","span","code-segment-283",{"style":{},"children":[" oldFiber"]}]
174c:["$","span","code-segment-284",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
174d:["$","span","code-segment-285",{"className":"token property-access","style":{},"children":["stateNode"]}]
174e:["$","span","code-segment-286",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
174f:["$","span","code-segment-287",{"style":{},"children":["\n"]}]
1750:["$","span","line-number--39",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[39]}]
1751:["$","span","code-segment-289",{"style":{},"children":["    "]}]
1752:["$","span","code-segment-290",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["alternate"]}]
1753:["$","span","code-segment-291",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
1754:["$","span","code-segment-292",{"style":{},"children":[" oldFiber"]}]
1755:["$","span","code-segment-293",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
1756:["$","span","code-segment-294",{"style":{},"children":["\n"]}]
1757:["$","span","line-number--40",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[40]}]
1758:["$","span","code-segment-296",{"style":{},"children":["    "]}]
1759:["$","span","code-segment-297",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["flags"]}]
175a:["$","span","code-segment-298",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
175b:["$","span","code-segment-299",{"style":{},"children":[" "]}]
175c:["$","span","code-segment-300",{"className":"token maybe-class-name","style":{},"children":["Update"]}]
175d:["$","span","code-segment-301",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
175e:["$","span","code-segment-302",{"style":{},"children":["\n"]}]
175f:["$","span","line-number--41",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[41]}]
1760:["$","span","code-segment-304",{"style":{},"children":["  "]}]
1761:["$","span","code-segment-305",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
1762:["$","span","code-segment-306",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1763:["$","span","code-segment-307",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1764:["$","span","code-segment-308",{"style":{},"children":["\n"]}]
1765:["$","span","line-number--42",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[42]}]
1766:["$","span","line-number--43",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[43]}]
1767:["$","span","code-segment-312",{"style":{},"children":["  "]}]
1768:["$","span","code-segment-313",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 节点更新"]}]
1769:["$","span","code-segment-314",{"style":{},"children":["\n"]}]
176a:["$","span","line-number--44",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[44]}]
176b:["$","span","code-segment-316",{"style":{},"children":["  lastPlacedIndex "]}]
176c:["$","span","code-segment-317",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
176d:["$","span","code-segment-318",{"style":{},"children":[" "]}]
176e:["$","span","code-segment-319",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["placeChild"]}]
176f:["$","span","code-segment-320",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1770:["$","span","code-segment-321",{"style":{},"children":["\n"]}]
1771:["$","span","line-number--45",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[45]}]
1772:["$","span","code-segment-323",{"style":{},"children":["    newFiber"]}]
1773:["$","span","code-segment-324",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
1774:["$","span","code-segment-325",{"style":{},"children":["\n"]}]
1775:["$","span","line-number--46",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[46]}]
1776:["$","span","code-segment-327",{"style":{},"children":["    lastPlacedIndex"]}]
1777:["$","span","code-segment-328",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
1778:["$","span","code-segment-329",{"style":{},"children":["\n"]}]
1779:["$","span","line-number--47",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[47]}]
177a:["$","span","code-segment-331",{"style":{},"children":["    newIndex"]}]
177b:["$","span","code-segment-332",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
177c:["$","span","code-segment-333",{"style":{},"children":["\n"]}]
177d:["$","span","line-number--48",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[48]}]
177e:["$","span","code-segment-335",{"style":{},"children":["    shouldTrackSideEffects"]}]
177f:["$","span","code-segment-336",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
1780:["$","span","code-segment-337",{"style":{},"children":["\n"]}]
1781:["$","span","line-number--49",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[49]}]
1782:["$","span","code-segment-339",{"style":{},"children":["  "]}]
1783:["$","span","code-segment-340",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1784:["$","span","code-segment-341",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1785:["$","span","code-segment-342",{"style":{},"children":["\n"]}]
1786:["$","span","line-number--50",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[50]}]
1787:["$","span","line-number--51",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[51]}]
1788:["$","span","code-segment-346",{"style":{},"children":["  "]}]
1789:["$","span","code-segment-347",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
178a:["$","span","code-segment-348",{"style":{},"children":[" "]}]
178b:["$","span","code-segment-349",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
178c:["$","span","code-segment-350",{"style":{},"children":["previousNewFiber "]}]
178d:["$","span","code-segment-351",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["=="]}]
178e:["$","span","code-segment-352",{"style":{},"children":[" "]}]
178f:["$","span","code-segment-353",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}]
1790:["$","span","code-segment-354",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1791:["$","span","code-segment-355",{"style":{},"children":[" "]}]
1792:["$","span","code-segment-356",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1793:["$","span","code-segment-357",{"style":{},"children":["\n"]}]
1794:["$","span","line-number--52",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[52]}]
1795:["$","span","code-segment-359",{"style":{},"children":["    returnFiber"]}]
1796:["$","span","code-segment-360",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
1797:["$","span","code-segment-361",{"className":"token property-access","style":{},"children":["child"]}]
1798:["$","span","code-segment-362",{"style":{},"children":[" "]}]
1799:["$","span","code-segment-363",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
179a:["$","span","code-segment-364",{"style":{},"children":[" newFiber"]}]
179b:["$","span","code-segment-365",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
179c:["$","span","code-segment-366",{"style":{},"children":["\n"]}]
179d:["$","span","line-number--53",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[53]}]
179e:["$","span","code-segment-368",{"style":{},"children":["  "]}]
179f:["$","span","code-segment-369",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
17a0:["$","span","code-segment-370",{"style":{},"children":[" "]}]
17a1:["$","span","code-segment-371",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["else"]}]
17a2:["$","span","code-segment-372",{"style":{},"children":[" "]}]
17a3:["$","span","code-segment-373",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
17a4:["$","span","code-segment-374",{"style":{},"children":["\n"]}]
17a5:["$","span","line-number--54",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[54]}]
17a6:["$","span","code-segment-376",{"style":{},"children":["    previousNewFiber"]}]
17a7:["$","span","code-segment-377",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
17a8:["$","span","code-segment-378",{"className":"token property-access","style":{},"children":["sibling"]}]
17a9:["$","span","code-segment-379",{"style":{},"children":[" "]}]
17aa:["$","span","code-segment-380",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
17ab:["$","span","code-segment-381",{"style":{},"children":[" newFiber"]}]
17ac:["$","span","code-segment-382",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
17ad:["$","span","code-segment-383",{"style":{},"children":["\n"]}]
17ae:["$","span","line-number--55",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[55]}]
17af:["$","span","code-segment-385",{"style":{},"children":["  "]}]
17b0:["$","span","code-segment-386",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
17b1:["$","span","code-segment-387",{"style":{},"children":["\n"]}]
17b2:["$","span","line-number--56",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[56]}]
17b3:["$","span","line-number--57",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[57]}]
17b4:["$","span","code-segment-391",{"style":{},"children":["  previousNewFiber "]}]
17b5:["$","span","code-segment-392",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
17b6:["$","span","code-segment-393",{"style":{},"children":[" newFiber"]}]
17b7:["$","span","code-segment-394",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
17b8:["$","span","code-segment-395",{"style":{},"children":["\n"]}]
17b9:["$","span","line-number--58",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[58]}]
17ba:["$","span","code-segment-397",{"style":{},"children":["  oldFiber "]}]
17bb:["$","span","code-segment-398",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
17bc:["$","span","code-segment-399",{"style":{},"children":[" nextOldFiber"]}]
17bd:["$","span","code-segment-400",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
17be:["$","span","code-segment-401",{"style":{},"children":["\n"]}]
17bf:["$","span","line-number--59",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[59]}]
17c0:["$","span","code-segment-403",{"style":{},"children":[""]}]
17c1:["$","span","code-segment-404",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
17c2:["$","span","code-segment-405",{"style":{},"children":["\n"]}]
17c3:["$","span","line-number--60",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[60]}]
17c4:["$","span","line-number--61",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[61]}]
17c5:["$","span","code-segment-409",{"style":{},"children":[""]}]
17c6:["$","span","code-segment-410",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// *2. 新节点没了，老节点还有"]}]
17c7:["$","span","code-segment-411",{"style":{},"children":["\n"]}]
17c8:["$","span","line-number--62",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[62]}]
17c9:["$","span","code-segment-413",{"style":{},"children":[""]}]
17ca:["$","span","code-segment-414",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 0 1 2"]}]
17cb:["$","span","code-segment-415",{"style":{},"children":["\n"]}]
17cc:["$","span","line-number--63",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[63]}]
17cd:["$","span","code-segment-417",{"style":{},"children":[""]}]
17ce:["$","span","code-segment-418",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 0"]}]
17cf:["$","span","code-segment-419",{"style":{},"children":["\n"]}]
17d0:["$","span","line-number--64",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[64]}]
17d1:["$","span","code-segment-421",{"style":{},"children":[""]}]
17d2:["$","span","code-segment-422",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
17d3:["$","span","code-segment-423",{"style":{},"children":[" "]}]
17d4:["$","span","code-segment-424",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
17d5:["$","span","code-segment-425",{"style":{},"children":["newIndex "]}]
17d6:["$","span","code-segment-426",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["==="]}]
17d7:["$","span","code-segment-427",{"style":{},"children":[" newChildren"]}]
17d8:["$","span","code-segment-428",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
17d9:["$","span","code-segment-429",{"className":"token property-access","style":{},"children":["length"]}]
17da:["$","span","code-segment-430",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
17db:["$","span","code-segment-431",{"style":{},"children":[" "]}]
17dc:["$","span","code-segment-432",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
17dd:["$","span","code-segment-433",{"style":{},"children":["\n"]}]
17de:["$","span","line-number--65",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[65]}]
17df:["$","span","code-segment-435",{"style":{},"children":["  "]}]
17e0:["$","span","code-segment-436",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["deleteRemainingChildren"]}]
17e1:["$","span","code-segment-437",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
17e2:["$","span","code-segment-438",{"style":{},"children":["returnFiber"]}]
17e3:["$","span","code-segment-439",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
17e4:["$","span","code-segment-440",{"style":{},"children":[" oldFiber"]}]
17e5:["$","span","code-segment-441",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
17e6:["$","span","code-segment-442",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
17e7:["$","span","code-segment-443",{"style":{},"children":["\n"]}]
17e8:["$","span","line-number--66",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[66]}]
17e9:["$","span","code-segment-445",{"style":{},"children":["  "]}]
17ea:["$","span","code-segment-446",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["return"]}]
17eb:["$","span","code-segment-447",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
17ec:["$","span","code-segment-448",{"style":{},"children":["\n"]}]
17ed:["$","span","line-number--67",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[67]}]
17ee:["$","span","code-segment-450",{"style":{},"children":[""]}]
17ef:["$","span","code-segment-451",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
17f0:["$","span","code-segment-452",{"style":{},"children":["\n"]}]
17f1:["$","span","line-number--68",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[68]}]
17f2:["$","span","line-number--69",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[69]}]
17f3:["$","span","code-segment-456",{"style":{},"children":[""]}]
17f4:["$","span","code-segment-457",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// *3. 初次渲染"]}]
17f5:["$","span","code-segment-458",{"style":{},"children":["\n"]}]
17f6:["$","span","line-number--70",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[70]}]
17f7:["$","span","code-segment-460",{"style":{},"children":[""]}]
17f8:["$","span","code-segment-461",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 1）初次渲染"]}]
17f9:["$","span","code-segment-462",{"style":{},"children":["\n"]}]
17fa:["$","span","line-number--71",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[71]}]
17fb:["$","span","code-segment-464",{"style":{},"children":[""]}]
17fc:["$","span","code-segment-465",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 2）老节点没了，新节点还有"]}]
17fd:["$","span","code-segment-466",{"style":{},"children":["\n"]}]
17fe:["$","span","line-number--72",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[72]}]
17ff:["$","span","code-segment-468",{"style":{},"children":[""]}]
1800:["$","span","code-segment-469",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
1801:["$","span","code-segment-470",{"style":{},"children":[" "]}]
1802:["$","span","code-segment-471",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1803:["$","span","code-segment-472",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["!"]}]
1804:["$","span","code-segment-473",{"style":{},"children":["oldFiber"]}]
1805:["$","span","code-segment-474",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1806:["$","span","code-segment-475",{"style":{},"children":[" "]}]
1807:["$","span","code-segment-476",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1808:["$","span","code-segment-477",{"style":{},"children":["\n"]}]
1809:["$","span","line-number--73",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[73]}]
180a:["$","span","code-segment-479",{"style":{},"children":["  "]}]
180b:["$","span","code-segment-480",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["for"]}]
180c:["$","span","code-segment-481",{"style":{},"children":[" "]}]
180d:["$","span","code-segment-482",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
180e:["$","span","code-segment-483",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
180f:["$","span","code-segment-484",{"style":{},"children":[" newIndex "]}]
1810:["$","span","code-segment-485",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["<"]}]
1811:["$","span","code-segment-486",{"style":{},"children":[" newChildren"]}]
1812:["$","span","code-segment-487",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
1813:["$","span","code-segment-488",{"className":"token property-access","style":{},"children":["length"]}]
1814:["$","span","code-segment-489",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1815:["$","span","code-segment-490",{"style":{},"children":[" newIndex"]}]
1816:["$","span","code-segment-491",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["++"]}]
1817:["$","span","code-segment-492",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1818:["$","span","code-segment-493",{"style":{},"children":[" "]}]
1819:["$","span","code-segment-494",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
181a:["$","span","code-segment-495",{"style":{},"children":["\n"]}]
181b:["$","span","line-number--74",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[74]}]
181c:["$","span","code-segment-497",{"style":{},"children":["    "]}]
181d:["$","span","code-segment-498",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
181e:["$","span","code-segment-499",{"style":{},"children":[" newChild "]}]
181f:["$","span","code-segment-500",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
1820:["$","span","code-segment-501",{"style":{},"children":[" newChildren"]}]
1821:["$","span","code-segment-502",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["["]}]
1822:["$","span","code-segment-503",{"style":{},"children":["newIndex"]}]
1823:["$","span","code-segment-504",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["]"]}]
1824:["$","span","code-segment-505",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1825:["$","span","code-segment-506",{"style":{},"children":["\n"]}]
1826:["$","span","line-number--75",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[75]}]
1827:["$","span","code-segment-508",{"style":{},"children":["    "]}]
1828:["$","span","code-segment-509",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
1829:["$","span","code-segment-510",{"style":{},"children":[" "]}]
182a:["$","span","code-segment-511",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
182b:["$","span","code-segment-512",{"style":{},"children":["newChild "]}]
182c:["$","span","code-segment-513",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["=="]}]
182d:["$","span","code-segment-514",{"style":{},"children":[" "]}]
182e:["$","span","code-segment-515",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}]
182f:["$","span","code-segment-516",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1830:["$","span","code-segment-517",{"style":{},"children":[" "]}]
1831:["$","span","code-segment-518",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1832:["$","span","code-segment-519",{"style":{},"children":["\n"]}]
1833:["$","span","line-number--76",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[76]}]
1834:["$","span","code-segment-521",{"style":{},"children":["      "]}]
1835:["$","span","code-segment-522",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["continue"]}]
1836:["$","span","code-segment-523",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1837:["$","span","code-segment-524",{"style":{},"children":["\n"]}]
1838:["$","span","line-number--77",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[77]}]
1839:["$","span","code-segment-526",{"style":{},"children":["    "]}]
183a:["$","span","code-segment-527",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
183b:["$","span","code-segment-528",{"style":{},"children":["\n"]}]
183c:["$","span","line-number--78",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[78]}]
183d:["$","span","code-segment-530",{"style":{},"children":["    "]}]
183e:["$","span","code-segment-531",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
183f:["$","span","code-segment-532",{"style":{},"children":[" newFiber "]}]
1840:["$","span","code-segment-533",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
1841:["$","span","code-segment-534",{"style":{},"children":[" "]}]
1842:["$","span","code-segment-535",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["createFiber"]}]
1843:["$","span","code-segment-536",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1844:["$","span","code-segment-537",{"style":{},"children":["newChild"]}]
1845:["$","span","code-segment-538",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
1846:["$","span","code-segment-539",{"style":{},"children":[" returnFiber"]}]
1847:["$","span","code-segment-540",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1848:["$","span","code-segment-541",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1849:["$","span","code-segment-542",{"style":{},"children":["\n"]}]
184a:["$","span","line-number--79",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[79]}]
184b:["$","span","line-number--80",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[80]}]
184c:["$","span","code-segment-546",{"style":{},"children":["    lastPlacedIndex "]}]
184d:["$","span","code-segment-547",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
184e:["$","span","code-segment-548",{"style":{},"children":[" "]}]
184f:["$","span","code-segment-549",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["placeChild"]}]
1850:["$","span","code-segment-550",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1851:["$","span","code-segment-551",{"style":{},"children":["\n"]}]
1852:["$","span","line-number--81",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[81]}]
1853:["$","span","code-segment-553",{"style":{},"children":["      newFiber"]}]
1854:["$","span","code-segment-554",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
1855:["$","span","code-segment-555",{"style":{},"children":["\n"]}]
1856:["$","span","line-number--82",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[82]}]
1857:["$","span","code-segment-557",{"style":{},"children":["      lastPlacedIndex"]}]
1858:["$","span","code-segment-558",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
1859:["$","span","code-segment-559",{"style":{},"children":["\n"]}]
185a:["$","span","line-number--83",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[83]}]
185b:["$","span","code-segment-561",{"style":{},"children":["      newIndex"]}]
185c:["$","span","code-segment-562",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
185d:["$","span","code-segment-563",{"style":{},"children":["\n"]}]
185e:["$","span","line-number--84",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[84]}]
185f:["$","span","code-segment-565",{"style":{},"children":["      shouldTrackSideEffects"]}]
1860:["$","span","code-segment-566",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
1861:["$","span","code-segment-567",{"style":{},"children":["\n"]}]
1862:["$","span","line-number--85",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[85]}]
1863:["$","span","code-segment-569",{"style":{},"children":["    "]}]
1864:["$","span","code-segment-570",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1865:["$","span","code-segment-571",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1866:["$","span","code-segment-572",{"style":{},"children":["\n"]}]
1867:["$","span","line-number--86",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[86]}]
1868:["$","span","line-number--87",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[87]}]
1869:["$","span","code-segment-576",{"style":{},"children":["    "]}]
186a:["$","span","code-segment-577",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
186b:["$","span","code-segment-578",{"style":{},"children":[" "]}]
186c:["$","span","code-segment-579",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
186d:["$","span","code-segment-580",{"style":{},"children":["previousNewFiber "]}]
186e:["$","span","code-segment-581",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["==="]}]
186f:["$","span","code-segment-582",{"style":{},"children":[" "]}]
1870:["$","span","code-segment-583",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}]
1871:["$","span","code-segment-584",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1872:["$","span","code-segment-585",{"style":{},"children":[" "]}]
1873:["$","span","code-segment-586",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1874:["$","span","code-segment-587",{"style":{},"children":["\n"]}]
1875:["$","span","line-number--88",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[88]}]
1876:["$","span","code-segment-589",{"style":{},"children":["      "]}]
1877:["$","span","code-segment-590",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// head node"]}]
1878:["$","span","code-segment-591",{"style":{},"children":["\n"]}]
1879:["$","span","line-number--89",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[89]}]
187a:["$","span","code-segment-593",{"style":{},"children":["      returnFiber"]}]
187b:["$","span","code-segment-594",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
187c:["$","span","code-segment-595",{"className":"token property-access","style":{},"children":["child"]}]
187d:["$","span","code-segment-596",{"style":{},"children":[" "]}]
187e:["$","span","code-segment-597",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
187f:["$","span","code-segment-598",{"style":{},"children":[" newFiber"]}]
1880:["$","span","code-segment-599",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1881:["$","span","code-segment-600",{"style":{},"children":["\n"]}]
1882:["$","span","line-number--90",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[90]}]
1883:["$","span","code-segment-602",{"style":{},"children":["    "]}]
1884:["$","span","code-segment-603",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
1885:["$","span","code-segment-604",{"style":{},"children":[" "]}]
1886:["$","span","code-segment-605",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["else"]}]
1887:["$","span","code-segment-606",{"style":{},"children":[" "]}]
1888:["$","span","code-segment-607",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1889:["$","span","code-segment-608",{"style":{},"children":["\n"]}]
188a:["$","span","line-number--91",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[91]}]
188b:["$","span","code-segment-610",{"style":{},"children":["      previousNewFiber"]}]
188c:["$","span","code-segment-611",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
188d:["$","span","code-segment-612",{"className":"token property-access","style":{},"children":["sibling"]}]
188e:["$","span","code-segment-613",{"style":{},"children":[" "]}]
188f:["$","span","code-segment-614",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
1890:["$","span","code-segment-615",{"style":{},"children":[" newFiber"]}]
1891:["$","span","code-segment-616",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1892:["$","span","code-segment-617",{"style":{},"children":["\n"]}]
1893:["$","span","line-number--92",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[92]}]
1894:["$","span","code-segment-619",{"style":{},"children":["    "]}]
1895:["$","span","code-segment-620",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
1896:["$","span","code-segment-621",{"style":{},"children":["\n"]}]
1897:["$","span","line-number--93",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[93]}]
1898:["$","span","line-number--94",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[94]}]
1899:["$","span","code-segment-625",{"style":{},"children":["    previousNewFiber "]}]
189a:["$","span","code-segment-626",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
189b:["$","span","code-segment-627",{"style":{},"children":[" newFiber"]}]
189c:["$","span","code-segment-628",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
189d:["$","span","code-segment-629",{"style":{},"children":["\n"]}]
189e:["$","span","line-number--95",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[95]}]
189f:["$","span","code-segment-631",{"style":{},"children":["  "]}]
18a0:["$","span","code-segment-632",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
18a1:["$","span","code-segment-633",{"style":{},"children":["\n"]}]
18a2:["$","span","line-number--96",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[96]}]
18a3:["$","span","code-segment-635",{"style":{},"children":[""]}]
18a4:["$","span","code-segment-636",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
18a5:["$","span","code-segment-637",{"style":{},"children":["\n"]}]
18a6:["$","span","line-number--97",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[97]}]
18a7:["$","span","line-number--98",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[98]}]
18a8:["$","span","code-segment-641",{"style":{},"children":[""]}]
18a9:["$","span","code-segment-642",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// *4 新老节点都还有"]}]
18aa:["$","span","code-segment-643",{"style":{},"children":["\n"]}]
18ab:["$","span","line-number--99",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[99]}]
18ac:["$","span","code-segment-645",{"style":{},"children":[""]}]
18ad:["$","span","code-segment-646",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 小而乱"]}]
18ae:["$","span","code-segment-647",{"style":{},"children":["\n"]}]
18af:["$","span","line-number--100",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[100]}]
18b0:["$","span","code-segment-649",{"style":{},"children":[""]}]
18b1:["$","span","code-segment-650",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// old 0 1 [2 3 4]"]}]
18b2:["$","span","code-segment-651",{"style":{},"children":["\n"]}]
18b3:["$","span","line-number--101",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[101]}]
18b4:["$","span","code-segment-653",{"style":{},"children":[""]}]
18b5:["$","span","code-segment-654",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// new 0 1 [3 4]"]}]
18b6:["$","span","code-segment-655",{"style":{},"children":["\n"]}]
18b7:["$","span","line-number--102",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[102]}]
18b8:["$","span","code-segment-657",{"style":{},"children":[""]}]
18b9:["$","span","code-segment-658",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// !4.1 把剩下的old单链表构建哈希表"]}]
18ba:["$","span","code-segment-659",{"style":{},"children":["\n"]}]
18bb:["$","span","line-number--103",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[103]}]
18bc:["$","span","code-segment-661",{"style":{},"children":[""]}]
18bd:["$","span","code-segment-662",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
18be:["$","span","code-segment-663",{"style":{},"children":[" existingChildren "]}]
18bf:["$","span","code-segment-664",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
18c0:["$","span","code-segment-665",{"style":{},"children":[" "]}]
18c1:["$","span","code-segment-666",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["mapRemainingChildren"]}]
18c2:["$","span","code-segment-667",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
18c3:["$","span","code-segment-668",{"style":{},"children":["oldFiber"]}]
18c4:["$","span","code-segment-669",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
18c5:["$","span","code-segment-670",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
18c6:["$","span","code-segment-671",{"style":{},"children":["\n"]}]
18c7:["$","span","line-number--104",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[104]}]
18c8:["$","span","line-number--105",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[105]}]
18c9:["$","span","code-segment-675",{"style":{},"children":[""]}]
18ca:["$","span","code-segment-676",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// !4.2 遍历新节点，通过新节点的key去哈希表中查找节点，找到就复用节点，并且删除哈希表中对应的节点"]}]
18cb:["$","span","code-segment-677",{"style":{},"children":["\n"]}]
18cc:["$","span","line-number--106",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[106]}]
18cd:["$","span","code-segment-679",{"style":{},"children":[""]}]
18ce:["$","span","code-segment-680",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["for"]}]
18cf:["$","span","code-segment-681",{"style":{},"children":[" "]}]
18d0:["$","span","code-segment-682",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
18d1:["$","span","code-segment-683",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
18d2:["$","span","code-segment-684",{"style":{},"children":[" newIndex "]}]
18d3:["$","span","code-segment-685",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["<"]}]
18d4:["$","span","code-segment-686",{"style":{},"children":[" newChildren"]}]
18d5:["$","span","code-segment-687",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
18d6:["$","span","code-segment-688",{"className":"token property-access","style":{},"children":["length"]}]
18d7:["$","span","code-segment-689",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
18d8:["$","span","code-segment-690",{"style":{},"children":[" newIndex"]}]
18d9:["$","span","code-segment-691",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["++"]}]
18da:["$","span","code-segment-692",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
18db:["$","span","code-segment-693",{"style":{},"children":[" "]}]
18dc:["$","span","code-segment-694",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
18dd:["$","span","code-segment-695",{"style":{},"children":["\n"]}]
18de:["$","span","line-number--107",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[107]}]
18df:["$","span","code-segment-697",{"style":{},"children":["  "]}]
18e0:["$","span","code-segment-698",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
18e1:["$","span","code-segment-699",{"style":{},"children":[" newChild "]}]
18e2:["$","span","code-segment-700",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
18e3:["$","span","code-segment-701",{"style":{},"children":[" newChildren"]}]
18e4:["$","span","code-segment-702",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["["]}]
18e5:["$","span","code-segment-703",{"style":{},"children":["newIndex"]}]
18e6:["$","span","code-segment-704",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["]"]}]
18e7:["$","span","code-segment-705",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
18e8:["$","span","code-segment-706",{"style":{},"children":["\n"]}]
18e9:["$","span","line-number--108",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[108]}]
18ea:["$","span","code-segment-708",{"style":{},"children":["  "]}]
18eb:["$","span","code-segment-709",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
18ec:["$","span","code-segment-710",{"style":{},"children":[" "]}]
18ed:["$","span","code-segment-711",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
18ee:["$","span","code-segment-712",{"style":{},"children":["newChild "]}]
18ef:["$","span","code-segment-713",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["=="]}]
18f0:["$","span","code-segment-714",{"style":{},"children":[" "]}]
18f1:["$","span","code-segment-715",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}]
18f2:["$","span","code-segment-716",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
18f3:["$","span","code-segment-717",{"style":{},"children":[" "]}]
18f4:["$","span","code-segment-718",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
18f5:["$","span","code-segment-719",{"style":{},"children":["\n"]}]
18f6:["$","span","line-number--109",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[109]}]
18f7:["$","span","code-segment-721",{"style":{},"children":["    "]}]
18f8:["$","span","code-segment-722",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["continue"]}]
18f9:["$","span","code-segment-723",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
18fa:["$","span","code-segment-724",{"style":{},"children":["\n"]}]
18fb:["$","span","line-number--110",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[110]}]
18fc:["$","span","code-segment-726",{"style":{},"children":["  "]}]
18fd:["$","span","code-segment-727",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
18fe:["$","span","code-segment-728",{"style":{},"children":["\n"]}]
18ff:["$","span","line-number--111",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[111]}]
1900:["$","span","code-segment-730",{"style":{},"children":["  "]}]
1901:["$","span","code-segment-731",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
1902:["$","span","code-segment-732",{"style":{},"children":[" newFiber "]}]
1903:["$","span","code-segment-733",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
1904:["$","span","code-segment-734",{"style":{},"children":[" "]}]
1905:["$","span","code-segment-735",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["createFiber"]}]
1906:["$","span","code-segment-736",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1907:["$","span","code-segment-737",{"style":{},"children":["newChild"]}]
1908:["$","span","code-segment-738",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
1909:["$","span","code-segment-739",{"style":{},"children":[" returnFiber"]}]
190a:["$","span","code-segment-740",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
190b:["$","span","code-segment-741",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
190c:["$","span","code-segment-742",{"style":{},"children":["\n"]}]
190d:["$","span","line-number--112",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[112]}]
190e:["$","span","line-number--113",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[113]}]
190f:["$","span","code-segment-746",{"style":{},"children":["  "]}]
1910:["$","span","code-segment-747",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// oldFiber"]}]
1911:["$","span","code-segment-748",{"style":{},"children":["\n"]}]
1912:["$","span","line-number--114",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[114]}]
1913:["$","span","code-segment-750",{"style":{},"children":["  "]}]
1914:["$","span","code-segment-751",{"className":"token","style":{"color":"hsl(301, 63%, 40%)"},"children":["const"]}]
1915:["$","span","code-segment-752",{"style":{},"children":[" matchedFiber "]}]
1916:["$","span","code-segment-753",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
1917:["$","span","code-segment-754",{"style":{},"children":[" existingChildren"]}]
1918:["$","span","code-segment-755",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
1919:["$","span","code-segment-756",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["get"]}]
191a:["$","span","code-segment-757",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
191b:["$","span","code-segment-758",{"style":{},"children":["newFiber"]}]
191c:["$","span","code-segment-759",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
191d:["$","span","code-segment-760",{"className":"token property-access","style":{},"children":["key"]}]
191e:["$","span","code-segment-761",{"style":{},"children":[" "]}]
191f:["$","span","code-segment-762",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["||"]}]
1920:["$","span","code-segment-763",{"style":{},"children":[" newFiber"]}]
1921:["$","span","code-segment-764",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
1922:["$","span","code-segment-765",{"className":"token property-access","style":{},"children":["index"]}]
1923:["$","span","code-segment-766",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1924:["$","span","code-segment-767",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1925:["$","span","code-segment-768",{"style":{},"children":["\n"]}]
1926:["$","span","line-number--115",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[115]}]
1927:["$","span","code-segment-770",{"style":{},"children":["  "]}]
1928:["$","span","code-segment-771",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
1929:["$","span","code-segment-772",{"style":{},"children":[" "]}]
192a:["$","span","code-segment-773",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
192b:["$","span","code-segment-774",{"style":{},"children":["matchedFiber"]}]
192c:["$","span","code-segment-775",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
192d:["$","span","code-segment-776",{"style":{},"children":[" "]}]
192e:["$","span","code-segment-777",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
192f:["$","span","code-segment-778",{"style":{},"children":["\n"]}]
1930:["$","span","line-number--116",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[116]}]
1931:["$","span","code-segment-780",{"style":{},"children":["    "]}]
1932:["$","span","code-segment-781",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 节点复用"]}]
1933:["$","span","code-segment-782",{"style":{},"children":["\n"]}]
1934:["$","span","line-number--117",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[117]}]
1935:["$","span","code-segment-784",{"style":{},"children":["    "]}]
1936:["$","span","code-segment-785",{"className":"token known-class-name","style":{"color":"hsl(35, 99%, 36%)"},"children":["Object"]}]
1937:["$","span","code-segment-786",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
1938:["$","span","code-segment-787",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["assign"]}]
1939:["$","span","code-segment-788",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
193a:["$","span","code-segment-789",{"style":{},"children":["newFiber"]}]
193b:["$","span","code-segment-790",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
193c:["$","span","code-segment-791",{"style":{},"children":[" "]}]
193d:["$","span","code-segment-792",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
193e:["$","span","code-segment-793",{"style":{},"children":["\n"]}]
193f:["$","span","line-number--118",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[118]}]
1940:["$","span","code-segment-795",{"style":{},"children":["      "]}]
1941:["$","span","code-segment-796",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["stateNode"]}]
1942:["$","span","code-segment-797",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
1943:["$","span","code-segment-798",{"style":{},"children":[" matchedFiber"]}]
1944:["$","span","code-segment-799",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
1945:["$","span","code-segment-800",{"className":"token property-access","style":{},"children":["stateNode"]}]
1946:["$","span","code-segment-801",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
1947:["$","span","code-segment-802",{"style":{},"children":["\n"]}]
1948:["$","span","line-number--119",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[119]}]
1949:["$","span","code-segment-804",{"style":{},"children":["      "]}]
194a:["$","span","code-segment-805",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["alternate"]}]
194b:["$","span","code-segment-806",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
194c:["$","span","code-segment-807",{"style":{},"children":[" matchedFiber"]}]
194d:["$","span","code-segment-808",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
194e:["$","span","code-segment-809",{"style":{},"children":["\n"]}]
194f:["$","span","line-number--120",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[120]}]
1950:["$","span","code-segment-811",{"style":{},"children":["      "]}]
1951:["$","span","code-segment-812",{"className":"token literal-property","style":{"color":"hsl(5, 74%, 59%)"},"children":["flags"]}]
1952:["$","span","code-segment-813",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
1953:["$","span","code-segment-814",{"style":{},"children":[" "]}]
1954:["$","span","code-segment-815",{"className":"token maybe-class-name","style":{},"children":["Update"]}]
1955:["$","span","code-segment-816",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
1956:["$","span","code-segment-817",{"style":{},"children":["\n"]}]
1957:["$","span","line-number--121",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[121]}]
1958:["$","span","code-segment-819",{"style":{},"children":["    "]}]
1959:["$","span","code-segment-820",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
195a:["$","span","code-segment-821",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
195b:["$","span","code-segment-822",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
195c:["$","span","code-segment-823",{"style":{},"children":["\n"]}]
195d:["$","span","line-number--122",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[122]}]
195e:["$","span","line-number--123",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[123]}]
195f:["$","span","code-segment-827",{"style":{},"children":["    existingChildren"]}]
1960:["$","span","code-segment-828",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
1961:["$","span","code-segment-829",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["delete"]}]
1962:["$","span","code-segment-830",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1963:["$","span","code-segment-831",{"style":{},"children":["newFiber"]}]
1964:["$","span","code-segment-832",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
1965:["$","span","code-segment-833",{"className":"token property-access","style":{},"children":["key"]}]
1966:["$","span","code-segment-834",{"style":{},"children":[" "]}]
1967:["$","span","code-segment-835",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["||"]}]
1968:["$","span","code-segment-836",{"style":{},"children":[" newFiber"]}]
1969:["$","span","code-segment-837",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
196a:["$","span","code-segment-838",{"className":"token property-access","style":{},"children":["index"]}]
196b:["$","span","code-segment-839",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
196c:["$","span","code-segment-840",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
196d:["$","span","code-segment-841",{"style":{},"children":["\n"]}]
196e:["$","span","line-number--124",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[124]}]
196f:["$","span","code-segment-843",{"style":{},"children":["  "]}]
1970:["$","span","code-segment-844",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
1971:["$","span","code-segment-845",{"style":{},"children":["\n"]}]
1972:["$","span","line-number--125",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[125]}]
1973:["$","span","line-number--126",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[126]}]
1974:["$","span","code-segment-849",{"style":{},"children":["  lastPlacedIndex "]}]
1975:["$","span","code-segment-850",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
1976:["$","span","code-segment-851",{"style":{},"children":[" "]}]
1977:["$","span","code-segment-852",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["placeChild"]}]
1978:["$","span","code-segment-853",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1979:["$","span","code-segment-854",{"style":{},"children":["\n"]}]
197a:["$","span","line-number--127",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[127]}]
197b:["$","span","code-segment-856",{"style":{},"children":["    newFiber"]}]
197c:["$","span","code-segment-857",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
197d:["$","span","code-segment-858",{"style":{},"children":["\n"]}]
197e:["$","span","line-number--128",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[128]}]
197f:["$","span","code-segment-860",{"style":{},"children":["    lastPlacedIndex"]}]
1980:["$","span","code-segment-861",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
1981:["$","span","code-segment-862",{"style":{},"children":["\n"]}]
1982:["$","span","line-number--129",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[129]}]
1983:["$","span","code-segment-864",{"style":{},"children":["    newIndex"]}]
1984:["$","span","code-segment-865",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
1985:["$","span","code-segment-866",{"style":{},"children":["\n"]}]
1986:["$","span","line-number--130",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[130]}]
1987:["$","span","code-segment-868",{"style":{},"children":["    shouldTrackSideEffects"]}]
1988:["$","span","code-segment-869",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
1989:["$","span","code-segment-870",{"style":{},"children":["\n"]}]
198a:["$","span","line-number--131",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[131]}]
198b:["$","span","code-segment-872",{"style":{},"children":["  "]}]
198c:["$","span","code-segment-873",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
198d:["$","span","code-segment-874",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
198e:["$","span","code-segment-875",{"style":{},"children":["\n"]}]
198f:["$","span","line-number--132",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[132]}]
1990:["$","span","line-number--133",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[133]}]
1991:["$","span","code-segment-879",{"style":{},"children":["  "]}]
1992:["$","span","code-segment-880",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
1993:["$","span","code-segment-881",{"style":{},"children":[" "]}]
1994:["$","span","code-segment-882",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
1995:["$","span","code-segment-883",{"style":{},"children":["previousNewFiber "]}]
1996:["$","span","code-segment-884",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["=="]}]
1997:["$","span","code-segment-885",{"style":{},"children":[" "]}]
1998:["$","span","code-segment-886",{"className":"token nil","style":{"color":"hsl(301, 63%, 40%)"},"children":["null"]}]
1999:["$","span","code-segment-887",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
199a:["$","span","code-segment-888",{"style":{},"children":[" "]}]
199b:["$","span","code-segment-889",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
199c:["$","span","code-segment-890",{"style":{},"children":["\n"]}]
199d:["$","span","line-number--134",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[134]}]
199e:["$","span","code-segment-892",{"style":{},"children":["    returnFiber"]}]
199f:["$","span","code-segment-893",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
19a0:["$","span","code-segment-894",{"className":"token property-access","style":{},"children":["child"]}]
19a1:["$","span","code-segment-895",{"style":{},"children":[" "]}]
19a2:["$","span","code-segment-896",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
19a3:["$","span","code-segment-897",{"style":{},"children":[" newFiber"]}]
19a4:["$","span","code-segment-898",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
19a5:["$","span","code-segment-899",{"style":{},"children":["\n"]}]
19a6:["$","span","line-number--135",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[135]}]
19a7:["$","span","code-segment-901",{"style":{},"children":["  "]}]
19a8:["$","span","code-segment-902",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
19a9:["$","span","code-segment-903",{"style":{},"children":[" "]}]
19aa:["$","span","code-segment-904",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["else"]}]
19ab:["$","span","code-segment-905",{"style":{},"children":[" "]}]
19ac:["$","span","code-segment-906",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
19ad:["$","span","code-segment-907",{"style":{},"children":["\n"]}]
19ae:["$","span","line-number--136",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[136]}]
19af:["$","span","code-segment-909",{"style":{},"children":["    previousNewFiber"]}]
19b0:["$","span","code-segment-910",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
19b1:["$","span","code-segment-911",{"className":"token property-access","style":{},"children":["sibling"]}]
19b2:["$","span","code-segment-912",{"style":{},"children":[" "]}]
19b3:["$","span","code-segment-913",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
19b4:["$","span","code-segment-914",{"style":{},"children":[" newFiber"]}]
19b5:["$","span","code-segment-915",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
19b6:["$","span","code-segment-916",{"style":{},"children":["\n"]}]
19b7:["$","span","line-number--137",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[137]}]
19b8:["$","span","code-segment-918",{"style":{},"children":["  "]}]
19b9:["$","span","code-segment-919",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
19ba:["$","span","code-segment-920",{"style":{},"children":["\n"]}]
19bb:["$","span","line-number--138",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[138]}]
19bc:["$","span","code-segment-922",{"style":{},"children":["  previousNewFiber "]}]
19bd:["$","span","code-segment-923",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
19be:["$","span","code-segment-924",{"style":{},"children":[" newFiber"]}]
19bf:["$","span","code-segment-925",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
19c0:["$","span","code-segment-926",{"style":{},"children":["\n"]}]
19c1:["$","span","line-number--139",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[139]}]
19c2:["$","span","code-segment-928",{"style":{},"children":[""]}]
19c3:["$","span","code-segment-929",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
19c4:["$","span","code-segment-930",{"style":{},"children":["\n"]}]
19c5:["$","span","line-number--140",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[140]}]
19c6:["$","span","line-number--141",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[141]}]
19c7:["$","span","code-segment-934",{"style":{},"children":[""]}]
19c8:["$","span","code-segment-935",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// *5 old的哈希表中还有值，遍历哈希表删除所有old"]}]
19c9:["$","span","code-segment-936",{"style":{},"children":["\n"]}]
19ca:["$","span","line-number--142",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[142]}]
19cb:["$","span","code-segment-938",{"style":{},"children":[""]}]
19cc:["$","span","code-segment-939",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["if"]}]
19cd:["$","span","code-segment-940",{"style":{},"children":[" "]}]
19ce:["$","span","code-segment-941",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
19cf:["$","span","code-segment-942",{"style":{},"children":["shouldTrackSideEffects"]}]
19d0:["$","span","code-segment-943",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
19d1:["$","span","code-segment-944",{"style":{},"children":[" "]}]
19d2:["$","span","code-segment-945",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
19d3:["$","span","code-segment-946",{"style":{},"children":["\n"]}]
19d4:["$","span","line-number--143",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[143]}]
19d5:["$","span","code-segment-948",{"style":{},"children":["  existingChildren"]}]
19d6:["$","span","code-segment-949",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
19d7:["$","span","code-segment-950",{"className":"token method property-access","style":{"color":"hsl(221, 87%, 60%)"},"children":["forEach"]}]
19d8:["$","span","code-segment-951",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
19d9:["$","span","code-segment-952",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
19da:["$","span","code-segment-953",{"className":"token parameter","style":{},"children":["child"]}]
19db:["$","span","code-segment-954",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
19dc:["$","span","code-segment-955",{"style":{},"children":[" "]}]
19dd:["$","span","code-segment-956",{"className":"token arrow","style":{"color":"hsl(221, 87%, 60%)"},"children":["=>"]}]
19de:["$","span","code-segment-957",{"style":{},"children":[" "]}]
19df:["$","span","code-segment-958",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["deleteChild"]}]
19e0:["$","span","code-segment-959",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
19e1:["$","span","code-segment-960",{"style":{},"children":["returnFiber"]}]
19e2:["$","span","code-segment-961",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[","]}]
19e3:["$","span","code-segment-962",{"style":{},"children":[" child"]}]
19e4:["$","span","code-segment-963",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
19e5:["$","span","code-segment-964",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
19e6:["$","span","code-segment-965",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
19e7:["$","span","code-segment-966",{"style":{},"children":["\n"]}]
19e8:["$","span","line-number--144",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[144]}]
19e9:["$","span","code-segment-968",{"style":{},"children":[""]}]
19ea:["$","span","code-segment-969",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
