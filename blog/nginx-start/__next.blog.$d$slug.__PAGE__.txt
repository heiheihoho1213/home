1:"$Sreact.fragment"
2:I[48226,["/_next/static/chunks/13d576de3999a9ec.js"],""]
235:I[99706,["/_next/static/chunks/b18da497cd71639c.js","/_next/static/chunks/a43937f87dbafba4.js"],"OutletBoundary"]
236:"$Sreact.suspense"
:HL["/img/posts/2023-3-18/2023-3-18-1.png","image"]
:HL["/img/posts/2023-3-18/2023-3-18-2.png","image"]
:HL["/img/posts/2023-3-18/2023-3-18-3.png","image"]
:HL["/img/posts/2023-3-18/2023-3-18-4.png","image"]
:HL["/img/posts/2023-3-18/2023-3-18-5.png","image"]
:HL["/img/posts/2023-3-18/2023-3-18-6.png","image"]
:HL["/img/posts/2023-3-18/2023-3-18-7.png","image"]
:HL["/img/posts/2023-3-18/2023-3-18-8.png","image"]
:HL["/img/posts/2023-3-18/2023-3-18-9.png","image"]
:HL["/img/posts/2023-3-18/2023-3-18-10.png","image"]
:HL["/img/posts/2023-3-18/2023-3-18-11.png","image"]
0:{"buildId":"gG-fcHfRh54-2G67d48NM","rsc":["$","$1","c",{"children":[["$","div",null,{"className":"max-w-4xl mx-auto","children":[["$","$L2",null,{"href":"/blog","children":["$","button",null,{"className":"\n        relative font-bold uppercase tracking-wider border-2 border-black transition-all duration-75 active:top-[4px] active:left-[4px] active:shadow-none \n        bg-white text-black hover:bg-gray-100 \n        shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]\n        py-3 px-6 \n         \n        mb-8\n      ","children":"← Back to Overview"}]}],["$","div",null,{"className":"\n      border-2 border-black \n      bg-white\n      shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]\n      \n      p-8 md:p-12 bg-white\n    ","children":[["$","div",null,{"className":"border-b-4 border-black pb-6 mb-8","children":[["$","div",null,{"className":"flex flex-wrap items-center gap-4 mb-4 text-sm font-bold uppercase tracking-wider text-gray-500","children":[["$","span",null,{"children":"2023-03-18"}],["$","span",null,{"children":"•"}],["$","span",null,{"children":["10 min"," ","read"]}],["$","span",null,{"className":"hidden sm:inline","children":"•"}],["$","div",null,{"className":"flex gap-2","children":[["$","span","Nginx",{"className":"bg-yellow-200 border border-black px-1.5 py-0.5 text-[10px] text-black","children":"Nginx"}]]}]]}],["$","h1",null,{"className":"text-4xl md:text-4xl font-black uppercase leading-none","children":"前端Nginx配置指北 + HTTPS安全原理"}]]}],["$","div",null,{"className":"prose prose-xl prose-black max-w-none font-medium markdown-content","children":[["$","p","p-0",{"className":"mb-4 text-lg leading-relaxed","children":"对于一个前端开发，虽然服务器开发部署不是主要业务，但是，独立开发前端项目总归是挂载在服务器上才能跑起来的，不能总指望运维来做这个工作。而且，作为一个程序员，不可能对项目部署一点都不了解。"}],"\n",["$","p","p-1",{"className":"mb-4 text-lg leading-relaxed","children":"本文就讲一下作为一个前端开发应该要掌握的基本的 nginx 服务."}],"\n",["$","blockquote","blockquote-0",{"className":"bg-gray-100 p-4 border-l-4 border-black italic my-4","children":["\n",["$","p","p-0",{"className":"mb-4 text-lg leading-relaxed","children":["关于 nginx 与 CI 配合的使用，见我的文章：",["$","a","a-0",{"href":"https://juejin.cn/post/7183517146729693221","className":"text-blue-600 hover:underline font-bold whitespace-wrap break-words","target":"_blank","rel":"noopener noreferrer","children":"https://juejin.cn/post/7183517146729693221"}]]}],"\n"]}],"\n",["$","h2","h2-0",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"1. 概念"}],"\n",["$","ul","ul-0",{"className":"ml-4 list-disc mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"正向代理"}],"\n"]}],"\n",["$","p","p-2",{"className":"mb-4 text-lg leading-relaxed","children":["特点：用户主动去联系分发设备，分发设备来判断分发的目标服务器。此时，",["$","strong","strong-0",{"className":"font-black","children":"用户对于服务器未知"}],"。"]}],"\n",["$","p","p-3",{"className":"mb-4 text-lg leading-relaxed","children":"路由器是正向代理的一个例子，与用户在一侧，有最大带宽限制。"}],"\n",["$","p","p-4",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-3-18/2023-3-18-1.png","alt":"image.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-3-18/2023-3-18-1.png","alt":"image.png"},"children":[],"position":{"start":{"line":15,"column":1,"offset":301},"end":{"line":15,"column":51,"offset":351}}}}]}],"\n",["$","ul","ul-1",{"className":"ml-4 list-disc mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"反向代理"}],"\n"]}],"\n",["$","p","p-5",{"className":"mb-4 text-lg leading-relaxed","children":["反向代理一般是部署在服务侧的，灵活很多，可以做负载分流和扩展功能等。但是对于用户而言，反向代理服务器就相当于目标服务器，即用户直接访问反向代理服务器就可以获得目标服务器的资源。此时，",["$","strong","strong-0",{"className":"font-black","children":"服务器对于用户未知"}],"，提高了安全性。"]}],"\n",["$","p","p-6",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-3-18/2023-3-18-2.png","alt":"image.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-3-18/2023-3-18-2.png","alt":"image.png"},"children":[],"position":{"start":{"line":21,"column":1,"offset":475},"end":{"line":21,"column":51,"offset":525}}}}]}],"\n","$L3","\n","$L4","\n","$L5","\n","$L6","\n","$L7","\n","$L8","\n","$L9","\n","$La","\n","$Lb","\n","$Lc","\n","$Ld","\n","$Le","\n","$Lf","\n","$L10","\n","$L11","\n","$L12","\n","$L13","\n","$L14","\n","$L15","\n","$L16","\n","$L17","\n","$L18","\n","$L19","\n","$L1a","\n","$L1b","\n","$L1c","\n","$L1d","\n","$L1e","\n","$L1f","\n","$L20","\n","$L21","\n","$L22","\n","$L23","\n","$L24","\n","$L25","\n","$L26","\n","$L27","\n","$L28","\n","$L29","\n","$L2a","\n","$L2b","\n","$L2c","\n","$L2d","\n","$L2e","\n","$L2f","\n","$L30","\n","$L31","\n","$L32","\n","$L33","\n","$L34","\n","$L35","\n","$L36","\n","$L37","\n","$L38","\n","$L39","\n","$L3a","\n","$L3b","\n","$L3c","\n","$L3d","\n","$L3e","\n","$L3f","\n","$L40","\n","$L41","\n","$L42","\n","$L43","\n","$L44","\n","$L45","\n","$L46","\n","$L47","\n","$L48","\n","$L49","\n","$L4a","\n","$L4b","\n","$L4c","\n","$L4d","\n","$L4e","\n","$L4f","\n","$L50","\n","$L51","\n","$L52","\n","$L53","\n","$L54","\n","$L55","\n","$L56","\n","$L57","\n","$L58","\n","$L59","\n","$L5a","\n","$L5b","\n","$L5c","\n","$L5d","\n","$L5e","\n","$L5f","\n","$L60","\n","$L61","\n","$L62","\n","$L63","\n","$L64","\n","$L65","\n","$L66","\n","$L67","\n","$L68","\n","$L69","\n","$L6a","\n","$L6b","\n","$L6c","\n","$L6d","\n","$L6e","\n","$L6f","\n","$L70","\n","$L71","\n","$L72","\n","$L73","\n","$L74","\n","$L75","\n","$L76","\n","$L77","\n","$L78","\n","$L79","\n","$L7a","\n","$L7b","\n","$L7c","\n","$L7d","\n","$L7e","\n","$L7f","\n","$L80","\n","$L81","\n","$L82","\n","$L83","\n","$L84","\n","$L85","\n","$L86","\n","$L87","\n","$L88","\n","$L89","\n","$L8a","\n","$L8b","\n","$L8c","\n","$L8d","\n","$L8e","\n","$L8f","\n","$L90","\n","$L91","\n","$L92","\n","$L93","\n","$L94","\n","$L95"]}]]}]]}],null,"$L96"]}],"loading":null,"isPartial":false}
3:["$","p","p-7",{"className":"mb-4 text-lg leading-relaxed","children":"nginx 便是高性能的 HTTP 和反向代理 web 服务器"}]
4:["$","p","p-8",{"className":"mb-4 text-lg leading-relaxed","children":"一个nginx的使用例子就是虚拟主机：多个域名绑定一个主机，由 nginx 转发不同的资源。"}]
5:["$","h2","h2-1",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"2. 安装与部署前端应用"}]
6:["$","ul","ul-2",{"className":"ml-4 list-disc mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"平台：CentOS7 虚拟机"}],"\n",["$","li","li-1",{"className":"font-bold mb-2","children":"安装版本：目前最新 1.21.6"}],"\n",["$","li","li-2",{"className":"font-bold mb-2","children":["下载地址：",["$","a","a-0",{"href":"https://nginx.p2hp.com/en/download.html","className":"text-blue-600 hover:underline font-bold whitespace-wrap break-words","target":"_blank","rel":"noopener noreferrer","children":"nginx 官网"}]]}],"\n"]}]
7:["$","p","p-9",{"className":"mb-4 text-lg leading-relaxed","children":"安装包解压后进入目录"}]
8:["$","p","p-10",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-3-18/2023-3-18-3.png","alt":"image.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-3-18/2023-3-18-3.png","alt":"image.png"},"children":[],"position":{"start":{"line":36,"column":1,"offset":734},"end":{"line":36,"column":51,"offset":784}}}}]}]
9:["$","p","p-11",{"className":"mb-4 text-lg leading-relaxed","children":"安装依赖"}]
a:["$","code","pre-0,code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"yum install -y gcc\nyum install -y pcre-devel\nyum install -y zlib zlib-devel\n"}],"position":{"start":{"line":40,"column":1,"offset":792},"end":{"line":44,"column":4,"offset":875}}},"children":"yum install -y gcc\nyum install -y pcre-devel\nyum install -y zlib zlib-devel\n"}]
b:["$","p","p-12",{"className":"mb-4 text-lg leading-relaxed","children":"开始安装 (安装目录/usr/local/nginx)"}]
c:["$","div","pre-1,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"./configure --prefix=/usr/local/nginx\n\nmake\n\nmake install\n"}],"position":{"start":{"line":48,"column":1,"offset":906},"end":{"line":54,"column":4,"offset":973}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"style":{},"children":["./configure "]}],["$","span","code-segment-2",{"className":"token parameter","style":{"color":"hsl(221, 87%, 60%)"},"children":["--prefix"]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}],["$","span","code-segment-4",{"style":{},"children":["/usr/local/nginx\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],"\n",["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-8",{"style":{},"children":[""]}],["$","span","code-segment-9",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["make"]}],["$","span","code-segment-10",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],"\n",["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}],["$","span","code-segment-14",{"style":{},"children":[""]}],["$","span","code-segment-15",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["make"]}],["$","span","code-segment-16",{"style":{},"children":[" "]}],["$","span","code-segment-17",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["install"]}]]]}]}]}]
d:["$","p","p-13",{"className":"mb-4 text-lg leading-relaxed","children":"安装成功，查看安装目录"}]
e:["$","p","p-14",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-3-18/2023-3-18-4.png","alt":"image.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-3-18/2023-3-18-4.png","alt":"image.png"},"children":[],"position":{"start":{"line":59,"column":1,"offset":989},"end":{"line":59,"column":51,"offset":1039}}}}]}]
f:["$","p","p-15",{"className":"mb-4 text-lg leading-relaxed","children":"测试运行"}]
10:["$","p","p-16",{"className":"mb-4 text-lg leading-relaxed","children":["执行 ",["$","code","code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./sbin/nginx","position":{"start":{"line":63,"column":4,"offset":1050},"end":{"line":63,"column":18,"offset":1064}}}],"position":{"start":{"line":63,"column":4,"offset":1050},"end":{"line":63,"column":18,"offset":1064}}},"children":"./sbin/nginx"}]," (也可以使用全局 nginx 命令)"]}]
11:["$","p","p-17",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-3-18/2023-3-18-5.png","alt":"image.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-3-18/2023-3-18-5.png","alt":"image.png"},"children":[],"position":{"start":{"line":65,"column":1,"offset":1085},"end":{"line":65,"column":51,"offset":1135}}}}]}]
12:["$","p","p-18",{"className":"mb-4 text-lg leading-relaxed","children":"可以看到进程已经启动"}]
13:["$","code","pre-2,code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ps -ef | grep nginx\n"}],"position":{"start":{"line":69,"column":1,"offset":1149},"end":{"line":71,"column":4,"offset":1176}}},"children":"ps -ef | grep nginx\n"}]
14:["$","p","p-19",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-3-18/2023-3-18-6.png","alt":"image.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-3-18/2023-3-18-6.png","alt":"image.png"},"children":[],"position":{"start":{"line":73,"column":1,"offset":1178},"end":{"line":73,"column":51,"offset":1228}}}}]}]
15:["$","p","p-20",{"className":"mb-4 text-lg leading-relaxed","children":"为了测试，先关闭防火墙："}]
16:["$","code","pre-3,code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"systemctl stop firewalld.service\n"}],"position":{"start":{"line":77,"column":1,"offset":1244},"end":{"line":79,"column":4,"offset":1284}}},"children":"systemctl stop firewalld.service\n"}]
17:["$","p","p-21",{"className":"mb-4 text-lg leading-relaxed","children":"正式线上使用的，可以配置防火墙放行端口。"}]
18:["$","p","p-22",{"className":"mb-4 text-lg leading-relaxed","children":"配置 nginx 配置文件："}]
19:["$","code","pre-4,code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"vim ./conf/nginx.conf\n"}],"position":{"start":{"line":85,"column":1,"offset":1324},"end":{"line":87,"column":4,"offset":1353}}},"children":"vim ./conf/nginx.conf\n"}]
1a:["$","p","p-23",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-3-18/2023-3-18-7.png","alt":"image.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-3-18/2023-3-18-7.png","alt":"image.png"},"children":[],"position":{"start":{"line":89,"column":1,"offset":1355},"end":{"line":89,"column":51,"offset":1405}}}}]}]
1b:["$","p","p-24",{"className":"mb-4 text-lg leading-relaxed","children":"其中 location 根目录位置是已经 build 好的一个 vue 应用："}]
1c:["$","p","p-25",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-3-18/2023-3-18-8.png","alt":"image.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-3-18/2023-3-18-8.png","alt":"image.png"},"children":[],"position":{"start":{"line":93,"column":1,"offset":1448},"end":{"line":93,"column":51,"offset":1498}}}}]}]
1d:["$","p","p-26",{"className":"mb-4 text-lg leading-relaxed","children":"重启"}]
1e:["$","code","pre-5,code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"nginx -s reload\n"}],"position":{"start":{"line":97,"column":1,"offset":1504},"end":{"line":99,"column":4,"offset":1527}}},"children":"nginx -s reload\n"}]
1f:["$","p","p-27",{"className":"mb-4 text-lg leading-relaxed","children":"浏览器查看 （使用 ip addr 指令可以查看ip）"}]
20:["$","p","p-28",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-3-18/2023-3-18-9.png","alt":"image.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-3-18/2023-3-18-9.png","alt":"image.png"},"children":[],"position":{"start":{"line":103,"column":1,"offset":1558},"end":{"line":103,"column":51,"offset":1608}}}}]}]
21:["$","hr","hr-0",{}]
22:["$","blockquote","blockquote-1",{"className":"bg-gray-100 p-4 border-l-4 border-black italic my-4","children":["\n",["$","p","p-0",{"className":"mb-4 text-lg leading-relaxed","children":"上述在之前的文章中也有所提及，相面更深入的讲一下配置文件的使用"}],"\n"]}]
23:["$","hr","hr-1",{}]
24:["$","h2","h2-2",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"3. 配置文件最小集"}]
25:["$","p","p-29",{"className":"mb-4 text-lg leading-relaxed","children":"配置文件最小集是一个能够支撑 nginx 正常跑起来的最小的配置项集合，连注释一并写在下面，供大家参考："}]
97:T5ce,// ./conf/nginx.conf
worker_process 1; // 并行执行的任务数，一般按照CPU内核配置
events: {
    worker_connections 1024; // 配置单个worker进程最大的连接数，nginx 默认连接数是1024
}

http { // 支持 http 协议访问的服务
    include      mime.types; // 当前目录下的配置的文件类型文件，使用默认即可。图片音频会自动解析给浏览器，不能解析的一律按照二进制流下载
    default_type  application/octet-stream; // 默认文件类型 二进制流下载
    sendfile        on;  // 是否允许目标服务器绕过 nginx 服务器直接返回结果给用户
    keepalive_timeout  65;  // 超时时间
    
    server { // 隶属于 http 的一个 服务器
        listen       10087;  // 端口
        server_name  localhost;  // 服务部署的ip地址，可以是域名
        charset utf-8;
        location / {  // 配置 uri
	    root   /root/web/dist;  // 自定义的资源目录，可以是绝对目录；若前边不加 /, 则表示相对目录，相对的是 nginx 主目录
            index  index.html index.htm;
        }

        error_page  404             404.html;  // 404页面配置，相对路由
        error_page   500 502 503 504   50x.html; // 同上
        location = /50x.html {
            root   html;  // 50x 时，资源指向 html目录下寻找
        }
        location = /404.html {
            root   html;  // 同上
        }
    } // end server
} // end http
26:["$","div","pre-6,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-json"]},"children":[{"type":"text","value":"$97"}],"position":{"start":{"line":113,"column":1,"offset":1722},"end":{"line":145,"column":4,"offset":2773}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// ./conf/nginx.conf"]}],["$","span","code-segment-2",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-4",{"style":{},"children":["worker_process "]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["1"]}],["$","span","code-segment-6",{"style":{},"children":["; "]}],["$","span","code-segment-7",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 并行执行的任务数，一般按照CPU内核配置"]}],["$","span","code-segment-8",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-10",{"style":{},"children":["events"]}],["$","span","code-segment-11",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}],["$","span","code-segment-12",{"style":{},"children":[" "]}],["$","span","code-segment-13",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-14",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],"$L98","$L99","$L9a","$L9b","$L9c","$L9d","$L9e","$L9f","$La0","$La1","\n","$La2","$La3","$La4","$La5","$La6","$La7","$La8","$La9","$Laa","$Lab","$Lac","$Lad","$Lae","$Laf","$Lb0","$Lb1","$Lb2","$Lb3","$Lb4","$Lb5","$Lb6","$Lb7","$Lb8","$Lb9","$Lba","    \n","$Lbb","$Lbc","$Lbd","$Lbe","$Lbf","$Lc0","$Lc1","$Lc2","$Lc3","$Lc4","$Lc5","$Lc6","$Lc7","$Lc8","$Lc9","$Lca","$Lcb","$Lcc","$Lcd","$Lce","$Lcf","$Ld0","$Ld1","$Ld2","$Ld3","$Ld4","$Ld5","$Ld6","$Ld7","$Ld8","$Ld9","            index  index.html index.htm;\n","$Lda","$Ldb","$Ldc","$Ldd","$Lde","\n","$Ldf","$Le0","$Le1","$Le2","$Le3","$Le4","$Le5","$Le6","$Le7","$Le8","$Le9","$Lea","$Leb","$Lec","$Led","$Lee","$Lef","$Lf0","$Lf1","$Lf2","$Lf3","$Lf4","$Lf5","$Lf6","$Lf7","$Lf8","$Lf9","$Lfa","$Lfb","$Lfc","$Lfd","$Lfe","$Lff","$L100","$L101","$L102","$L103","$L104","$L105","$L106","$L107","$L108","$L109","$L10a","$L10b","$L10c","$L10d","$L10e","$L10f","$L110","$L111","$L112","$L113","$L114","$L115","$L116","$L117"]]}]}]}]
27:["$","h2","h2-3",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"4. 多站点配置"}]
28:["$","p","p-30",{"className":"mb-4 text-lg leading-relaxed","children":"假设我们有两个资源目录，你可以理解为两个项目的 build 目录："}]
29:["$","code","pre-7,code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/root/web/vue/dist\n/root/web/react/dist\n"}],"position":{"start":{"line":151,"column":1,"offset":2823},"end":{"line":154,"column":4,"offset":2870}}},"children":"/root/web/vue/dist\n/root/web/react/dist\n"}]
2a:["$","p","p-31",{"className":"mb-4 text-lg leading-relaxed","children":"我们通过配置文件来控制不同的访问 url 分别分发给这两个资源。"}]
2b:["$","div","pre-8,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-json"]},"children":[{"type":"text","value":"server {\n    listen       80;  \n    server_name  www.vue.com;  \n    location / {  \n        root   /root/web/vue/dist; \n        index  index.html index.htm;\n    }\n}\n\nserver {\n    listen       8080;  \n    server_name  www.react.com;  \n    location / {  \n        root   /root/web/react/dist; \n        index  index.html index.htm;\n    }\n}\n"}],"position":{"start":{"line":158,"column":1,"offset":2906},"end":{"line":176,"column":4,"offset":3252}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"style":{},"children":["server "]}],["$","span","code-segment-2",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-3",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-5",{"style":{},"children":["    listen       "]}],["$","span","code-segment-6",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["80"]}],["$","span","code-segment-7",{"style":{},"children":[";  \n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],"    server_name  www.vue.com;  \n",["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],["$","span","code-segment-11",{"style":{},"children":["    location / "]}],["$","span","code-segment-12",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-13",{"style":{},"children":["  \n"]}],["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}],"        root   /root/web/vue/dist; \n",["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}],"        index  index.html index.htm;\n",["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}],["$","span","code-segment-19",{"style":{},"children":["    "]}],["$","span","code-segment-20",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}],"$L118","$L119","$L11a","$L11b","$L11c","$L11d","\n","$L11e","$L11f","$L120","$L121","$L122","$L123","$L124","$L125","$L126","    server_name  www.react.com;  \n","$L127","$L128","$L129","$L12a","$L12b","        root   /root/web/react/dist; \n","$L12c","        index  index.html index.htm;\n","$L12d","$L12e","$L12f","$L130","$L131","$L132","$L133"]]}]}]}]
2c:["$","p","p-32",{"className":"mb-4 text-lg leading-relaxed","children":["这样，访问 ",["$","a","a-0",{"href":"http://www.vue.com","className":"text-blue-600 hover:underline font-bold whitespace-wrap break-words","target":"_blank","rel":"noopener noreferrer","children":"www.vue.com"}]," 就会进入 vue 的项目，访问 ",["$","a","a-1",{"href":"http://www.react.com:8080","className":"text-blue-600 hover:underline font-bold whitespace-wrap break-words","target":"_blank","rel":"noopener noreferrer","children":"www.react.com:8080"}]," 会进入 react 的项目。"]}]
2d:["$","p","p-33",{"className":"mb-4 text-lg leading-relaxed","children":"注意：https 的域名需要在云端配置 ip 绑定为 nginx 的服务器。"}]
2e:["$","h2","h2-4",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"5. server_name 匹配"}]
2f:["$","p","p-34",{"className":"mb-4 text-lg leading-relaxed","children":"server_name 支持模糊匹配和通配符匹配。"}]
30:["$","ul","ul-3",{"className":"ml-4 list-disc mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":["通配符： ",["$","em","em-0",{"className":"italic","children":[".xxx.com 、",["$","a","a-0",{"href":"http://www.baidu","className":"text-blue-600 hover:underline font-bold whitespace-wrap break-words","target":"_blank","rel":"noopener noreferrer","children":"www.baidu"}],"."]}]]}],"\n"]}]
31:["$","p","p-35",{"className":"mb-4 text-lg leading-relaxed","children":"所有 .xxx.com 结尾的都可以匹配到"}]
32:["$","ul","ul-4",{"className":"ml-4 list-disc mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":["完全匹配：",["$","a","a-0",{"href":"http://www.react.com","className":"text-blue-600 hover:underline font-bold whitespace-wrap break-words","target":"_blank","rel":"noopener noreferrer","children":"www.react.com"}]]}],"\n",["$","li","li-1",{"className":"font-bold mb-2","children":"正则匹配：~^[0-9]+.xxx.com$ (规则：~开头)"}],"\n"]}]
33:["$","p","p-36",{"className":"mb-4 text-lg leading-relaxed","children":"匹配优先级："}]
34:["$","ol","ol-0",{"className":"ml-4 list-decimal mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"完全匹配"}],"\n",["$","li","li-1",{"className":"font-bold mb-2","children":"通配符在前的"}],"\n",["$","li","li-2",{"className":"font-bold mb-2","children":"通配符在后的"}],"\n",["$","li","li-3",{"className":"font-bold mb-2","children":"正则匹配"}],"\n"]}]
35:["$","p","p-37",{"className":"mb-4 text-lg leading-relaxed","children":"如果都不匹配"}]
36:["$","ol","ol-1",{"className":"ml-4 list-decimal mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"优先选择listen配置项后有 default 或 default_server 的"}],"\n",["$","li","li-1",{"className":"font-bold mb-2","children":"上述都不满足，则去找端口配置的位置最靠前的server"}],"\n"]}]
37:["$","h2","h2-5",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"6. 负载均衡配置"}]
38:["$","p","p-38",{"className":"mb-4 text-lg leading-relaxed","children":"使用场景：访问同一个域名，但是目标地址可以是多个，根据使用情况和空闲程度自动分配一个使用。upstream 用于设置多台分发主机的集合。"}]
39:["$","div","pre-9,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-json"]},"children":[{"type":"text","value":"http {\n    ...\n    upstream my_server {\n        server 10.123.345.456:8000;\n        server 10.123.345.457:8000;\n    }\n\n    server {\n        location / {\n            proxy_pass http://my_server;\n        }\n    }\n}\n\n"}],"position":{"start":{"line":210,"column":1,"offset":3740},"end":{"line":225,"column":4,"offset":3964}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"style":{},"children":["http "]}],["$","span","code-segment-2",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-3",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],"    ...\n",["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-7",{"style":{},"children":["    upstream my_server "]}],["$","span","code-segment-8",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-9",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],["$","span","code-segment-11",{"style":{},"children":["        server "]}],["$","span","code-segment-12",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["10.123"]}],["$","span","code-segment-13",{"style":{},"children":["."]}],["$","span","code-segment-14",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["345.456"]}],["$","span","code-segment-15",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}],["$","span","code-segment-16",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["8000"]}],["$","span","code-segment-17",{"style":{},"children":[";\n"]}],["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}],["$","span","code-segment-19",{"style":{},"children":["        server "]}],["$","span","code-segment-20",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["10.123"]}],["$","span","code-segment-21",{"style":{},"children":["."]}],["$","span","code-segment-22",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["345.457"]}],["$","span","code-segment-23",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}],["$","span","code-segment-24",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["8000"]}],["$","span","code-segment-25",{"style":{},"children":[";\n"]}],"$L134","$L135","$L136","$L137","$L138","\n","$L139","$L13a","$L13b","$L13c","$L13d","$L13e","$L13f","$L140","$L141","$L142","$L143","$L144","$L145","$L146","$L147","$L148","$L149","$L14a","$L14b","$L14c","$L14d","$L14e","$L14f","$L150","$L151","$L152",""]]}]}]}]
3a:["$","p","p-39",{"className":"mb-4 text-lg leading-relaxed","children":["这样配置后，实际访问 ",["$","a","a-0",{"href":"http://192.168.122.1","className":"text-blue-600 hover:underline font-bold whitespace-wrap break-words","target":"_blank","rel":"noopener noreferrer","children":"http://192.168.122.1"}]," 访问时，系统会在 456 和 457 两个 ip服务选择一个分发，雨露均沾。"]}]
3b:["$","p","p-40",{"className":"mb-4 text-lg leading-relaxed","children":"当然你也可以配置两个服务器的轮询权重(访问概率)。"}]
3c:["$","div","pre-10,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-json"]},"children":[{"type":"text","value":"server 10.123.345.456:8000 weight=8;\nserver 10.123.345.457:8000 weight=1;\nserver 10.123.345.457:8000 backup;  // 标识备用机，实在是没有可用的机器时启用\n"}],"position":{"start":{"line":231,"column":1,"offset":4065},"end":{"line":235,"column":4,"offset":4209}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"style":{},"children":["server "]}],["$","span","code-segment-2",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["10.123"]}],["$","span","code-segment-3",{"style":{},"children":["."]}],["$","span","code-segment-4",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["345.456"]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}],["$","span","code-segment-6",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["8000"]}],["$","span","code-segment-7",{"style":{},"children":[" weight="]}],["$","span","code-segment-8",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["8"]}],["$","span","code-segment-9",{"style":{},"children":[";\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-11",{"style":{},"children":["server "]}],["$","span","code-segment-12",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["10.123"]}],["$","span","code-segment-13",{"style":{},"children":["."]}],["$","span","code-segment-14",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["345.457"]}],["$","span","code-segment-15",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}],["$","span","code-segment-16",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["8000"]}],["$","span","code-segment-17",{"style":{},"children":[" weight="]}],["$","span","code-segment-18",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["1"]}],["$","span","code-segment-19",{"style":{},"children":[";\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-21",{"style":{},"children":["server "]}],["$","span","code-segment-22",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["10.123"]}],["$","span","code-segment-23",{"style":{},"children":["."]}],["$","span","code-segment-24",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["345.457"]}],["$","span","code-segment-25",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}],["$","span","code-segment-26",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["8000"]}],["$","span","code-segment-27",{"style":{},"children":[" backup;  "]}],["$","span","code-segment-28",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 标识备用机，实在是没有可用的机器时启用"]}]]]}]}]}]
3d:["$","p","p-41",{"className":"mb-4 text-lg leading-relaxed","children":"如果想要某一个服务器不参与负载均衡，可以如下配置："}]
3e:["$","div","pre-11,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-json"]},"children":[{"type":"text","value":"server 10.123.345.456:8000 down;\n"}],"position":{"start":{"line":239,"column":1,"offset":4238},"end":{"line":241,"column":4,"offset":4282}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"style":{},"children":["server "]}],["$","span","code-segment-2",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["10.123"]}],["$","span","code-segment-3",{"style":{},"children":["."]}],["$","span","code-segment-4",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["345.456"]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}],["$","span","code-segment-6",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["8000"]}],["$","span","code-segment-7",{"style":{},"children":[" down;"]}]]]}]}]}]
3f:["$","h2","h2-6",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"7. 配置动静分离"}]
40:["$","p","p-42",{"className":"mb-4 text-lg leading-relaxed","children":"适合小中型网站，静态资源不太多的场景。原理是用户请求页面时，提取出静态资源，等下次用户访问相同页面时，静态资源可以不用再次找服务器获取，而是取缓存的内容。"}]
41:["$","p","p-43",{"className":"mb-4 text-lg leading-relaxed","children":"配置如下："}]
42:["$","div","pre-12,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-json"]},"children":[{"type":"text","value":"http {\n    ...\n    upstream my_server {\n        server 10.123.345.456:8000;\n        server 10.123.345.457:8000;\n    }\n\n    server {\n        location / {\n            proxy_pass http://my_server;\n        }\n        \n        location ~.*\\.(js|png|jpg|svg|css)$ {  // 静态资源\n            root   html;\n            index  index.html index.htm;\n        }\n    }\n}\n"}],"position":{"start":{"line":250,"column":1,"offset":4385},"end":{"line":269,"column":4,"offset":4748}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"style":{},"children":["http "]}],["$","span","code-segment-2",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-3",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],"    ...\n",["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-7",{"style":{},"children":["    upstream my_server "]}],["$","span","code-segment-8",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-9",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],["$","span","code-segment-11",{"style":{},"children":["        server "]}],["$","span","code-segment-12",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["10.123"]}],["$","span","code-segment-13",{"style":{},"children":["."]}],["$","span","code-segment-14",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["345.456"]}],["$","span","code-segment-15",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}],["$","span","code-segment-16",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["8000"]}],["$","span","code-segment-17",{"style":{},"children":[";\n"]}],["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}],["$","span","code-segment-19",{"style":{},"children":["        server "]}],["$","span","code-segment-20",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["10.123"]}],["$","span","code-segment-21",{"style":{},"children":["."]}],["$","span","code-segment-22",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["345.457"]}],["$","span","code-segment-23",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}],"$L153","$L154","$L155","$L156","$L157","$L158","$L159","\n","$L15a","$L15b","$L15c","$L15d","$L15e","$L15f","$L160","$L161","$L162","$L163","$L164","$L165","$L166","$L167","$L168","$L169","$L16a","$L16b","        \n","$L16c","$L16d","$L16e","$L16f","$L170","$L171","$L172","            root   html;\n","$L173","            index  index.html index.htm;\n","$L174","$L175","$L176","$L177","$L178","$L179","$L17a","$L17b","$L17c","$L17d","$L17e"]]}]}]}]
43:["$","h2","h2-7",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"8. 配置 URLRewrite"}]
44:["$","p","p-44",{"className":"mb-4 text-lg leading-relaxed","children":"用于隐藏服务器真实url路径。"}]
45:["$","div","pre-13,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"http {\n    ...\n    upstream my_server {\n        server 10.123.345.456:8000;\n        server 10.123.345.457:8000;\n    }\n\n    server {\n        location / {\n            rewrite ^/([0-9]+).html$ /index/pageNum=$1 break;\n            proxy_pass http://my_server;\n        }\n        \n    }\n}\n"}],"position":{"start":{"line":275,"column":1,"offset":4788},"end":{"line":291,"column":4,"offset":5080}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"style":{},"children":["http "]}],["$","span","code-segment-2",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-3",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-5",{"style":{},"children":["    "]}],["$","span","code-segment-6",{"className":"token spread","style":{"color":"hsl(221, 87%, 60%)"},"children":["..."]}],["$","span","code-segment-7",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-9",{"style":{},"children":["    upstream my_server "]}],["$","span","code-segment-10",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-11",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],["$","span","code-segment-13",{"style":{},"children":["        server "]}],["$","span","code-segment-14",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["10.123"]}],["$","span","code-segment-15",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":[".345"]}],["$","span","code-segment-16",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":[".456"]}],["$","span","code-segment-17",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}],["$","span","code-segment-18",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["8000"]}],["$","span","code-segment-19",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}],["$","span","code-segment-20",{"style":{},"children":["\n"]}],["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}],["$","span","code-segment-22",{"style":{},"children":["        server "]}],["$","span","code-segment-23",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["10.123"]}],"$L17f","$L180","$L181","$L182","$L183","$L184","$L185","$L186","$L187","$L188","$L189","\n","$L18a","$L18b","$L18c","$L18d","$L18e","$L18f","$L190","$L191","$L192","$L193","$L194","$L195","$L196","$L197","$L198","$L199","$L19a","$L19b","$L19c","$L19d","$L19e","$L19f","$L1a0","$L1a1","$L1a2","$L1a3","$L1a4","$L1a5","$L1a6","$L1a7","$L1a8","$L1a9","$L1aa","$L1ab","$L1ac","$L1ad","$L1ae","$L1af","$L1b0","$L1b1","$L1b2","$L1b3","$L1b4","$L1b5","$L1b6","$L1b7","$L1b8","$L1b9","$L1ba","        \n","$L1bb","$L1bc","$L1bd","$L1be","$L1bf","$L1c0","$L1c1"]]}]}]}]
46:["$","p","p-45",{"className":"mb-4 text-lg leading-relaxed","children":"上边就使用了一个 rewrite 来配置了转发。"}]
47:["$","p","p-46",{"className":"mb-4 text-lg leading-relaxed","children":"这个例子隐藏了页面的分页信息：访问 /2.html 就相当于访问了 /index/pageNum=2 路径。"}]
48:["$","p","p-47",{"className":"mb-4 text-lg leading-relaxed","children":"匹配关键字："}]
49:["$","ul","ul-5",{"className":"ml-4 list-disc mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"break：停止所有rewrite匹配"}],"\n",["$","li","li-1",{"className":"font-bold mb-2","children":"last：本条匹配完成后，继续向后匹配其他的 location 的 rewrite"}],"\n",["$","li","li-2",{"className":"font-bold mb-2","children":"redirect：返回 302 重定向到真实地址，而不是用假地址"}],"\n",["$","li","li-3",{"className":"font-bold mb-2","children":"permanent：301 永久重定向到真实地址 （适用于爬虫）"}],"\n"]}]
4a:["$","h2","h2-8",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"9. 配置防盗链"}]
4b:["$","p","p-48",{"className":"mb-4 text-lg leading-relaxed","children":"盗链（Hotlinking）是指在一个网站上，使用别人网站上的图片或其他媒体资源来装饰自己的网站，而不获得该资源的所有者许可的行为。盗链可以导致被盗用者的带宽和流量受到消耗，甚至可能使其网站速度变慢或崩溃。"}]
4c:["$","p","p-49",{"className":"mb-4 text-lg leading-relaxed","children":"防盗链也是资源节省优化的必备配置。nginx 中根据 http 请求头的 referer 判断来源可以做到拦截。"}]
4d:["$","p","p-50",{"className":"mb-4 text-lg leading-relaxed","children":"一个配置防盗链的例子如下："}]
4e:["$","div","pre-14,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-json"]},"children":[{"type":"text","value":"location ~* \\.(jpg|jpeg|png|gif)$ {\n    valid_referers none blocked xxx.com;\n    if ($invalid_referer) {\n        return 403;\n    }\n}\n"}],"position":{"start":{"line":312,"column":1,"offset":5500},"end":{"line":319,"column":4,"offset":5644}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"style":{},"children":["location ~* \\.(jpg|jpeg|png|gif)$ "]}],["$","span","code-segment-2",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-3",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],"    valid_referers none blocked xxx.com;\n",["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-7",{"style":{},"children":["    if ($invalid_referer) "]}],["$","span","code-segment-8",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-9",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],["$","span","code-segment-11",{"style":{},"children":["        return "]}],["$","span","code-segment-12",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["403"]}],["$","span","code-segment-13",{"style":{},"children":[";\n"]}],["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}],["$","span","code-segment-15",{"style":{},"children":["    "]}],["$","span","code-segment-16",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}],["$","span","code-segment-17",{"style":{},"children":["\n"]}],["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}],["$","span","code-segment-19",{"style":{},"children":[""]}],["$","span","code-segment-20",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]]]}]}]}]
4f:["$","p","p-51",{"className":"mb-4 text-lg leading-relaxed","children":["以上代码表示，如果访问的图片URL的",["$","code","code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"referer","position":{"start":{"line":321,"column":19,"offset":5664},"end":{"line":321,"column":28,"offset":5673}}}],"position":{"start":{"line":321,"column":19,"offset":5664},"end":{"line":321,"column":28,"offset":5673}}},"children":"referer"}],"不是 xxx.com，则返回 403 禁止访问。如果访问的URL没有referer，则也会被禁止访问。"]}]
50:["$","p","p-52",{"className":"mb-4 text-lg leading-relaxed","children":"配置项介绍："}]
51:["$","ul","ul-6",{"className":"ml-4 list-disc mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"none：referer不存在时可以访问，不设置则所有访问不是 xxx.com 都禁止"}],"\n",["$","li","li-1",{"className":"font-bold mb-2","children":"blocked：referer值被防火墙或者代理服务器删除或伪装时可以访问。一般是不带 http 前缀的访问放行配置。"}],"\n"]}]
52:["$","p","p-53",{"className":"mb-4 text-lg leading-relaxed","children":"接下来配置错误提示页面："}]
53:["$","p","p-54",{"className":"mb-4 text-lg leading-relaxed","children":["假设有个页面 ： ",["$","code","code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"403.html","position":{"start":{"line":330,"column":10,"offset":5866},"end":{"line":330,"column":20,"offset":5876}}}],"position":{"start":{"line":330,"column":10,"offset":5866},"end":{"line":330,"column":20,"offset":5876}}},"children":"403.html"}],", 需要配置禁止访问时显示："]}]
54:["$","div","pre-15,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-json"]},"children":[{"type":"text","value":"error_page 403 /403.html\nlocation = /403.html {\n    root   html;  // 资源指向 html目录下寻找\n}\n"}],"position":{"start":{"line":332,"column":1,"offset":5892},"end":{"line":337,"column":4,"offset":5989}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"style":{},"children":["error_page "]}],["$","span","code-segment-2",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["403"]}],["$","span","code-segment-3",{"style":{},"children":[" /"]}],["$","span","code-segment-4",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["403"]}],["$","span","code-segment-5",{"style":{},"children":[".html\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-7",{"style":{},"children":["location = /"]}],["$","span","code-segment-8",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["403"]}],["$","span","code-segment-9",{"style":{},"children":[".html "]}],["$","span","code-segment-10",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-11",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-13",{"style":{},"children":["    root   html;  "]}],["$","span","code-segment-14",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 资源指向 html目录下寻找"]}],["$","span","code-segment-15",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],["$","span","code-segment-17",{"style":{},"children":[""]}],["$","span","code-segment-18",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]]]}]}]}]
55:["$","p","p-55",{"className":"mb-4 text-lg leading-relaxed","children":["或者在 return 403 时设置：",["$","code","code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"rewrite","position":{"start":{"line":339,"column":20,"offset":6010},"end":{"line":339,"column":29,"offset":6019}}}],"position":{"start":{"line":339,"column":20,"offset":6010},"end":{"line":339,"column":29,"offset":6019}}},"children":"rewrite"}]," 到一个配置好的资源也可以。"]}]
56:["$","h2","h2-9",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"10. 安全高可用方案配置"}]
57:["$","p","p-56",{"className":"mb-4 text-lg leading-relaxed","children":"安全高可用的意义：在不额外添加机器的情况下做到不down机动态切换机器，从而达到服务持续可用"}]
58:["$","h3","h3-0",{"className":"text-xl font-bold mt-4 mb-2","children":"keepalived"}]
59:["$","p","p-57",{"className":"mb-4 text-lg leading-relaxed","children":"安装"}]
5a:["$","div","pre-16,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"yum install keepalived\n"}],"position":{"start":{"line":349,"column":1,"offset":6122},"end":{"line":351,"column":4,"offset":6154}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"style":{},"children":["yum "]}],["$","span","code-segment-2",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["install"]}],["$","span","code-segment-3",{"style":{},"children":[" keepalived"]}]]]}]}]}]
5b:["$","p","p-58",{"className":"mb-4 text-lg leading-relaxed","children":"编辑配置（/etc/keepalived.conf）:"}]
5c:["$","div","pre-17,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-json"]},"children":[{"type":"text","value":"global_defs {\n    router_id lb111\n}\n\nvrrp_instance_test {  // 自定义 test 实例\n    state MASTER   // 主\n    interface eth01  // 你机器上网卡的名字\n    virtual_router_id 33  // 虚拟路由id，主从要一样\n    priority 100 // 优先级高的机器就为 master\n    advert_int 1 // 间隔检测时间\n    authentication {  // 认证配置，同一组保持一致即可\n        auth_type PASS  \n        auth_pass 1111  \n    }\n    virtual_ipaddress {\n        192.168.44.1  // 本台机器的虚拟地址\n    }\n}\n"}],"position":{"start":{"line":355,"column":1,"offset":6185},"end":{"line":374,"column":4,"offset":6597}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"style":{},"children":["global_defs "]}],["$","span","code-segment-2",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-3",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],"    router_id lb111\n",["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-7",{"style":{},"children":[""]}],["$","span","code-segment-8",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}],["$","span","code-segment-9",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],"\n",["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}],["$","span","code-segment-13",{"style":{},"children":["vrrp_instance_test "]}],["$","span","code-segment-14",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-15",{"style":{},"children":["  "]}],["$","span","code-segment-16",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 自定义 test 实例"]}],["$","span","code-segment-17",{"style":{},"children":["\n"]}],["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}],["$","span","code-segment-19",{"style":{},"children":["    state MASTER   "]}],["$","span","code-segment-20",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 主"]}],["$","span","code-segment-21",{"style":{},"children":["\n"]}],"$L1c2","$L1c3","$L1c4","$L1c5","$L1c6","$L1c7","$L1c8","$L1c9","$L1ca","$L1cb","$L1cc","$L1cd","$L1ce","$L1cf","$L1d0","$L1d1","$L1d2","$L1d3","$L1d4","$L1d5","$L1d6","$L1d7","$L1d8","$L1d9","$L1da","$L1db","$L1dc","$L1dd","$L1de","        auth_type PASS  \n","$L1df","$L1e0","$L1e1","$L1e2","$L1e3","$L1e4","$L1e5","$L1e6","$L1e7","$L1e8","$L1e9","$L1ea","$L1eb","$L1ec","$L1ed","$L1ee","$L1ef","$L1f0","$L1f1","$L1f2","$L1f3","$L1f4","$L1f5","$L1f6","$L1f7","$L1f8","$L1f9"]]}]}]}]
5d:["$","p","p-59",{"className":"mb-4 text-lg leading-relaxed","children":"上面是第一台机器的配置，在第二台虚拟机上也配置一下类似的配置，设置："}]
5e:["$","div","pre-18,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-json"]},"children":[{"type":"text","value":"global_defs {\n    router_id lb110  // 修改路由号\n}\n\nvrrp_instance_test {  // 同一个实例\n    state BACKUP   // 从\n    interface eth01  \n    virtual_router_id 33\n    priority 50 // 减低优先级\n    advert_int 1\n    authentication { \n        auth_type PASS  \n        auth_pass 1111  \n    }\n    virtual_ipaddress {\n        192.168.44.1  // 本台机器的虚拟地址\n    }\n}\n"}],"position":{"start":{"line":378,"column":1,"offset":6635},"end":{"line":397,"column":4,"offset":6982}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"style":{},"children":["global_defs "]}],["$","span","code-segment-2",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-3",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-5",{"style":{},"children":["    router_id lb110  "]}],["$","span","code-segment-6",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 修改路由号"]}],["$","span","code-segment-7",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-9",{"style":{},"children":[""]}],["$","span","code-segment-10",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}],["$","span","code-segment-11",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],"\n",["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}],["$","span","code-segment-15",{"style":{},"children":["vrrp_instance_test "]}],["$","span","code-segment-16",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-17",{"style":{},"children":["  "]}],["$","span","code-segment-18",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 同一个实例"]}],["$","span","code-segment-19",{"style":{},"children":["\n"]}],["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}],["$","span","code-segment-21",{"style":{},"children":["    state BACKUP   "]}],"$L1fa","$L1fb","$L1fc","    interface eth01  \n","$L1fd","$L1fe","$L1ff","$L200","$L201","$L202","$L203","$L204","$L205","$L206","$L207","$L208","$L209","$L20a","$L20b","$L20c","$L20d","$L20e","$L20f","        auth_type PASS  \n","$L210","$L211","$L212","$L213","$L214","$L215","$L216","$L217","$L218","$L219","$L21a","$L21b","$L21c","$L21d","$L21e","$L21f","$L220","$L221","$L222","$L223","$L224","$L225","$L226","$L227","$L228","$L229","$L22a"]]}]}]}]
5f:["$","p","p-60",{"className":"mb-4 text-lg leading-relaxed","children":"两台机器分别启动一下："}]
60:["$","code","pre-19,code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"systemctl start keepalived\n"}],"position":{"start":{"line":401,"column":1,"offset":6997},"end":{"line":403,"column":4,"offset":7031}}},"children":"systemctl start keepalived\n"}]
61:["$","p","p-61",{"className":"mb-4 text-lg leading-relaxed","children":"此时在外网可以ping通的ip是： 192.168.44.1。"}]
62:["$","p","p-62",{"className":"mb-4 text-lg leading-relaxed","children":["我们让 MASTER 机器关机后，再ping一下 192.168.44.1，发现仍然可以，此时在备份及使用指令 ",["$","code","code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ip addr","position":{"start":{"line":407,"column":57,"offset":7122},"end":{"line":407,"column":66,"offset":7131}}}],"position":{"start":{"line":407,"column":57,"offset":7122},"end":{"line":407,"column":66,"offset":7131}}},"children":"ip addr"}]," 查看，可以看到 有一个 192.168.44.1 的虚拟ip。这说明高可用生效了，这种配置叫 ip漂移。"]}]
63:["$","p","p-63",{"className":"mb-4 text-lg leading-relaxed","children":"上述情况只能保证 keepalived 进程挂掉时起作用，更高级的用法是跑一个脚本，检测本机的 nginz 服务进程，如果服务异常，则 kill 掉本机的 keepalived 进程。"}]
64:["$","h3","h3-1",{"className":"text-xl font-bold mt-4 mb-2","children":"https 与 TLS"}]
65:["$","p","p-64",{"className":"mb-4 text-lg leading-relaxed","children":"http 协议往往是不安全的，即使有防火墙，但是没办法防御消息在传输过程中被劫持："}]
66:["$","p","p-65",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-3-18/2023-3-18-10.png","alt":"image.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-3-18/2023-3-18-10.png","alt":"image.png"},"children":[],"position":{"start":{"line":416,"column":1,"offset":7341},"end":{"line":416,"column":52,"offset":7392}}}}]}]
67:["$","p","p-66",{"className":"mb-4 text-lg leading-relaxed","children":"此时就需要对传输过程的消息进行加密。加密方式有对称加密和非对称加密。"}]
68:["$","p","p-67",{"className":"mb-4 text-lg leading-relaxed","children":"对称加密的加密和解密互为逆过程，规则是固定的，存放在服务器端或者客户端，这个加密算法传输过程中也容易被获取，所以并不是太安全。"}]
69:["$","ul","ul-7",{"className":"ml-4 list-disc mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"非对称加密"}],"\n"]}]
6a:["$","p","p-68",{"className":"mb-4 text-lg leading-relaxed","children":"非对称加密会设置一个公钥，用于传递；服务端和客户端分别设置一个私钥，自己保存，加密步骤如下："}]
6b:["$","ol","ol-2",{"className":"ml-4 list-decimal mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"用户通过服务器443端口下载公钥，并传递自己的公钥给服务器。"}],"\n",["$","li","li-1",{"className":"font-bold mb-2","children":["再次请求服务器，用",["$","strong","strong-0",{"className":"font-black","children":"服务公钥+对称加密算法"}],"来加密明文，生成密文"]}],"\n",["$","li","li-2",{"className":"font-bold mb-2","children":"传递密文给服务器"}],"\n",["$","li","li-3",{"className":"font-bold mb-2","children":["服务端用",["$","strong","strong-0",{"className":"font-black","children":"服务私钥+加密算法"}],"解开密文，得到明文"]}],"\n",["$","li","li-4",{"className":"font-bold mb-2","children":["类似的，服务端根据明文请求和用户传递的用户公钥进行响应：",["$","strong","strong-0",{"className":"font-black","children":"用户公钥+算法的密文"}]]}],"\n",["$","li","li-5",{"className":"font-bold mb-2","children":["用户用",["$","strong","strong-0",{"className":"font-black","children":"用户私钥+算法解密"}],"获取数据"]}],"\n"]}]
6c:["$","p","p-69",{"className":"mb-4 text-lg leading-relaxed","children":"其中需注意，公钥加密的数据公钥自己是解不开的，而且要保证都是公钥加密，私钥解密。"}]
6d:["$","p","p-70",{"className":"mb-4 text-lg leading-relaxed","children":"但是，如果服务器被伪造了，公钥是坏人给的，那你的数据加密再好也没用了，这就是中间人攻击。"}]
6e:["$","ul","ul-8",{"className":"ml-4 list-disc mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"TLS"}],"\n"]}]
6f:["$","p","p-71",{"className":"mb-4 text-lg leading-relaxed","children":"为了解决中间人攻击，需要对使用者进行身份认证，这就引入了数字证书。常见的方式是找一个第三方公认的好人（CA）来颁发这个证书来认证公钥。"}]
70:["$","p","p-72",{"className":"mb-4 text-lg leading-relaxed","children":"服务器会申请公钥给CA来获取证书，CA判断你是否有所认证机构的管理权限和拥有权限，通过后颁发数字证书（CA自己的私钥+加密算法）；服务器拿到证书后，给用户传递的就是这个证书了，用户用CA公钥解密出服务器公钥来使用。"}]
71:["$","p","p-73",{"className":"mb-4 text-lg leading-relaxed","children":["此时，中间人获取不到CA的私钥，所以用户端浏览器就不认这个中间人，以此达到鉴伪。用户只要使用的是正版操作系统和正规浏览器，就能保证数字证书的获取。这期间使用了 TLS 算法生成了两组随机数，通过非对称加密，客户端和服务端达成一致，生成了一个只有他们自己知道的对称加密规则，我这里借用",["$","a","a-0",{"href":"https://www.bilibili.com/video/BV1KY411x7Jp","className":"text-blue-600 hover:underline font-bold whitespace-wrap break-words","target":"_blank","rel":"noopener noreferrer","children":"b站"}]," 技术蛋老师的解释图："]}]
72:["$","p","p-74",{"className":"mb-4 text-lg leading-relaxed","children":["$","img","img-0",{"src":"/img/posts/2023-3-18/2023-3-18-11.png","alt":"image.png","className":"w-full h-auto my-6 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]","node":{"type":"element","tagName":"img","properties":{"src":"/img/posts/2023-3-18/2023-3-18-11.png","alt":"image.png"},"children":[],"position":{"start":{"line":446,"column":1,"offset":8214},"end":{"line":446,"column":52,"offset":8265}}}}]}]
73:["$","p","p-75",{"className":"mb-4 text-lg leading-relaxed","children":"上图的步骤如下："}]
74:["$","ol","ol-3",{"className":"ml-4 list-decimal mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":"服务器生成一套私钥和公钥"}],"\n",["$","li","li-1",{"className":"font-bold mb-2","children":"可以先生成一个随机数1，并传给服务端，请求公钥"}],"\n",["$","li","li-2",{"className":"font-bold mb-2","children":"服务端生成随机数2，带上公钥、证书一起给客户端"}],"\n",["$","li","li-3",{"className":"font-bold mb-2","children":"现在客户端、服务端、黑客都知道了公钥、随机数1和随机数2"}],"\n",["$","li","li-4",{"className":"font-bold mb-2","children":"客户端生成随机数3，结合公钥加密后给服务端，服务端通过私钥解密后得到明文"}],"\n",["$","li","li-5",{"className":"font-bold mb-2","children":"客户端和服务端各自通过 随机数1/2/3生成一个会话秘钥，这个会话秘钥就是对称加密的秘钥，且不在网络上传递。"}],"\n",["$","li","li-6",{"className":"font-bold mb-2","children":"接下来就是对称加通信环节，而黑客目前只知道公钥、随机数1和随机数2，无法破解通信。"}],"\n"]}]
75:["$","p","p-76",{"className":"mb-4 text-lg leading-relaxed","children":["这里讲一下 nginx 如何配置 https。你需要有一个服务的公网ip（假设 123.456.789.111）和购买的域名（假设 ",["$","a","a-0",{"href":"http://www.abc.com","className":"text-blue-600 hover:underline font-bold whitespace-wrap break-words","target":"_blank","rel":"noopener noreferrer","children":"www.abc.com"}]," ）并申请好了域名解析和数字证书（.key 和 .pem 文件）:"]}]
76:["$","div","pre-20,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-json"]},"children":[{"type":"text","value":"server {\n    listen 443 ssl;\n    server_name localhost;  // 域名已经和ip绑定，写 localhost也是能解析的\n    ssl_certificate xxxx.pem;\n    ssl_certificate_key xxxx.key;\n    underscores_in_headers on; // 允许请求头出现下划线\n    root html;\n}\n"}],"position":{"start":{"line":461,"column":1,"offset":8636},"end":{"line":470,"column":4,"offset":8861}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"style":{},"children":["server "]}],["$","span","code-segment-2",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-3",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-5",{"style":{},"children":["    listen "]}],["$","span","code-segment-6",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["443"]}],["$","span","code-segment-7",{"style":{},"children":[" ssl;\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-9",{"style":{},"children":["    server_name localhost;  "]}],["$","span","code-segment-10",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 域名已经和ip绑定，写 localhost也是能解析的"]}],["$","span","code-segment-11",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],"    ssl_certificate xxxx.pem;\n",["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}],"    ssl_certificate_key xxxx.key;\n",["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}],["$","span","code-segment-17",{"style":{},"children":["    underscores_in_headers on; "]}],["$","span","code-segment-18",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 允许请求头出现下划线"]}],["$","span","code-segment-19",{"style":{},"children":["\n"]}],["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}],"    root html;\n","$L22b","$L22c","$L22d"]]}]}]}]
77:["$","h2","h2-10",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"11. 变量的使用"}]
78:["$","p","p-77",{"className":"mb-4 text-lg leading-relaxed","children":"跟其他技术的配置文件一样，nginx 也能使用变量："}]
79:["$","div","pre-21,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-json"]},"children":[{"type":"text","value":"location / { \n    set $name \"zhangsan\"; \n    return 200 \"$name\"; \n}\n"}],"position":{"start":{"line":477,"column":1,"offset":8906},"end":{"line":482,"column":4,"offset":8985}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"style":{},"children":["location / "]}],["$","span","code-segment-2",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-3",{"style":{},"children":[" \n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-5",{"style":{},"children":["    set $name "]}],["$","span","code-segment-6",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["\"zhangsan\""]}],["$","span","code-segment-7",{"style":{},"children":["; \n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-9",{"style":{},"children":["    return "]}],["$","span","code-segment-10",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["200"]}],["$","span","code-segment-11",{"style":{},"children":[" "]}],["$","span","code-segment-12",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["\"$name\""]}],["$","span","code-segment-13",{"style":{},"children":["; \n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],["$","span","code-segment-15",{"style":{},"children":[""]}],["$","span","code-segment-16",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]]]}]}]}]
7a:["$","p","p-78",{"className":"mb-4 text-lg leading-relaxed","children":"上面就设置了一个变量叫 name，并且直接返回 200 的请求，在页面上显示 name 的值。其格式是："}]
7b:["$","div","pre-22,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"set $变量名 变量值\n"}],"position":{"start":{"line":486,"column":1,"offset":9041},"end":{"line":488,"column":4,"offset":9063}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["set"]}],["$","span","code-segment-2",{"style":{},"children":[" $变量名 变量值"]}]]]}]}]}]
7c:["$","p","p-79",{"className":"mb-4 text-lg leading-relaxed","children":"当然了，nginx 也自带了一些变量，可以直接使用，比如："}]
7d:["$","ul","ul-9",{"className":"ml-4 list-disc mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":[["$","code","code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$$request","position":{"start":{"line":492,"column":3,"offset":9098},"end":{"line":492,"column":13,"offset":9108}}}],"position":{"start":{"line":492,"column":3,"offset":9098},"end":{"line":492,"column":13,"offset":9108}}},"children":"$$request"}],"  完整的原始的请求行，例如：GET /nginx/index?a=1&b=2 HTTP/1.1"]}],"\n",["$","li","li-1",{"className":"font-bold mb-2","children":[["$","code","code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$$request_uri","position":{"start":{"line":493,"column":3,"offset":9159},"end":{"line":493,"column":17,"offset":9173}}}],"position":{"start":{"line":493,"column":3,"offset":9159},"end":{"line":493,"column":17,"offset":9173}}},"children":"$$request_uri"}],"  完整的原始请求URI，访问的URL除去域名(或IP)和 port, 如: /nginx/index?a=1&b=2"]}],"\n",["$","li","li-2",{"className":"font-bold mb-2","children":[["$","code","code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$$args","position":{"start":{"line":494,"column":3,"offset":9235},"end":{"line":494,"column":10,"offset":9242}}}],"position":{"start":{"line":494,"column":3,"offset":9235},"end":{"line":494,"column":10,"offset":9242}}},"children":"$$args"}]," 请求行中的全部参数 例如：a=1&b=2"]}],"\n",["$","li","li-3",{"className":"font-bold mb-2","children":[["$","code","code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$$remote_addr","position":{"start":{"line":495,"column":3,"offset":9266},"end":{"line":495,"column":17,"offset":9280}}}],"position":{"start":{"line":495,"column":3,"offset":9266},"end":{"line":495,"column":17,"offset":9280}}},"children":"$$remote_addr"}]," 客户端ip地址"]}],"\n",["$","li","li-4",{"className":"font-bold mb-2","children":[["$","code","code-0",{"className":"bg-gray-100 px-1 py-0.5 rounded border border-black text-sm font-mono","node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$$remote_port","position":{"start":{"line":496,"column":3,"offset":9291},"end":{"line":496,"column":17,"offset":9305}}}],"position":{"start":{"line":496,"column":3,"offset":9291},"end":{"line":496,"column":17,"offset":9305}}},"children":"$$remote_port"}]," 客户端端口"]}],"\n"]}]
7e:["$","p","p-80",{"className":"mb-4 text-lg leading-relaxed","children":"..."}]
7f:["$","p","p-81",{"className":"mb-4 text-lg leading-relaxed","children":"nginx 配置文件的变量可以统一设置在文件的顶部，这样在整个文件中都可以使用同一个变量："}]
80:["$","div","pre-23,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"set $my_var \"hello\";\n"}],"position":{"start":{"line":502,"column":1,"offset":9365},"end":{"line":504,"column":4,"offset":9395}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["set"]}],["$","span","code-segment-2",{"style":{},"children":[" "]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["$$my_var"]}],["$","span","code-segment-4",{"style":{},"children":[" "]}],["$","span","code-segment-5",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["\"hello\""]}],["$","span","code-segment-6",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]]]}]}]}]
81:["$","p","p-82",{"className":"mb-4 text-lg leading-relaxed","children":"引申：变量值的计算"}]
82:["$","div","pre-24,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-json"]},"children":[{"type":"text","value":"location / { \n    set $my_var 10; \n    add_header X-Test $my_var; // 成功响应时，添加响应头\n    add_header X-Total $my_var*2; \n}\n"}],"position":{"start":{"line":508,"column":1,"offset":9408},"end":{"line":514,"column":4,"offset":9537}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"style":{},"children":["location / "]}],["$","span","code-segment-2",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-3",{"style":{},"children":[" \n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-5",{"style":{},"children":["    set $my_var "]}],["$","span","code-segment-6",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["10"]}],["$","span","code-segment-7",{"style":{},"children":["; \n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-9",{"style":{},"children":["    add_header X-Test $my_var; "]}],["$","span","code-segment-10",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 成功响应时，添加响应头"]}],["$","span","code-segment-11",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],["$","span","code-segment-13",{"style":{},"children":["    add_header X-Total $my_var*"]}],["$","span","code-segment-14",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["2"]}],["$","span","code-segment-15",{"style":{},"children":["; \n"]}],["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}],["$","span","code-segment-17",{"style":{},"children":[""]}],["$","span","code-segment-18",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]]]}]}]}]
83:["$","p","p-83",{"className":"mb-4 text-lg leading-relaxed","children":"上面的例子就是变量简单的数值计算。"}]
84:["$","h2","h2-11",{"className":"text-2xl font-bold mt-6 mb-3 border-l-4 border-yellow-400 pl-4","children":"12. 业务场景案例"}]
85:["$","h3","h3-2",{"className":"text-xl font-bold mt-4 mb-2","children":"案例一"}]
86:["$","ul","ul-10",{"className":"ml-4 list-disc mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":[["$","strong","strong-0",{"className":"font-black","children":"项目介绍"}],"：前端微服务项目"]}],"\n",["$","li","li-1",{"className":"font-bold mb-2","children":[["$","strong","strong-0",{"className":"font-black","children":"需求"}],"：各个子服务的部署，需要根据灰度系统传递过来的静态资源目录地址来动态切换转发地址"]}],"\n",["$","li","li-2",{"className":"font-bold mb-2","children":[["$","strong","strong-0",{"className":"font-black","children":"业务介绍"}],"：这是我参与的一个前端业务场景，访问微服务子应用时，微服务启动器会调用灰度系统接口获取当前登录用户的产品权限列表，并返回给前端打包好的前端页面静态资源地址。这个地址会根据用户权限和灰度策略变化。"]}],"\n"]}]
87:["$","p","p-84",{"className":"mb-4 text-lg leading-relaxed","children":"现在有上面一个工作，需要配置nginx来完成动态转发的工作，让用户看到不同版本的前端项目。"}]
88:["$","h4","h4-0",{"children":"解析"}]
89:["$","p","p-85",{"className":"mb-4 text-lg leading-relaxed","children":"可以使用一个变量来标识资源地址，在前端服务build的CI中修改这个配置文件，更改变量值。"}]
8a:["$","p","p-86",{"className":"mb-4 text-lg leading-relaxed","children":"一个示例："}]
8b:["$","div","pre-25,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-json"]},"children":[{"type":"text","value":"set $uri \"/root/web/vue/dist\";\n\nserver {\n    listen       80;  \n    server_name  www.test.com;  \n    location / {  \n        root   $uri; \n        index  index.html index.htm;\n    }\n}\n"}],"position":{"start":{"line":534,"column":1,"offset":9869},"end":{"line":545,"column":4,"offset":10063}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"style":{},"children":["set $uri "]}],["$","span","code-segment-2",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["\"/root/web/vue/dist\""]}],["$","span","code-segment-3",{"style":{},"children":[";\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],"\n",["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-7",{"style":{},"children":["server "]}],["$","span","code-segment-8",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-9",{"style":{},"children":["\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[4]}],["$","span","code-segment-11",{"style":{},"children":["    listen       "]}],["$","span","code-segment-12",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["80"]}],["$","span","code-segment-13",{"style":{},"children":[";  \n"]}],["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}],"    server_name  www.test.com;  \n",["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}],["$","span","code-segment-17",{"style":{},"children":["    location / "]}],["$","span","code-segment-18",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-19",{"style":{},"children":["  \n"]}],["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}],"        root   $uri; \n",["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}],"        index  index.html index.htm;\n","$L22e","$L22f","$L230","$L231","$L232","$L233","$L234"]]}]}]}]
8c:["$","p","p-87",{"className":"mb-4 text-lg leading-relaxed","children":"在 CI 中修改配置文件：set $uri \"/root/web/react/dist\"，重启 nginx 后即可。"}]
8d:["$","blockquote","blockquote-2",{"className":"bg-gray-100 p-4 border-l-4 border-black italic my-4","children":["\n",["$","p","p-0",{"className":"mb-4 text-lg leading-relaxed","children":"大家有更好的办法的话，可以在评论区讨论哦"}],"\n"]}]
8e:["$","h3","h3-3",{"className":"text-xl font-bold mt-4 mb-2","children":"案例二"}]
8f:["$","ul","ul-11",{"className":"ml-4 list-disc mb-4","children":["\n",["$","li","li-0",{"className":"font-bold mb-2","children":[["$","strong","strong-0",{"className":"font-black","children":"使用场景"}],"：在前端项目部署新版本后，用户没办法感知刷新，在不强制刷新的前提下，看到的仍然是旧版本。"]}],"\n",["$","li","li-1",{"className":"font-bold mb-2","children":[["$","strong","strong-0",{"className":"font-black","children":"需求"}],"：需要设置服务器配置，在前后端版本不一致时强制刷新"]}],"\n"]}]
90:["$","h4","h4-1",{"children":"解析"}]
91:["$","p","p-88",{"className":"mb-4 text-lg leading-relaxed","children":"这个问题有多种解决方式。"}]
92:["$","p","p-89",{"className":"mb-4 text-lg leading-relaxed","children":"可以配置 nginx，高速浏览器不要缓存："}]
93:["$","div","pre-26,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-json"]},"children":[{"type":"text","value":"location / {\n    add_header Cache-Control \"no-cache, must-revalidate\"\n}\n"}],"position":{"start":{"line":562,"column":1,"offset":10294},"end":{"line":566,"column":4,"offset":10377}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"style":{},"children":["location / "]}],["$","span","code-segment-2",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}],["$","span","code-segment-3",{"style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[2]}],["$","span","code-segment-5",{"style":{},"children":["    add_header Cache-Control "]}],["$","span","code-segment-6",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["\"no-cache, must-revalidate\""]}],["$","span","code-segment-7",{"style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[3]}],["$","span","code-segment-9",{"style":{},"children":[""]}],["$","span","code-segment-10",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]]]}]}]}]
94:["$","p","p-90",{"className":"mb-4 text-lg leading-relaxed","children":"或者配置强制浏览器缓存，常用的办法是添加hash或者版本号来让浏览器重新下载资源："}]
95:["$","div","pre-27,code-0",{"className":"my-4 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white","children":["$","div",null,{"node":{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"<link rel=\"stylesheet\" href=\"/css/main.css?version=v2\"\n"}],"position":{"start":{"line":570,"column":1,"offset":10422},"end":{"line":572,"column":4,"offset":10486}}},"style":{"background":"#ffffff","color":"hsl(230, 8%, 24%)","fontFamily":"\"Fira Code\", \"Fira Mono\", Menlo, Consolas, \"DejaVu Sans Mono\", monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"2","OTabSize":"2","tabSize":"2","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1.5rem","margin":0,"overflow":"auto","borderRadius":0,"fontSize":"0.875rem"},"children":["$","code",null,{"style":{"whiteSpace":"pre","fontFamily":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[1]}],["$","span","code-segment-1",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["<"]}],["$","span","code-segment-2",{"style":{},"children":["link rel"]}],["$","span","code-segment-3",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}],["$","span","code-segment-4",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["\"stylesheet\""]}],["$","span","code-segment-5",{"style":{},"children":[" href"]}],["$","span","code-segment-6",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}],["$","span","code-segment-7",{"className":"token","style":{"color":"hsl(119, 34%, 47%)"},"children":["\"/css/main.css?version=v2\""]}]]]}]}]}]
96:["$","$L235",null,{"children":["$","$236",null,{"name":"Next.MetadataOutlet","children":"$@237"}]}]
98:["$","span","code-segment-16",{"style":{},"children":["    worker_connections "]}]
99:["$","span","code-segment-17",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["1024"]}]
9a:["$","span","code-segment-18",{"style":{},"children":["; "]}]
9b:["$","span","code-segment-19",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 配置单个worker进程最大的连接数，nginx 默认连接数是1024"]}]
9c:["$","span","code-segment-20",{"style":{},"children":["\n"]}]
9d:["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[5]}]
9e:["$","span","code-segment-22",{"style":{},"children":[""]}]
9f:["$","span","code-segment-23",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
a0:["$","span","code-segment-24",{"style":{},"children":["\n"]}]
a1:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
a2:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
a3:["$","span","code-segment-28",{"style":{},"children":["http "]}]
a4:["$","span","code-segment-29",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
a5:["$","span","code-segment-30",{"style":{},"children":[" "]}]
a6:["$","span","code-segment-31",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 支持 http 协议访问的服务"]}]
a7:["$","span","code-segment-32",{"style":{},"children":["\n"]}]
a8:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
a9:["$","span","code-segment-34",{"style":{},"children":["    include      mime.types; "]}]
aa:["$","span","code-segment-35",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 当前目录下的配置的文件类型文件，使用默认即可。图片音频会自动解析给浏览器，不能解析的一律按照二进制流下载"]}]
ab:["$","span","code-segment-36",{"style":{},"children":["\n"]}]
ac:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
ad:["$","span","code-segment-38",{"style":{},"children":["    default_type  application/octet-stream; "]}]
ae:["$","span","code-segment-39",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 默认文件类型 二进制流下载"]}]
af:["$","span","code-segment-40",{"style":{},"children":["\n"]}]
b0:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
b1:["$","span","code-segment-42",{"style":{},"children":["    sendfile        on;  "]}]
b2:["$","span","code-segment-43",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 是否允许目标服务器绕过 nginx 服务器直接返回结果给用户"]}]
b3:["$","span","code-segment-44",{"style":{},"children":["\n"]}]
b4:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
b5:["$","span","code-segment-46",{"style":{},"children":["    keepalive_timeout  "]}]
b6:["$","span","code-segment-47",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["65"]}]
b7:["$","span","code-segment-48",{"style":{},"children":[";  "]}]
b8:["$","span","code-segment-49",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 超时时间"]}]
b9:["$","span","code-segment-50",{"style":{},"children":["\n"]}]
ba:["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[12]}]
bb:["$","span","line-number--13",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[13]}]
bc:["$","span","code-segment-54",{"style":{},"children":["    server "]}]
bd:["$","span","code-segment-55",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
be:["$","span","code-segment-56",{"style":{},"children":[" "]}]
bf:["$","span","code-segment-57",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 隶属于 http 的一个 服务器"]}]
c0:["$","span","code-segment-58",{"style":{},"children":["\n"]}]
c1:["$","span","line-number--14",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[14]}]
c2:["$","span","code-segment-60",{"style":{},"children":["        listen       "]}]
c3:["$","span","code-segment-61",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["10087"]}]
c4:["$","span","code-segment-62",{"style":{},"children":[";  "]}]
c5:["$","span","code-segment-63",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 端口"]}]
c6:["$","span","code-segment-64",{"style":{},"children":["\n"]}]
c7:["$","span","line-number--15",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[15]}]
c8:["$","span","code-segment-66",{"style":{},"children":["        server_name  localhost;  "]}]
c9:["$","span","code-segment-67",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 服务部署的ip地址，可以是域名"]}]
ca:["$","span","code-segment-68",{"style":{},"children":["\n"]}]
cb:["$","span","line-number--16",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[16]}]
cc:["$","span","code-segment-70",{"style":{},"children":["        charset utf"]}]
cd:["$","span","code-segment-71",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["-8"]}]
ce:["$","span","code-segment-72",{"style":{},"children":[";\n"]}]
cf:["$","span","line-number--17",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[17]}]
d0:["$","span","code-segment-74",{"style":{},"children":["        location / "]}]
d1:["$","span","code-segment-75",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
d2:["$","span","code-segment-76",{"style":{},"children":["  "]}]
d3:["$","span","code-segment-77",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 配置 uri"]}]
d4:["$","span","code-segment-78",{"style":{},"children":["\n"]}]
d5:["$","span","line-number--18",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[18]}]
d6:["$","span","code-segment-80",{"style":{},"children":["\t    root   /root/web/dist;  "]}]
d7:["$","span","code-segment-81",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 自定义的资源目录，可以是绝对目录；若前边不加 /, 则表示相对目录，相对的是 nginx 主目录"]}]
d8:["$","span","code-segment-82",{"style":{},"children":["\n"]}]
d9:["$","span","line-number--19",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[19]}]
da:["$","span","line-number--20",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[20]}]
db:["$","span","code-segment-86",{"style":{},"children":["        "]}]
dc:["$","span","code-segment-87",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
dd:["$","span","code-segment-88",{"style":{},"children":["\n"]}]
de:["$","span","line-number--21",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[21]}]
df:["$","span","line-number--22",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[22]}]
e0:["$","span","code-segment-92",{"style":{},"children":["        error_page  "]}]
e1:["$","span","code-segment-93",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["404"]}]
e2:["$","span","code-segment-94",{"style":{},"children":["             "]}]
e3:["$","span","code-segment-95",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["404"]}]
e4:["$","span","code-segment-96",{"style":{},"children":[".html;  "]}]
e5:["$","span","code-segment-97",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 404页面配置，相对路由"]}]
e6:["$","span","code-segment-98",{"style":{},"children":["\n"]}]
e7:["$","span","line-number--23",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[23]}]
e8:["$","span","code-segment-100",{"style":{},"children":["        error_page   "]}]
e9:["$","span","code-segment-101",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["500"]}]
ea:["$","span","code-segment-102",{"style":{},"children":[" "]}]
eb:["$","span","code-segment-103",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["502"]}]
ec:["$","span","code-segment-104",{"style":{},"children":[" "]}]
ed:["$","span","code-segment-105",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["503"]}]
ee:["$","span","code-segment-106",{"style":{},"children":[" "]}]
ef:["$","span","code-segment-107",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["504"]}]
f0:["$","span","code-segment-108",{"style":{},"children":["   50x.html; "]}]
f1:["$","span","code-segment-109",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 同上"]}]
f2:["$","span","code-segment-110",{"style":{},"children":["\n"]}]
f3:["$","span","line-number--24",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[24]}]
f4:["$","span","code-segment-112",{"style":{},"children":["        location = /50x.html "]}]
f5:["$","span","code-segment-113",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
f6:["$","span","code-segment-114",{"style":{},"children":["\n"]}]
f7:["$","span","line-number--25",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[25]}]
f8:["$","span","code-segment-116",{"style":{},"children":["            root   html;  "]}]
f9:["$","span","code-segment-117",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 50x 时，资源指向 html目录下寻找"]}]
fa:["$","span","code-segment-118",{"style":{},"children":["\n"]}]
fb:["$","span","line-number--26",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[26]}]
fc:["$","span","code-segment-120",{"style":{},"children":["        "]}]
fd:["$","span","code-segment-121",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
fe:["$","span","code-segment-122",{"style":{},"children":["\n"]}]
ff:["$","span","line-number--27",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[27]}]
100:["$","span","code-segment-124",{"style":{},"children":["        location = /"]}]
101:["$","span","code-segment-125",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["404"]}]
102:["$","span","code-segment-126",{"style":{},"children":[".html "]}]
103:["$","span","code-segment-127",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
104:["$","span","code-segment-128",{"style":{},"children":["\n"]}]
105:["$","span","line-number--28",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[28]}]
106:["$","span","code-segment-130",{"style":{},"children":["            root   html;  "]}]
107:["$","span","code-segment-131",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 同上"]}]
108:["$","span","code-segment-132",{"style":{},"children":["\n"]}]
109:["$","span","line-number--29",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[29]}]
10a:["$","span","code-segment-134",{"style":{},"children":["        "]}]
10b:["$","span","code-segment-135",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
10c:["$","span","code-segment-136",{"style":{},"children":["\n"]}]
10d:["$","span","line-number--30",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[30]}]
10e:["$","span","code-segment-138",{"style":{},"children":["    "]}]
10f:["$","span","code-segment-139",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
110:["$","span","code-segment-140",{"style":{},"children":[" "]}]
111:["$","span","code-segment-141",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// end server"]}]
112:["$","span","code-segment-142",{"style":{},"children":["\n"]}]
113:["$","span","line-number--31",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[31]}]
114:["$","span","code-segment-144",{"style":{},"children":[""]}]
115:["$","span","code-segment-145",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
116:["$","span","code-segment-146",{"style":{},"children":[" "]}]
117:["$","span","code-segment-147",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// end http"]}]
118:["$","span","code-segment-21",{"style":{},"children":["\n"]}]
119:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
11a:["$","span","code-segment-23",{"style":{},"children":[""]}]
11b:["$","span","code-segment-24",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
11c:["$","span","code-segment-25",{"style":{},"children":["\n"]}]
11d:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
11e:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
11f:["$","span","code-segment-29",{"style":{},"children":["server "]}]
120:["$","span","code-segment-30",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
121:["$","span","code-segment-31",{"style":{},"children":["\n"]}]
122:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
123:["$","span","code-segment-33",{"style":{},"children":["    listen       "]}]
124:["$","span","code-segment-34",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["8080"]}]
125:["$","span","code-segment-35",{"style":{},"children":[";  \n"]}]
126:["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[12]}]
127:["$","span","line-number--13",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[13]}]
128:["$","span","code-segment-39",{"style":{},"children":["    location / "]}]
129:["$","span","code-segment-40",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
12a:["$","span","code-segment-41",{"style":{},"children":["  \n"]}]
12b:["$","span","line-number--14",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[14]}]
12c:["$","span","line-number--15",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[15]}]
12d:["$","span","line-number--16",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[16]}]
12e:["$","span","code-segment-47",{"style":{},"children":["    "]}]
12f:["$","span","code-segment-48",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
130:["$","span","code-segment-49",{"style":{},"children":["\n"]}]
131:["$","span","line-number--17",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[17]}]
132:["$","span","code-segment-51",{"style":{},"children":[""]}]
133:["$","span","code-segment-52",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
134:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
135:["$","span","code-segment-27",{"style":{},"children":["    "]}]
136:["$","span","code-segment-28",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
137:["$","span","code-segment-29",{"style":{},"children":["\n"]}]
138:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
139:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
13a:["$","span","code-segment-33",{"style":{},"children":["    server "]}]
13b:["$","span","code-segment-34",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
13c:["$","span","code-segment-35",{"style":{},"children":["\n"]}]
13d:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
13e:["$","span","code-segment-37",{"style":{},"children":["        location / "]}]
13f:["$","span","code-segment-38",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
140:["$","span","code-segment-39",{"style":{},"children":["\n"]}]
141:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
142:["$","span","code-segment-41",{"style":{},"children":["            proxy_pass http"]}]
143:["$","span","code-segment-42",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
144:["$","span","code-segment-43",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["//my_server;"]}]
145:["$","span","code-segment-44",{"style":{},"children":["\n"]}]
146:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
147:["$","span","code-segment-46",{"style":{},"children":["        "]}]
148:["$","span","code-segment-47",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
149:["$","span","code-segment-48",{"style":{},"children":["\n"]}]
14a:["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[12]}]
14b:["$","span","code-segment-50",{"style":{},"children":["    "]}]
14c:["$","span","code-segment-51",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
14d:["$","span","code-segment-52",{"style":{},"children":["\n"]}]
14e:["$","span","line-number--13",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[13]}]
14f:["$","span","code-segment-54",{"style":{},"children":[""]}]
150:["$","span","code-segment-55",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
151:["$","span","code-segment-56",{"style":{},"children":["\n"]}]
152:["$","span","line-number--14",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[14]}]
153:["$","span","code-segment-24",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["8000"]}]
154:["$","span","code-segment-25",{"style":{},"children":[";\n"]}]
155:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
156:["$","span","code-segment-27",{"style":{},"children":["    "]}]
157:["$","span","code-segment-28",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
158:["$","span","code-segment-29",{"style":{},"children":["\n"]}]
159:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
15a:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
15b:["$","span","code-segment-33",{"style":{},"children":["    server "]}]
15c:["$","span","code-segment-34",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
15d:["$","span","code-segment-35",{"style":{},"children":["\n"]}]
15e:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
15f:["$","span","code-segment-37",{"style":{},"children":["        location / "]}]
160:["$","span","code-segment-38",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
161:["$","span","code-segment-39",{"style":{},"children":["\n"]}]
162:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
163:["$","span","code-segment-41",{"style":{},"children":["            proxy_pass http"]}]
164:["$","span","code-segment-42",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
165:["$","span","code-segment-43",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["//my_server;"]}]
166:["$","span","code-segment-44",{"style":{},"children":["\n"]}]
167:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
168:["$","span","code-segment-46",{"style":{},"children":["        "]}]
169:["$","span","code-segment-47",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
16a:["$","span","code-segment-48",{"style":{},"children":["\n"]}]
16b:["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[12]}]
16c:["$","span","line-number--13",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[13]}]
16d:["$","span","code-segment-52",{"style":{},"children":["        location ~.*\\.(js|png|jpg|svg|css)$ "]}]
16e:["$","span","code-segment-53",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
16f:["$","span","code-segment-54",{"style":{},"children":["  "]}]
170:["$","span","code-segment-55",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 静态资源"]}]
171:["$","span","code-segment-56",{"style":{},"children":["\n"]}]
172:["$","span","line-number--14",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[14]}]
173:["$","span","line-number--15",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[15]}]
174:["$","span","line-number--16",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[16]}]
175:["$","span","code-segment-62",{"style":{},"children":["        "]}]
176:["$","span","code-segment-63",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
177:["$","span","code-segment-64",{"style":{},"children":["\n"]}]
178:["$","span","line-number--17",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[17]}]
179:["$","span","code-segment-66",{"style":{},"children":["    "]}]
17a:["$","span","code-segment-67",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
17b:["$","span","code-segment-68",{"style":{},"children":["\n"]}]
17c:["$","span","line-number--18",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[18]}]
17d:["$","span","code-segment-70",{"style":{},"children":[""]}]
17e:["$","span","code-segment-71",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
17f:["$","span","code-segment-24",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":[".345"]}]
180:["$","span","code-segment-25",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":[".457"]}]
181:["$","span","code-segment-26",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
182:["$","span","code-segment-27",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["8000"]}]
183:["$","span","code-segment-28",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
184:["$","span","code-segment-29",{"style":{},"children":["\n"]}]
185:["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[6]}]
186:["$","span","code-segment-31",{"style":{},"children":["    "]}]
187:["$","span","code-segment-32",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
188:["$","span","code-segment-33",{"style":{},"children":["\n"]}]
189:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
18a:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
18b:["$","span","code-segment-37",{"style":{},"children":["    server "]}]
18c:["$","span","code-segment-38",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
18d:["$","span","code-segment-39",{"style":{},"children":["\n"]}]
18e:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
18f:["$","span","code-segment-41",{"style":{},"children":["        "]}]
190:["$","span","code-segment-42",{"className":"token dom","style":{"color":"hsl(221, 87%, 60%)"},"children":["location"]}]
191:["$","span","code-segment-43",{"style":{},"children":[" "]}]
192:["$","span","code-segment-44",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["/"]}]
193:["$","span","code-segment-45",{"style":{},"children":[" "]}]
194:["$","span","code-segment-46",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
195:["$","span","code-segment-47",{"style":{},"children":["\n"]}]
196:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
197:["$","span","code-segment-49",{"style":{},"children":["            rewrite "]}]
198:["$","span","code-segment-50",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["^"]}]
199:["$","span","code-segment-51",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["/"]}]
19a:["$","span","code-segment-52",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["("]}]
19b:["$","span","code-segment-53",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["["]}]
19c:["$","span","code-segment-54",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["0"]}]
19d:["$","span","code-segment-55",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["-"]}]
19e:["$","span","code-segment-56",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["9"]}]
19f:["$","span","code-segment-57",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["]"]}]
1a0:["$","span","code-segment-58",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["+"]}]
1a1:["$","span","code-segment-59",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[")"]}]
1a2:["$","span","code-segment-60",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["."]}]
1a3:["$","span","code-segment-61",{"className":"token property-access","style":{},"children":["html$"]}]
1a4:["$","span","code-segment-62",{"style":{},"children":[" "]}]
1a5:["$","span","code-segment-63",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["/"]}]
1a6:["$","span","code-segment-64",{"style":{},"children":["index"]}]
1a7:["$","span","code-segment-65",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["/"]}]
1a8:["$","span","code-segment-66",{"style":{},"children":["pageNum"]}]
1a9:["$","span","code-segment-67",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["="]}]
1aa:["$","span","code-segment-68",{"style":{},"children":["$$1 "]}]
1ab:["$","span","code-segment-69",{"className":"token control-flow","style":{"color":"hsl(301, 63%, 40%)"},"children":["break"]}]
1ac:["$","span","code-segment-70",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1ad:["$","span","code-segment-71",{"style":{},"children":["\n"]}]
1ae:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
1af:["$","span","code-segment-73",{"style":{},"children":["            proxy_pass http"]}]
1b0:["$","span","code-segment-74",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":[":"]}]
1b1:["$","span","code-segment-75",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["/"]}]
1b2:["$","span","code-segment-76",{"className":"token","style":{"color":"hsl(221, 87%, 60%)"},"children":["/"]}]
1b3:["$","span","code-segment-77",{"style":{},"children":["my_server"]}]
1b4:["$","span","code-segment-78",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":[";"]}]
1b5:["$","span","code-segment-79",{"style":{},"children":["\n"]}]
1b6:["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[12]}]
1b7:["$","span","code-segment-81",{"style":{},"children":["        "]}]
1b8:["$","span","code-segment-82",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
1b9:["$","span","code-segment-83",{"style":{},"children":["\n"]}]
1ba:["$","span","line-number--13",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[13]}]
1bb:["$","span","line-number--14",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[14]}]
1bc:["$","span","code-segment-87",{"style":{},"children":["    "]}]
1bd:["$","span","code-segment-88",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
1be:["$","span","code-segment-89",{"style":{},"children":["\n"]}]
1bf:["$","span","line-number--15",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[15]}]
1c0:["$","span","code-segment-91",{"style":{},"children":[""]}]
1c1:["$","span","code-segment-92",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
1c2:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
1c3:["$","span","code-segment-23",{"style":{},"children":["    interface eth01  "]}]
1c4:["$","span","code-segment-24",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 你机器上网卡的名字"]}]
1c5:["$","span","code-segment-25",{"style":{},"children":["\n"]}]
1c6:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
1c7:["$","span","code-segment-27",{"style":{},"children":["    virtual_router_id "]}]
1c8:["$","span","code-segment-28",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["33"]}]
1c9:["$","span","code-segment-29",{"style":{},"children":["  "]}]
1ca:["$","span","code-segment-30",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 虚拟路由id，主从要一样"]}]
1cb:["$","span","code-segment-31",{"style":{},"children":["\n"]}]
1cc:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
1cd:["$","span","code-segment-33",{"style":{},"children":["    priority "]}]
1ce:["$","span","code-segment-34",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["100"]}]
1cf:["$","span","code-segment-35",{"style":{},"children":[" "]}]
1d0:["$","span","code-segment-36",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 优先级高的机器就为 master"]}]
1d1:["$","span","code-segment-37",{"style":{},"children":["\n"]}]
1d2:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
1d3:["$","span","code-segment-39",{"style":{},"children":["    advert_int "]}]
1d4:["$","span","code-segment-40",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["1"]}]
1d5:["$","span","code-segment-41",{"style":{},"children":[" "]}]
1d6:["$","span","code-segment-42",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 间隔检测时间"]}]
1d7:["$","span","code-segment-43",{"style":{},"children":["\n"]}]
1d8:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
1d9:["$","span","code-segment-45",{"style":{},"children":["    authentication "]}]
1da:["$","span","code-segment-46",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1db:["$","span","code-segment-47",{"style":{},"children":["  "]}]
1dc:["$","span","code-segment-48",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 认证配置，同一组保持一致即可"]}]
1dd:["$","span","code-segment-49",{"style":{},"children":["\n"]}]
1de:["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[12]}]
1df:["$","span","line-number--13",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[13]}]
1e0:["$","span","code-segment-53",{"style":{},"children":["        auth_pass "]}]
1e1:["$","span","code-segment-54",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["1111"]}]
1e2:["$","span","code-segment-55",{"style":{},"children":["  \n"]}]
1e3:["$","span","line-number--14",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[14]}]
1e4:["$","span","code-segment-57",{"style":{},"children":["    "]}]
1e5:["$","span","code-segment-58",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
1e6:["$","span","code-segment-59",{"style":{},"children":["\n"]}]
1e7:["$","span","line-number--15",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[15]}]
1e8:["$","span","code-segment-61",{"style":{},"children":["    virtual_ipaddress "]}]
1e9:["$","span","code-segment-62",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
1ea:["$","span","code-segment-63",{"style":{},"children":["\n"]}]
1eb:["$","span","line-number--16",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[16]}]
1ec:["$","span","code-segment-65",{"style":{},"children":["        "]}]
1ed:["$","span","code-segment-66",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["192.168"]}]
1ee:["$","span","code-segment-67",{"style":{},"children":["."]}]
1ef:["$","span","code-segment-68",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["44.1"]}]
1f0:["$","span","code-segment-69",{"style":{},"children":["  "]}]
1f1:["$","span","code-segment-70",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 本台机器的虚拟地址"]}]
1f2:["$","span","code-segment-71",{"style":{},"children":["\n"]}]
1f3:["$","span","line-number--17",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[17]}]
1f4:["$","span","code-segment-73",{"style":{},"children":["    "]}]
1f5:["$","span","code-segment-74",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
1f6:["$","span","code-segment-75",{"style":{},"children":["\n"]}]
1f7:["$","span","line-number--18",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[18]}]
1f8:["$","span","code-segment-77",{"style":{},"children":[""]}]
1f9:["$","span","code-segment-78",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
1fa:["$","span","code-segment-22",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 从"]}]
1fb:["$","span","code-segment-23",{"style":{},"children":["\n"]}]
1fc:["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[7]}]
1fd:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
1fe:["$","span","code-segment-27",{"style":{},"children":["    virtual_router_id "]}]
1ff:["$","span","code-segment-28",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["33"]}]
200:["$","span","code-segment-29",{"style":{},"children":["\n"]}]
201:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
202:["$","span","code-segment-31",{"style":{},"children":["    priority "]}]
203:["$","span","code-segment-32",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["50"]}]
204:["$","span","code-segment-33",{"style":{},"children":[" "]}]
205:["$","span","code-segment-34",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 减低优先级"]}]
206:["$","span","code-segment-35",{"style":{},"children":["\n"]}]
207:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
208:["$","span","code-segment-37",{"style":{},"children":["    advert_int "]}]
209:["$","span","code-segment-38",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["1"]}]
20a:["$","span","code-segment-39",{"style":{},"children":["\n"]}]
20b:["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[11]}]
20c:["$","span","code-segment-41",{"style":{},"children":["    authentication "]}]
20d:["$","span","code-segment-42",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
20e:["$","span","code-segment-43",{"style":{},"children":[" \n"]}]
20f:["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[12]}]
210:["$","span","line-number--13",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[13]}]
211:["$","span","code-segment-47",{"style":{},"children":["        auth_pass "]}]
212:["$","span","code-segment-48",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["1111"]}]
213:["$","span","code-segment-49",{"style":{},"children":["  \n"]}]
214:["$","span","line-number--14",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[14]}]
215:["$","span","code-segment-51",{"style":{},"children":["    "]}]
216:["$","span","code-segment-52",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
217:["$","span","code-segment-53",{"style":{},"children":["\n"]}]
218:["$","span","line-number--15",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[15]}]
219:["$","span","code-segment-55",{"style":{},"children":["    virtual_ipaddress "]}]
21a:["$","span","code-segment-56",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["{"]}]
21b:["$","span","code-segment-57",{"style":{},"children":["\n"]}]
21c:["$","span","line-number--16",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[16]}]
21d:["$","span","code-segment-59",{"style":{},"children":["        "]}]
21e:["$","span","code-segment-60",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["192.168"]}]
21f:["$","span","code-segment-61",{"style":{},"children":["."]}]
220:["$","span","code-segment-62",{"className":"token","style":{"color":"hsl(35, 99%, 36%)"},"children":["44.1"]}]
221:["$","span","code-segment-63",{"style":{},"children":["  "]}]
222:["$","span","code-segment-64",{"className":"token","style":{"color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":["// 本台机器的虚拟地址"]}]
223:["$","span","code-segment-65",{"style":{},"children":["\n"]}]
224:["$","span","line-number--17",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[17]}]
225:["$","span","code-segment-67",{"style":{},"children":["    "]}]
226:["$","span","code-segment-68",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
227:["$","span","code-segment-69",{"style":{},"children":["\n"]}]
228:["$","span","line-number--18",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[18]}]
229:["$","span","code-segment-71",{"style":{},"children":[""]}]
22a:["$","span","code-segment-72",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
22b:["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"1.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[8]}]
22c:["$","span","code-segment-23",{"style":{},"children":[""]}]
22d:["$","span","code-segment-24",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
22e:["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[9]}]
22f:["$","span","code-segment-25",{"style":{},"children":["    "]}]
230:["$","span","code-segment-26",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
231:["$","span","code-segment-27",{"style":{},"children":["\n"]}]
232:["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","color":"hsl(230, 4%, 64%)","fontStyle":"italic"},"children":[10]}]
233:["$","span","code-segment-29",{"style":{},"children":[""]}]
234:["$","span","code-segment-30",{"className":"token","style":{"color":"hsl(230, 8%, 24%)"},"children":["}"]}]
237:null
